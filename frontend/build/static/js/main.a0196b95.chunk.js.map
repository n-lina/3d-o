{"version":3,"sources":["components/Navbar/NavbarElements.js","assets/complex-logo.png","components/Navbar/index.js","pages/landing.js","pages/about.js","pages/learn.js","assets/logo-bg.png","assets/strawberry-slider-big.png","pages/contact.js","assets/vase.png","assets/basket.png","assets/swan.png","assets/fig.PNG","models/VaseStore.js","models/PxModel.js","models/RowModel.js","models/DrawingSectionModel.js","models/ColoringForm.js","models/BasketStore.js","models/FigurineStore.js","models/SwanStore.js","models/RootStore.js","models/RootStoreContext.js","pages/create.js","pages/gallery.js","pages/browse.js","assets/paper.PNG","components/Wing/index.js","components/Swan/index.js","pages/create-swan.js","components/Vase/index.js","pages/create-vase.js","components/Basket/index.js","pages/create-basket.js","components/Figurine/index.js","pages/create-figurine.js","components/ResultVase/index.js","components/ResultFigurine/index.js","components/ResultBasket/index.js","assets/upper-banner.png","assets/lower-banner.png","pages/result.js","pages/index.js","components/Pixel/index.js","components/SpecialPixel/index.js","components/Row/index.js","components/SpecialRow/index.js","components/UntrackedPixel/index.js","components/UntrackedRow/index.js","components/TriangleSection/index.js","components/DrawingSection/index.js","components/OrigamiObject/index.js","assets/rim.png","assets/halfRim.png","assets/neck.png","components/Rim/index.js","components/UntrackedDrawingSection/index.js","components/UntrackedOrigamiObject/index.js","components/Bottom/index.js","components/Arm/index.js","components/BunnyOrHandle/index.js","components/Sphere/index.js","components/Appendages/index.js","pages/colouring.js","components/App.jsx","index.js"],"names":["Nav","styled","nav","NavLink","Link","PlainLink","NavMenu","FaBars","div","NavBtn","NavBtnLink","Navbar","to","style","height","margin","float","src","logo","alt","letterSpacing","marginRight","color","Landing","display","justifyContent","alignItems","About","Learn","Contact","backgroundImage","bg","backgroundPosition","className","straw","href","target","getCurvePointsNew","_pts","tension","numOfSegments","x","y","t1x","t2x","t1y","t2y","c1","c2","c3","c4","st","t","i","res","first_x","first_y","last_x","last_y","unshift","push","length","Math","pow","max","VaseStore","types","model","cm","dtop","d3","d2","d1","dbottom","dtop_h","d3_h","d2_h","d1_h","dbottom_h","top_rim","bottom_rim","flat_bottom","scale_h","default_color","tot_rows_per_section","optional","array","number","subsections","textures","string","modelDimensions","arms","ears","lid","top_handle","side_handles","actions","self","update_top_rim","update_bottom_rim","update_flat_bottom","update_units","units","update_height","update_dtop","update_d3","update_d2","update_d1","update_dbottom","update_d_heights","vals","storePic","picData","setDefaultColor","getDimensions","maxWidth","updateCurvedPts","broken","s_dtop_h","s_dbottom_h","scale_factor","s_dtop","s_dbottom","s_d1","s_d1_h","s_d2","s_d2_h","s_d3","s_d3_h","myPoints","points","new_pts","h","r","THREE","section_pts","broken_pts","broken_pts_three","lo","hi","temp","slice","curr_idx","j","slice_size","round","k","views","PxModel","pixelColor","oldColor","canChangeColor","inverted","setPixelColor","col","setOldColor","setCanChangeColor","val","setInverted","RowModel","rowData","offset","width","displayRowNum","preColor","addPx","create","setOffset","setWidth","setDisplayRowNum","DrawingSectionModel","drawingSectionData","increasing","addRow","setWidthHeight","w","setIncreasing","DEFAULT_PNG","fileName","type","html2CanvasOptions","saveAs","uri","filename","link","document","createElement","download","body","appendChild","click","removeChild","window","open","ColoringForm","selectedColor","defaultColor","oldDefault","preload","clear","mode","size","canvasPic","appendPic","swan_two_wings","coloringFormData","counter","totPcs","doneDefualt","msg","resultMsg","storeAppendPic","setColor","setModel","swan_one_wing","setMsg","result","preloadDefaultColor","clearAll","unsetClear","setMode","setPreload","exportComponent","node","appendage","current","Error","element","ReactDOM","findDOMNode","html2canvas","scrollY","useCORS","imageTimeout","backgroundColor","then","canvas","toDataURL","saveDiagram","addDrawingSection","addPc","updateCounter","oldCol","newCol","done","curr_val","parseInt","splice","String","updateCounterDefault","init","count","idx","getCurvePointsBasket","BasketStore","diameter","update_top_handle","update_side_handles","update_lid","update_diameter","sectionNum","s_diameter","s_diameter_h","FigurineStore","body_scale","body_height","tot_rows_head","update_ears","update_arms","d","tot_theta_len","theta_start","theta_len","divisions","s_dtop_bottom","getCurvePointsFigurine","SwanStore","top_scale","bottom_scale","height_scale","wings","texture","update_wings","swanBodyPts","s_bottom","s_top","getCurvePointsSwan","RootStore","props","vaseStore","coloringFormStore","basketStore","figStore","swanStore","RootStoreContext","React","createContext","RootStoreProvider","Provider","useStores","useContext","Create","useEffect","flexDirection","fig","vase","basket","swan","Gallery","Browse","delay","clickAction","console","log","replace","observer","vertices","purpose","my_vertices","useMemo","map","v","faces","onUpdate","geometry","computeFaceNormals","computeVertexNormals","z","verticesNeedUpdate","normalsNeedUpdate","image","grid","load","swan_pts","swan_body","args","PI","side","specular","shininess","bottom","rim_mesh","position","rotation","getX","angle","radius","cos","getY","sin","bottomRad","midRad","midHeight","topHeight","big_vertices","F_vertices","big_F_vertices","L_vertices","B_vertices","y_pos_wing","one_wing","shape","param","moveTo","lineTo","quadraticCurveTo","rad","depth","extrudeSettings","steps","bevelEnabled","neck_mesh","diameter_marker","useState","x_rot","changeXrot","y_rot","changeYrot","z_rot","changeZrot","dist","changeDist","handleKeyDown","event","key","min","preventDefault","addEventListener","removeEventListener","railStyle","borderRadius","Handle","handle","id","value","percent","getHandleProps","left","marginLeft","marginTop","zIndex","textAlign","cursor","fontFamily","fontSize","slider_diameter","rootStyle","domain","step","values","getRailProps","handles","bottom_rim_switch","onChange","options","label","selectedBackgroundColor","initialSelectedIndex","fontColor","optionBorderRadius","wings_switch","units_switch","background","camera","fov","aspect","near","far","intensity","overflow","marginBottom","onClick","top_rim_mesh","bottom_rim_mesh","flat_bottom_mesh","getInputMarker","dtop_marker","dbottom_marker","d1_marker","d2_marker","d3_marker","sliderStyle","MultiHandle","sliderHeight","slider_dtop","slider_d3","slider_d2","slider_d1","slider_dbottom","dSlider","top_rim_switch","flat_bottom_switch","curved_bottom","phi_len","CustomCircleCurve","scale","ty","tz","multiplyScalar","this","tube_scale","path","tube_rad","percent_lid","rad_lid","lid_dist","tan","deco_r","deco_dist","percent_sphere","rad_bottom","bottom_dist","lid_switch","bottom_switch","top_handle_switch","side_handles_switch","head_rad","head","bunny_ears","cat_ears","sphere_ears","bear_ears","tx","y_pos","half_side_len","bshape","ear_rad","arm_rad","x_pos","arms_switch","ears_switch","indexOf","itemsRef","useRef","insideRef","len","_","ref","el","texture_body","divs","getBrokenHeadPts","broken_head","modelStore","canvasRef","context","getContext","px_size","defaultCol","sec_width","sec_height","fillStyle","fillRect","last_idx","c","ResultFigurine","upperbanner","lowerbanner","Home","component","CreateSwan","CreateVase","CreateBasket","CreateFigurine","formObject","borderColor","substring","applyColor","onMouseEnter","onMouseLeave","onMouseOver","borderStyle","SpecialPixel","on","num","markerNum","rounded","paddingLeft","paddingRight","pixels","SpecialRow","specialTop","specialBottom","my_dict","wing","numPx","caption","elevation","firstRowDisplay","panelRef","rows","var_offset","displayNum","swanUpper","wing_width","remainder","chest_width","ceil","back_width","floor","wing1","wing2","chest","back","dimensions","objectRef","Array","fill","sTopCurr","sBottomCurr","curr","diff","distribute","spacing","0","1","2","spacing_arr","sections","Rim","full","circ","rim_image","half_rim_image","neck_image","arm","bunny","Bottom","flat","object","Arm","BunnyOrHandle","sz","w_sz","input_sz","Sphere","bottoms","rims","showInfo","setShowInfo","showPicker","setShowPicker","showPickerDefault","setShowPickerDefault","colorPaletteIdx","setColorIdx","dColorPaletteIdx","setDColorIdx","colorPalette","setColorPalette","dColorPalette","setDColorPalette","diagramRef","appendagesRef","myDimensions","absolute","myHeight","colorPicker","colors","triangle","onChangeComplete","search","hex","toString","toUpperCase","includes","new_palette","defaultColorPicker","paintByPixel","sprayPaint","logoObject","exportComponentAsPNG","backButton","nextButton","info","stats","sheets","sheetsString","pieces","colorEntry","innerZ","overflowX","overflowY","rootStore","App","Component","render","getElementById"],"mappings":"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","file":"static/js/main.a0196b95.chunk.js","sourcesContent":["import { FaBars } from 'react-icons/fa';\r\nimport { NavLink as Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport const Nav = styled.nav`\r\n  background: #D14240;\r\n  height: 80px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  // padding: 0.5rem calc((100vw - 4000px) / 2);\r\n  padding: 0.5rem;\r\n  z-index: 10;\r\n  border-radius: 30px 30px 30px 30px;\r\n\r\n  /* Third Nav */\r\n  /* justify-content: flex-start; */\r\n`;\r\n\r\nexport const NavLink = styled(Link)`\r\n  color: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  padding: 0 1rem;\r\n  // height: 70%;\r\n  cursor: pointer;\r\n  border-radius: 30px;\r\n  margin: 5px;\r\n  border-style: solid; \r\n  border-color: #D14240;\r\n\r\n  &:hover {\r\n    // transition: all 0.2s ease-in-out;\r\n    background: #FFE7EC;\r\n    color: red;\r\n    // height: 100%;\r\n    border-style: solid;\r\n    border-color: #FFE7EC;\r\n  }\r\n\r\n  &.active {\r\n    color: red;\r\n    background: #FFE7EC;\r\n    // height: 100%;\r\n    border-radius: 40px;\r\n    border-style: solid;\r\n    border-color: #FFE7EC;\r\n  }\r\n`;\r\n\r\nexport const PlainLink = styled(Link)`\r\n  text-decoration:none;\r\n`;\r\n\r\nexport const Bars = styled(FaBars)`\r\n  display: none;\r\n  color: #fff;\r\n\r\n  @media screen and (max-width: 768px) {\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    transform: translate(-100%, 75%);\r\n    font-size: 1.8rem;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const NavMenu = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: -24px;\r\n\r\n  /* Second Nav */\r\n  /* margin-right: 24px; */\r\n\r\n  /* Third Nav */\r\n  /* width: 100vw;\r\n  white-space: nowrap; */\r\n\r\n  @media screen and (max-width: 768px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const NavBtn = styled.nav`\r\n  display: flex;\r\n  align-items: center;\r\n  \r\n  // margin-right: 24px;\r\n\r\n  /* Third Nav */\r\n  /* justify-content: flex-end;\r\n  width: 80vw; */\r\n\r\n  @media screen and (max-width: 768px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const NavBtnLink = styled(Link)`\r\n  border-radius: 30px;\r\n  background: #256ce1;\r\n  // padding: 10px 22px;\r\n  color: #fff;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n  text-decoration: none;\r\n  width: 80px;\r\n  height: 50px;\r\n\r\n\r\n  /* Second Nav */\r\n  // margin-left: 24px;\r\n\r\n  &:hover {\r\n    transition: all 0.2s ease-in-out;\r\n    background: #fff;\r\n    color: #D14240;\r\n  }\r\n`;\r\n","export default __webpack_public_path__ + \"static/media/complex-logo.268ab665.png\";","import React from 'react';\r\nimport {\r\n  Nav,\r\n  NavLink,\r\n  Bars,\r\n  NavMenu,\r\n  NavBtn,\r\n  NavBtnLink, \r\n  PlainLink\r\n} from './NavbarElements';\r\nimport logo from \"../../assets/complex-logo.png\"\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <>\r\n      <Nav>\r\n        <PlainLink to='/'><img style={{height: 60, margin: 20, float: 'left'}}src={logo} alt='logo' /></PlainLink>\r\n        <PlainLink to='/'>\r\n          <p style ={{letterSpacing: 3, marginRight: 100, color:\"white\", float: 'left'}}>3d-o</p>\r\n        </PlainLink>\r\n        {/* <Bars /> */}\r\n        <NavMenu>\r\n          <NavLink to='/about'>\r\n            <p style ={{letterSpacing: 2}}>about</p>\r\n          </NavLink>\r\n          <NavLink to='/learn' >\r\n            <p style ={{letterSpacing: 2}}>learn</p>\r\n          </NavLink>\r\n          <NavLink to='/create'>\r\n            <p style ={{letterSpacing: 2}}>create</p>\r\n          </NavLink>\r\n          <NavLink to='/browse'>\r\n            <p style ={{letterSpacing: 2}}>browse</p>\r\n          </NavLink>\r\n          <NavLink to='/gallery'>\r\n            <p style ={{letterSpacing: 2}}>gallery</p>\r\n          </NavLink>\r\n          <NavLink to='/contact'>\r\n            <p style ={{letterSpacing: 2}}>contact</p>\r\n          </NavLink>\r\n          {/* Second Nav */}\r\n          {/* <NavBtnLink to='/sign-in'>Sign In</NavBtnLink> */}\r\n        </NavMenu>\r\n        {/* <NavBtn>\r\n          <NavBtnLink to='/signin'>Sign In</NavBtnLink>\r\n        </NavBtn> */}\r\n      </Nav>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\n\r\nconst Landing = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '90vh'\r\n      }}\r\n    >\r\n      <h1>Landing</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Landing;","import React from 'react';\r\n\r\nconst About = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '90vh'\r\n      }}\r\n    >\r\n      <h1>About</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import React from 'react';\r\n\r\nconst Learn = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '90vh'\r\n      }}\r\n    >\r\n      <h1>Learn</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Learn;","export default __webpack_public_path__ + \"static/media/logo-bg.1d8d140f.png\";","export default __webpack_public_path__ + \"static/media/strawberry-slider-big.9374e4ca.png\";","import React from 'react';\r\nimport bg from \"../assets/logo-bg.png\"\r\n// import bgOff from \"../assets/logo-bg-off.png\"\r\nimport straw from \"../assets/strawberry-slider-big.png\"\r\nimport \"./create-vase.css\"\r\n\r\nconst Contact = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        height: '486px',\r\n        backgroundImage: `url(${bg})`, \r\n        backgroundPosition: \"50%\"\r\n      }}\r\n    >\r\n      <div className=\"info-box\" >\r\n        <img src={straw} alt={\"\"} className =\"straw-l\"/>\r\n        <img src={straw} alt={\"\"} className =\"straw-m\"/>\r\n        <img src={straw} alt={\"\"} className =\"straw-r\"/>\r\n        <p className = \"app-name\">3d-o<br/>engineering x art</p>\r\n        <p className = \"name\"> lina nguyen </p>\r\n        <div className=\"left\">\r\n          <a href=\"/\" target=\"_blank\" className=\"link\">linkedin</a>\r\n          <br/>\r\n          <a href=\"/\" target=\"_blank\" className=\"link\">resume</a>\r\n        </div>\r\n        <div className=\"right\">\r\n          <a href=\"/\" target=\"_blank\" className=\"link\">github</a>\r\n          <br/>\r\n          <a href=\"/\" target=\"_blank\" className=\"link\">email</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n","export default __webpack_public_path__ + \"static/media/vase.19cb9836.png\";","export default __webpack_public_path__ + \"static/media/basket.6d6869d7.png\";","export default __webpack_public_path__ + \"static/media/swan.219c1002.png\";","export default __webpack_public_path__ + \"static/media/fig.3fd7ce23.PNG\";","import { types } from \"mobx-state-tree\";\r\nimport * as THREE from \"three\";\r\nimport React from \"react\"\r\n\r\nfunction getCurvePointsNew(_pts, tension, numOfSegments) {\r\n\r\n    var res = [],    // clone array\r\n        x, y,           // our x,y coords\r\n        t1x, t2x, t1y, t2y, // tension vectors\r\n        c1, c2, c3, c4,     // cardinal points\r\n        st, t, i;       // steps based on num. of segments\r\n\r\n    const first_x = _pts[0]\r\n    const first_y = _pts[1]\r\n    const last_x = _pts[8]\r\n    const last_y = _pts[9]\r\n\r\n    _pts.unshift(first_y)\r\n    _pts.unshift(first_x)\r\n    _pts.push(last_x)\r\n    _pts.push(last_y)\r\n\r\n    for (i=2; i < (_pts.length - 4); i+=2) {\r\n        for (t=0; t <= numOfSegments; t++) {\r\n\r\n            // calc tension vectors\r\n            t1x = (_pts[i+2] - _pts[i-2]) * tension;\r\n            t2x = (_pts[i+4] - _pts[i]) * tension;\r\n\r\n            t1y = (_pts[i+3] - _pts[i-1]) * tension;\r\n            t2y = (_pts[i+5] - _pts[i+1]) * tension;\r\n\r\n            // calc step\r\n            st = t / numOfSegments;\r\n\r\n            // calc cardinals\r\n            c1 =   2 * Math.pow(st, 3)  - 3 * Math.pow(st, 2) + 1; \r\n            c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2); \r\n            c3 =       Math.pow(st, 3)  - 2 * Math.pow(st, 2) + st; \r\n            c4 =       Math.pow(st, 3)  -     Math.pow(st, 2);\r\n\r\n            // calc x and y cords with common control vectors\r\n            x = c1 * _pts[i]    + c2 * _pts[i+2] + c3 * t1x + c4 * t2x;\r\n            y = c1 * _pts[i+1]  + c2 * _pts[i+3] + c3 * t1y + c4 * t2y;\r\n\r\n            //store points in array\r\n            res.push(x);\r\n            res.push(Math.max(y, 0.5));\r\n\r\n        }\r\n    }\r\n    return res;\r\n}\r\n\r\n// function getCurvePoints(pts, tension, isClosed, numOfSegments) {\r\n\r\n//     // use input value if provided, or use a default value   \r\n//     tension = (typeof tension != 'undefined') ? tension : 0.5;\r\n//     isClosed = isClosed ? isClosed : false;\r\n//     numOfSegments = numOfSegments ? numOfSegments : 16;\r\n\r\n//     var _pts = [], res = [],    // clone array\r\n//         x, y,           // our x,y coords\r\n//         t1x, t2x, t1y, t2y, // tension vectors\r\n//         c1, c2, c3, c4,     // cardinal points\r\n//         st, t, i;       // steps based on num. of segments\r\n\r\n//     // clone array so we don't change the original\r\n//     //\r\n//     _pts = pts.slice(0);\r\n\r\n//     // The algorithm require a previous and next point to the actual point array.\r\n//     // Check if we will draw closed or open curve.\r\n//     // If closed, copy end points to beginning and first points to end\r\n//     // If open, duplicate first points to befinning, end points to end\r\n//     if (isClosed) {\r\n//         _pts.unshift(pts[pts.length - 1]);\r\n//         _pts.unshift(pts[pts.length - 2]);\r\n//         _pts.unshift(pts[pts.length - 1]);\r\n//         _pts.unshift(pts[pts.length - 2]);\r\n//         _pts.push(pts[0]);\r\n//         _pts.push(pts[1]);\r\n//     }\r\n//     else {\r\n//         _pts.unshift(pts[1]);   //copy 1. point and insert at beginning\r\n//         _pts.unshift(pts[0]);\r\n//         _pts.push(pts[pts.length - 2]); //copy last point and append\r\n//         _pts.push(pts[pts.length - 1]);\r\n//     }\r\n\r\n//     // ok, lets start..\r\n\r\n//     // 1. loop goes through point array\r\n//     // 2. loop goes through each segment between the 2 pts + 1e point before and after\r\n//     for (i=2; i < (_pts.length - 4); i+=2) {\r\n//         for (t=0; t <= numOfSegments; t++) {\r\n\r\n//             // calc tension vectors\r\n//             t1x = (_pts[i+2] - _pts[i-2]) * tension;\r\n//             t2x = (_pts[i+4] - _pts[i]) * tension;\r\n\r\n//             t1y = (_pts[i+3] - _pts[i-1]) * tension;\r\n//             t2y = (_pts[i+5] - _pts[i+1]) * tension;\r\n\r\n//             // calc step\r\n//             st = t / numOfSegments;\r\n\r\n//             // calc cardinals\r\n//             c1 =   2 * Math.pow(st, 3)  - 3 * Math.pow(st, 2) + 1; \r\n//             c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2); \r\n//             c3 =       Math.pow(st, 3)  - 2 * Math.pow(st, 2) + st; \r\n//             c4 =       Math.pow(st, 3)  -     Math.pow(st, 2);\r\n\r\n//             // calc x and y cords with common control vectors\r\n//             x = c1 * _pts[i]    + c2 * _pts[i+2] + c3 * t1x + c4 * t2x;\r\n//             y = c1 * _pts[i+1]  + c2 * _pts[i+3] + c3 * t1y + c4 * t2y;\r\n\r\n//             //store points in array\r\n//             res.push(x);\r\n//             res.push(y);\r\n\r\n//         }\r\n//     }\r\n\r\n//     return res;\r\n// }\r\n\r\nconst VaseStore = types\r\n  .model(\"Vase\", {\r\n    cm: false,\r\n    dtop: 20,\r\n    d3: 10, \r\n    d2: 10, \r\n    d1: 35,\r\n    dbottom: 20, \r\n    dtop_h: 100, \r\n    d3_h: 90, \r\n    d2_h: 70, \r\n    d1_h: 50, \r\n    dbottom_h: 0, \r\n    height: 50,\r\n    top_rim: false, \r\n    bottom_rim: true, \r\n    flat_bottom: true, \r\n    scale_h: 36,\r\n    default_color: \"#FFFFFF\",\r\n    tot_rows_per_section: types.optional(types.array(types.number), [15,9,10,10,10]), // bottom to top \r\n    subsections: types.optional(types.array(types.array(types.number)),[[5,4],[3,2],[1],[0]]), \r\n    // vase has 4 sections, each may be made of 1+ drawing sections // bottom to top\r\n    // it's numbered like that so you can refer to the corresponding section in modelDimensions\r\n    textures: types.optional(types.array(types.string), []), // first idx = top, last idx = bottom of vase\r\n    modelDimensions: types.optional(types.array(types.array(types.number)), [[43, 10], [53, 10],[40,10],[28,9], [16,10], [24,5]]), // top to bottom\r\n    // unused, only for consistency: \r\n    arms: false, \r\n    ears: \"\", \r\n    lid: false, \r\n    top_handle: false, \r\n    side_handles: false, \r\n  })\r\n  .actions(self => ({\r\n    update_top_rim(top_rim){\r\n        self.top_rim = top_rim\r\n    },\r\n    update_bottom_rim(bottom_rim){\r\n        self.bottom_rim = bottom_rim\r\n    },\r\n    update_flat_bottom(flat_bottom){\r\n        self.flat_bottom = flat_bottom\r\n    },\r\n    update_units(units){\r\n        self.cm = units\r\n    },\r\n    update_height(height){\r\n        self.height = height\r\n    }, \r\n    update_dtop(dtop){\r\n        self.dtop = dtop\r\n    }, \r\n    update_d3(d3){\r\n        self.d3 = d3\r\n    }, \r\n    update_d2(d2){\r\n        self.d2 = d2\r\n    }, \r\n    update_d1(d1){\r\n        self.d1 = d1\r\n    }, \r\n    update_dbottom(dbottom){\r\n        self.dbottom = dbottom\r\n    },\r\n    update_d_heights(vals){\r\n        self.d3_h = vals[3]\r\n        self.d2_h = vals[2]\r\n        self.d1_h = vals[1]\r\n    },\r\n    storePic(picData){\r\n        self.textures.push(picData)\r\n        // console.log(picData)\r\n    },\r\n    setDefaultColor(color){\r\n        self.default_color = color\r\n    },\r\n    getDimensions() {\r\n        self.maxWidth = 53 // un hard code\r\n        return self.modelDimensions\r\n      },\r\n    updateCurvedPts(broken=false){\r\n        const s_dtop_h = self.scale_h/2\r\n        const s_dbottom_h = -1 * s_dtop_h\r\n        const scale_factor = self.scale_h/self.height\r\n    \r\n        const s_dtop = self.dtop * scale_factor\r\n        const s_dbottom = self.dbottom * scale_factor\r\n    \r\n        const s_d1 = self.d1 * scale_factor\r\n        const s_d1_h = (self.d1_h/100) * self.scale_h - s_dtop_h\r\n    \r\n        const s_d2 = self.d2 * scale_factor\r\n        const s_d2_h = (self.d2_h/100) * self.scale_h - s_dtop_h\r\n    \r\n        const s_d3 = self.d3 * scale_factor\r\n        const s_d3_h = (self.d3_h/100) * self.scale_h - s_dtop_h\r\n\r\n        var myPoints = [s_dbottom_h,s_dbottom/2, s_d1_h,s_d1/2,s_d2_h,s_d2/2, s_d3_h,s_d3/2, s_dtop_h,s_dtop/2]; \r\n        var tension = 0.4\r\n        var numOfSegments = 6\r\n        let points = [];\r\n        const new_pts = getCurvePointsNew(myPoints, tension, numOfSegments)\r\n        for (let i=0; i<new_pts.length; i+=2){\r\n            const h = new_pts[i]\r\n            const r = new_pts[i+1]\r\n            points.push( new THREE.Vector2(r, h));\r\n        }\r\n        if (!broken) return points\r\n        else{\r\n            let section_pts = []\r\n            let broken_pts = []\r\n            let broken_pts_three = []\r\n            let lo = 0 \r\n            let hi = 2\r\n            while (hi+3 < new_pts.length){\r\n                if (new_pts[hi] === new_pts[hi+2] && new_pts[hi+1] === new_pts[hi+3]){\r\n                    const temp = new_pts.slice(lo,hi+2)\r\n                    section_pts.push(temp)\r\n                    lo = hi + 2\r\n                }\r\n                hi += 2\r\n            }\r\n            section_pts.push(new_pts.slice(lo,new_pts.length))\r\n            for (let i=0; i<4; i+=1){ //section_pts.length = 4\r\n                let curr_idx = 0\r\n                for (let j=0; j<self.subsections[i].length; j+=1){\r\n                    if (self.subsections[i].length > 1){\r\n                        // console.log(self.modelDimensions[self.subsections[i][j]][1])\r\n                        let slice_size = Math.round((self.modelDimensions[self.subsections[i][j]][1] / self.tot_rows_per_section[i]) * (section_pts[i].length/2))\r\n                        slice_size = slice_size * 2\r\n                        const slice = section_pts[i].slice(curr_idx,curr_idx + slice_size+2)\r\n                        curr_idx += slice_size\r\n                        broken_pts.push(slice)\r\n                    } \r\n                    else {\r\n                        broken_pts.push(section_pts[i])\r\n                    }\r\n                }\r\n            }\r\n            for(let j=0; j<broken_pts.length; j+= 1){\r\n                let temp = []\r\n                for(let k = 0; k < broken_pts[j].length; k += 2){\r\n                    const h = broken_pts[j][k]\r\n                    const r = broken_pts[j][k+1]\r\n                    temp.push( new THREE.Vector2(r, h));\r\n                }\r\n                broken_pts_three.push(temp)\r\n            }\r\n            \r\n            return broken_pts_three\r\n        }\r\n    }\r\n  }))\r\n  .views(self => ({\r\n  }));\r\n\r\nexport default VaseStore;\r\n\r\nconst VaseContext = React.createContext();\r\n\r\nexport const VaseProvider = ({ children, store }) => {\r\n    return (\r\n      <VaseContext.Provider value={store}>{children}</VaseContext.Provider>\r\n    );\r\n  };\r\n\r\nexport const useVaseStore = () => React.useContext(VaseContext);\r\n\r\nexport const withVaseStore = (Component) => (props) => {\r\n    return <Component {...props} store={useVaseStore()} />;\r\n  };","import { types } from \"mobx-state-tree\";\r\n\r\nconst PxModel = types\r\n  .model(\"PxModel\", {\r\n    pixelColor: \"#FFFFFF\", \r\n    oldColor: \"#FFFFFE\", \r\n    canChangeColor: true, \r\n    inverted: false\r\n  })\r\n  .actions(self => ({\r\n    setPixelColor(col){\r\n      self.pixelColor = col\r\n    }, \r\n    setOldColor(col){\r\n      self.oldColor = col\r\n    }, \r\n    setCanChangeColor(val){\r\n      self.canChangeColor = val\r\n    }, \r\n    setInverted(val=true){\r\n      self.inverted = val\r\n    }\r\n  }))\r\n  .views(self => ({\r\n  }));\r\n\r\nexport default PxModel;\r\n","import { types } from \"mobx-state-tree\";\r\nimport PxModel from './PxModel'\r\n\r\nconst RowModel = types\r\n  .model(\"RowModel\", {\r\n    rowData: types.optional(types.array(PxModel), []),\r\n    offset: 0, \r\n    width: 0, \r\n    displayRowNum: 0,\r\n    preColor: \"#FFFFFF\"\r\n  })\r\n  .actions(self => ({\r\n    addPx(){\r\n      self.rowData.push(PxModel.create({oldColor: self.preColor, pixelColor: self.preColor}))\r\n    },\r\n    setOffset(val = 10.5){\r\n      self.offset = val\r\n    }, \r\n    setWidth(val){\r\n      self.width = val\r\n    }, \r\n    setDisplayRowNum(val){\r\n      self.displayRowNum = val\r\n    }\r\n  }))\r\n  .actions(self => ({ \r\n  }))\r\n  .views(self => ({\r\n  }));\r\n\r\nexport default RowModel;\r\n","import { types } from \"mobx-state-tree\";\r\nimport RowModel from './RowModel'\r\n\r\nconst DrawingSectionModel = types\r\n  .model(\"DrawingSectionModel\", {\r\n    drawingSectionData: types.optional(types.array(RowModel), []),\r\n    width: 0, \r\n    height: 0, \r\n    increasing: false, \r\n    preColor: \"#FFFFFF\"\r\n  })\r\n  .actions(self => ({\r\n    addRow(){\r\n      self.drawingSectionData.push(RowModel.create({preColor: self.preColor}))\r\n    }, \r\n    setWidthHeight(w, h){\r\n      self.width = w\r\n      self.height = h \r\n    }, \r\n    setIncreasing(val){\r\n      self.increasing = val\r\n    }\r\n  }))\r\n  .views(self => ({\r\n  }));\r\n\r\nexport default DrawingSectionModel;\r\n","import { types } from \"mobx-state-tree\";\r\nimport html2canvas from 'html2canvas';\r\nimport DrawingSectionModel from './DrawingSectionModel'\r\nimport ReactDOM from 'react-dom';\r\n\r\nconst fileType = {\r\n  PNG: 'image/png',\r\n  JPEG: 'image/jpeg',\r\n  PDF: 'application/pdf'\r\n};\r\n\r\nconst DEFAULT_PNG = {\r\n  fileName: '3do-diagram.png',\r\n  type: fileType.PNG,\r\n  html2CanvasOptions: {}\r\n};\r\n\r\nconst saveAs = (uri, filename) => {\r\n  const link = document.createElement('a');\r\n\r\n  if (typeof link.download === 'string') {\r\n      link.href = uri;\r\n      link.download = filename;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n  } else {\r\n      window.open(uri);\r\n  }\r\n};\r\n\r\nconst ColoringForm = types\r\n  .model(\"ColoringForm\", {\r\n    selectedColor: \"#FF0000\",\r\n    defaultColor: \"#FFFFFF\",\r\n    oldDefault: \"#FFFFFE\",\r\n    preload: false,\r\n    clear: false,\r\n    mode: false,\r\n    maxWidth: 53,\r\n    size: 32,\r\n    canvasPic: \"\",\r\n    appendPic: \"\",\r\n    model: \"vase\", // vase, swan, fig, basket\r\n    inverted: false,\r\n    swan_two_wings: false,\r\n    coloringFormData: types.optional(types.array(DrawingSectionModel), []), \r\n    counter: types.optional(types.array(types.array(types.string)), []),\r\n    totPcs: 0, \r\n    doneDefualt: false,\r\n    msg: \"error\", \r\n    resultMsg: \"error\"\r\n  })\r\n  .actions(self => ({\r\n    storePic(picData){\r\n      self.canvasPic = picData\r\n      return\r\n    }, \r\n    storeAppendPic(picData){\r\n      self.appendPic = picData\r\n      return\r\n    }\r\n  }))\r\n  .actions(self => ({ \r\n    setColor(col){\r\n      self.clear = false\r\n      self.selectedColor = col\r\n    },\r\n    setModel(model, swan_one_wing){\r\n      self.model = model\r\n      if (model === \"swan\"){\r\n        self.swan_two_wings = swan_one_wing\r\n      }\r\n    },\r\n    setMsg(result=false, msg=\"valid\"){\r\n      if (!result) self.msg = msg\r\n      else self.resultMsg = msg\r\n    },\r\n    preloadDefaultColor(col){\r\n      self.defaultColor = col\r\n      self.oldDefault = col\r\n    },\r\n    setDefaultColor(col){\r\n      self.doneDefualt = false\r\n      self.clear = false\r\n      self.oldDefault = self.defaultColor\r\n      self.defaultColor = col\r\n    },\r\n    clearAll(){\r\n      self.doneDefualt = false\r\n      if (self.defaultColor === \"#FFFFFF\"){\r\n        self.oldDefault = \"#FFFFFE\" \r\n        self.defaultColor = \"#FFFFFE\"\r\n      }\r\n      else {\r\n        self.oldDefault = \"#FFFFFF\" \r\n        self.defaultColor = \"#FFFFFF\"\r\n      }\r\n      self.clear = true\r\n    }, \r\n    unsetClear(){\r\n      self.clear = false\r\n    },\r\n    setMode(val){\r\n      self.clear = false\r\n      self.mode = val\r\n    }, \r\n    setInverted(val=true){\r\n      self.inverted = val\r\n    },\r\n    setPreload(val=true){\r\n      self.preload = val\r\n    },\r\n    exportComponent (node, appendage=false) {\r\n      if(!node.current) {\r\n          throw new Error(\"'node' must be a RefObject\")\r\n      }\r\n      const element = ReactDOM.findDOMNode(node.current);\r\n      return html2canvas(element, {\r\n          scrollY: -window.scrollY,\r\n          useCORS: true,\r\n          // ...html2CanvasOptions\r\n          imageTimeout: 0,\r\n          backgroundColor: \"#FFFFFF\"\r\n      }).then(canvas => {\r\n          // self.canvasPic = canvas.toDataURL(DEFAULT_PNG, 0.1)\r\n          appendage? self.storeAppendPic(canvas.toDataURL(DEFAULT_PNG, 0.1)): self.storePic(canvas.toDataURL(DEFAULT_PNG, 0.1))\r\n      });\r\n    },\r\n    saveDiagram () {\r\n      saveAs(self.canvasPic, \"3do-diagram\")\r\n      saveAs(self.appendPic, \"3do-diagram-appendages\")\r\n      self.resultMsg = \"error\"\r\n    },\r\n    addDrawingSection(){\r\n      self.coloringFormData.push(DrawingSectionModel.create({preColor: self.defaultColor}))\r\n    }, \r\n    addPc(){\r\n      self.totPcs += 1 \r\n    },\r\n    updateCounter(oldCol, newCol){\r\n      let done = false\r\n      for (let i = 0; i < self.counter.length; i++){\r\n        const curr_val = parseInt(self.counter[i][1])\r\n        if (self.counter[i][0] === oldCol){\r\n          if (curr_val <= 1){\r\n            self.counter.splice(i,1)\r\n          }\r\n          else self.counter[i][1] = String(curr_val - 1)\r\n        }\r\n      }\r\n      for (let i = 0; i < self.counter.length; i++){\r\n        const curr_val = parseInt(self.counter[i][1])\r\n        if (self.counter[i][0] === newCol){\r\n          done = true\r\n          self.counter[i][1] = String(curr_val + 1)\r\n        }\r\n      }\r\n      if (!done) {\r\n        self.counter.push([newCol, \"1\"])\r\n      }\r\n    }, \r\n    updateCounterDefault(init=false, clear=false){\r\n      if (self.doneDefualt) return\r\n      if (init) {\r\n        self.counter =[[self.defaultColor, String(self.totPcs)]]\r\n        if (clear) self.doneDefualt = true\r\n        return\r\n      }\r\n      let done = false\r\n      for (let i = 0; i < self.counter.length; i++){\r\n        if (self.counter[i][0] === self.oldDefault){\r\n          self.counter[i][0] = self.defaultColor\r\n          done = true\r\n        }\r\n      }\r\n      self.doneDefualt = true\r\n      if (!done) return\r\n      let count = 0 \r\n      let idx = 0\r\n      for (let i = 0; i < self.counter.length; i++){\r\n        if (self.counter[i][0] === self.defaultColor){\r\n          count += 1 \r\n          if (count === 1){\r\n            idx = i \r\n          }\r\n          else if (count === 2){ // merging by adding both to 1st encounter and deleting 2nd one\r\n            self.counter[idx][1] = String(parseInt(self.counter[idx][1]) + parseInt(self.counter[i][1]))\r\n            self.counter.splice(i,1)\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n  }))\r\n  .views(self => ({\r\n  }));\r\n\r\nexport default ColoringForm;\r\n","import { types } from \"mobx-state-tree\";\r\nimport * as THREE from \"three\";\r\nimport React from \"react\"\r\n\r\nfunction getCurvePointsBasket(_pts, tension, numOfSegments) {\r\n\r\n    var res = [],    // clone array\r\n        x, y,           // our x,y coords\r\n        t1x, t2x, t1y, t2y, // tension vectors\r\n        c1, c2, c3, c4,     // cardinal points\r\n        st, t, i;       // steps based on num. of segments\r\n\r\n    const first_x = _pts[0]\r\n    const first_y = _pts[1]\r\n    const last_x = _pts[4]\r\n    const last_y = _pts[5]\r\n\r\n    _pts.unshift(first_y)\r\n    _pts.unshift(first_x)\r\n    _pts.push(last_x)\r\n    _pts.push(last_y)\r\n\r\n    for (i=2; i < (_pts.length - 4); i+=2) {\r\n        for (t=0; t <= numOfSegments; t++) {\r\n\r\n            // calc tension vectors\r\n            t1x = (_pts[i+2] - _pts[i-2]) * tension;\r\n            t2x = (_pts[i+4] - _pts[i]) * tension;\r\n\r\n            t1y = (_pts[i+3] - _pts[i-1]) * tension;\r\n            t2y = (_pts[i+5] - _pts[i+1]) * tension;\r\n\r\n            // calc step\r\n            st = t / numOfSegments;\r\n\r\n            // calc cardinals\r\n            c1 =   2 * Math.pow(st, 3)  - 3 * Math.pow(st, 2) + 1; \r\n            c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2); \r\n            c3 =       Math.pow(st, 3)  - 2 * Math.pow(st, 2) + st; \r\n            c4 =       Math.pow(st, 3)  -     Math.pow(st, 2);\r\n\r\n            // calc x and y cords with common control vectors\r\n            x = c1 * _pts[i]    + c2 * _pts[i+2] + c3 * t1x + c4 * t2x;\r\n            y = c1 * _pts[i+1]  + c2 * _pts[i+3] + c3 * t1y + c4 * t2y;\r\n\r\n            //store points in array\r\n            res.push(x);\r\n            res.push(Math.max(0.5, y));\r\n\r\n        }\r\n    }\r\n    return res;\r\n}\r\n\r\nconst BasketStore = types\r\n  .model(\"Basket\", {\r\n    cm: false,\r\n    height: 20, \r\n    diameter: 34, \r\n    dtop: 20, \r\n    dbottom: 20,\r\n    top_rim: true, \r\n    bottom_rim: true, \r\n    lid: true, \r\n    top_handle: true, \r\n    side_handles: false, \r\n    scale_h: 15,\r\n    flat_bottom: false, \r\n    default_color: \"#FFFFFF\",\r\n    tot_rows_per_section: types.optional(types.array(types.number), [15,29]), // bottom to top \r\n    subsections: types.optional(types.array(types.array(types.number)),[[4,3],[2,1,0]]), \r\n    // basket has 2 sections, each may be made of 1+ drawing sections // bottom to top\r\n    // it's numbered like that so you can refer to the corresponding section in modelDimensions\r\n    textures: types.optional(types.array(types.string), []), // first idx = top, last idx = bottom of vase\r\n    modelDimensions: types.optional(types.array(types.array(types.number)), [[53,10],[40,10],[28,9],[16,10],[13,5]]),\r\n    // unused, only for consistency: \r\n    arms: false, \r\n    ears: \"\" \r\n  })\r\n  .actions(self => ({\r\n    update_top_rim(top_rim){\r\n        self.top_rim = top_rim\r\n    },\r\n    update_bottom_rim(bottom_rim){\r\n        self.bottom_rim = bottom_rim\r\n    },\r\n    update_top_handle(top_handle){\r\n        self.top_handle = top_handle\r\n    },\r\n    update_side_handles(side_handles){\r\n        self.side_handles = side_handles\r\n    },\r\n    update_lid(lid){\r\n        self.lid = lid \r\n    },\r\n    update_units(units){\r\n        self.cm = units\r\n    },\r\n    update_height(height){\r\n        self.height = height\r\n    }, \r\n    update_diameter(diameter){\r\n        self.diameter = diameter\r\n    }, \r\n    update_dtop(dtop){\r\n        self.dtop = dtop\r\n    }, \r\n    update_dbottom(dbottom){\r\n        self.dbottom = dbottom\r\n    }, \r\n    update_flat_bottom(val) {\r\n        self.flat_bottom = val\r\n    },\r\n    storePic(picData, sectionNum){\r\n        self.textures[sectionNum] = picData\r\n        // console.log(picData)\r\n    },\r\n    setDefaultColor(color){\r\n        self.default_color = color\r\n    },\r\n    getDimensions() {\r\n        self.maxWidth = 53\r\n        return self.modelDimensions\r\n    },\r\n    storePic(picData){\r\n        self.textures.push(picData)\r\n    },\r\n    setDefaultColor(color){\r\n        self.default_color = color\r\n    },\r\n    updateCurvedPts(broken=false){\r\n        const s_dtop_h = self.scale_h/2\r\n        const s_dbottom_h = -1 * s_dtop_h\r\n        const scale_factor = self.scale_h/self.height\r\n    \r\n        const s_dtop = self.dtop * scale_factor\r\n        const s_dbottom = self.dbottom * scale_factor\r\n    \r\n        const s_diameter = self.diameter * scale_factor\r\n        const s_diameter_h = 0\r\n\r\n        var myPoints = [s_dbottom_h,s_dbottom/2, s_diameter_h,s_diameter/2, s_dtop_h,s_dtop/2]; \r\n        var tension = 0.8\r\n        var numOfSegments = 10\r\n        let points = [];\r\n        const new_pts = getCurvePointsBasket(myPoints, tension, numOfSegments)\r\n        for (let i=0; i<new_pts.length; i+=2){\r\n            const h = new_pts[i]\r\n            const r = new_pts[i+1]\r\n            points.push( new THREE.Vector2(r, h));\r\n        }\r\n        if (!broken) return points\r\n        else{\r\n            let section_pts = []\r\n            let broken_pts = []\r\n            let broken_pts_three = []\r\n            let lo = 0 \r\n            let hi = 2\r\n            while (hi+3 < new_pts.length){\r\n                if (new_pts[hi] == new_pts[hi+2] && new_pts[hi+1] == new_pts[hi+3]){\r\n                    const temp = new_pts.slice(lo,hi+2)\r\n                    section_pts.push(temp)\r\n                    lo = hi + 2\r\n                }\r\n                hi += 2\r\n            }\r\n            section_pts.push(new_pts.slice(lo,new_pts.length))\r\n            for (let i=0; i<2; i+=1){ //section_pts.length = 4\r\n                let curr_idx = 0\r\n                for (let j=0; j<self.subsections[i].length; j+=1){\r\n                    if (self.subsections[i].length > 1){\r\n                        // console.log(self.modelDimensions[self.subsections[i][j]][1])\r\n                        let slice_size = Math.round((self.modelDimensions[self.subsections[i][j]][1] / self.tot_rows_per_section[i]) * (section_pts[i].length/2))\r\n                        slice_size = slice_size * 2\r\n                        const slice = section_pts[i].slice(curr_idx,curr_idx + slice_size+2)\r\n                        curr_idx += slice_size\r\n                        broken_pts.push(slice)\r\n                    } \r\n                    else {\r\n                        broken_pts.push(section_pts[i])\r\n                    }\r\n                }\r\n            }\r\n            for(let j=0; j<broken_pts.length; j+= 1){\r\n                let temp = []\r\n                for(let k = 0; k < broken_pts[j].length; k += 2){\r\n                    const h = broken_pts[j][k]\r\n                    const r = broken_pts[j][k+1]\r\n                    temp.push( new THREE.Vector2(r, h));\r\n                }\r\n                broken_pts_three.push(temp)\r\n            }\r\n            \r\n            return broken_pts_three\r\n        }\r\n    }\r\n  }))\r\n  .views(self => ({\r\n  }));\r\n\r\nexport default BasketStore;\r\n\r\nconst BasketContext = React.createContext();\r\n\r\nexport const BasketProvider = ({ children, store }) => {\r\n    return (\r\n      <BasketContext.Provider value={store}>{children}</BasketContext.Provider>\r\n    );\r\n  };\r\n\r\nexport const useBasketStore = () => React.useContext(BasketContext);\r\n\r\nexport const withBasketStore = (Component) => (props) => {\r\n    return <Component {...props} store={useBasketStore()} />;\r\n  };","import {types } from \"mobx-state-tree\";\r\nimport * as THREE from \"three\";\r\nimport React from \"react\"\r\n\r\nfunction getCurvePointsFigurine(_pts, tension, numOfSegments) {\r\n\r\n    var res = [],    // clone array\r\n        x, y,           // our x,y coords\r\n        t1x, t2x, t1y, t2y, // tension vectors\r\n        c1, c2, c3, c4,     // cardinal points\r\n        st, t, i;       // steps based on num. of segments\r\n\r\n    const first_x = _pts[0]\r\n    const first_y = _pts[1]\r\n    const last_x = _pts[4]\r\n    const last_y = _pts[5]\r\n\r\n    _pts.unshift(first_y)\r\n    _pts.unshift(first_x)\r\n    _pts.push(last_x)\r\n    _pts.push(last_y)\r\n\r\n    for (i=2; i < (_pts.length - 4); i+=2) {\r\n        for (t=0; t <= numOfSegments; t++) {\r\n\r\n            // calc tension vectors\r\n            t1x = (_pts[i+2] - _pts[i-2]) * tension;\r\n            t2x = (_pts[i+4] - _pts[i]) * tension;\r\n\r\n            t1y = (_pts[i+3] - _pts[i-1]) * tension;\r\n            t2y = (_pts[i+5] - _pts[i+1]) * tension;\r\n\r\n            // calc step\r\n            st = t / numOfSegments;\r\n\r\n            // calc cardinals\r\n            c1 =   2 * Math.pow(st, 3)  - 3 * Math.pow(st, 2) + 1; \r\n            c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2); \r\n            c3 =       Math.pow(st, 3)  - 2 * Math.pow(st, 2) + st; \r\n            c4 =       Math.pow(st, 3)  -     Math.pow(st, 2);\r\n\r\n            // calc x and y cords with common control vectors\r\n            x = c1 * _pts[i]    + c2 * _pts[i+2] + c3 * t1x + c4 * t2x;\r\n            y = c1 * _pts[i+1]  + c2 * _pts[i+3] + c3 * t1y + c4 * t2y;\r\n\r\n            //store points in array\r\n            res.push(x);\r\n            res.push(Math.max(0.5, y));\r\n\r\n        }\r\n    }\r\n    return res;\r\n}\r\n\r\nconst FigurineStore = types\r\n  .model(\"Figurine\", {\r\n    cm: false,\r\n    diameter: 13,\r\n    arms: true, \r\n    ears: \"bear\", // bear, bunny, cat, sphere\r\n    body_scale: 0.7,\r\n    body_height: 0.35,\r\n    default_color: \"#FFFFFF\",\r\n    textures: types.optional(types.array(types.string), []), // first idx = top, last idx = bottom of vase\r\n    tot_rows_head: 33,\r\n    modelDimensions: types.optional(types.array(types.array(types.number)), [[30,12],[40,11],[53,10],[40,10]]), // last = body\r\n    // unused, only for consistency: \r\n    flat_bottom: false, \r\n    top_rim: false, \r\n    bottom_rim: false, \r\n    lid: false, \r\n    top_handle: false, \r\n    side_handles: false, \r\n  })\r\n  .actions(self => ({\r\n    update_ears(val){\r\n        self.ears = val\r\n    },\r\n    update_arms(val){\r\n        self.arms = val\r\n    },\r\n    update_units(units){\r\n        self.cm = units\r\n    }, \r\n    update_diameter(d){\r\n        self.diameter = d\r\n    }, \r\n    storePic(picData, sectionNum){\r\n        self.textures[sectionNum] = picData\r\n        // console.log(picData)\r\n    },\r\n    getDimensions() {\r\n        self.maxWidth = 53\r\n        return self.modelDimensions\r\n    },\r\n    storePic(picData){\r\n        self.textures.push(picData)\r\n    },\r\n    setDefaultColor(color){\r\n        self.default_color = color\r\n    },\r\n    getBrokenHeadPts(tot_theta_len){\r\n        let theta_start = 0 \r\n        let theta_len = 0\r\n        let divisions = []\r\n        for (let i = 0; i < self.modelDimensions.length-1; i++){\r\n            const num_rows = self.modelDimensions[i][1]\r\n            const ratio = num_rows/self.tot_rows_head\r\n            theta_len = ratio * tot_theta_len\r\n            divisions.push([theta_start, theta_len])\r\n            theta_start += theta_len\r\n        }\r\n        return divisions\r\n    },\r\n    updateCurvedPts(){\r\n        const s_dtop_h = self.diameter * self.body_height\r\n        const s_dbottom_h = -1 * s_dtop_h\r\n\r\n        const s_dtop_bottom = self.diameter * self.body_scale\r\n\r\n        const s_diameter = self.diameter \r\n        const s_diameter_h = 0\r\n\r\n        var myPoints = [s_dbottom_h,s_dtop_bottom/2, s_diameter_h,s_diameter/2, s_dtop_h,s_dtop_bottom/2]; \r\n        var tension = 0.65\r\n        var numOfSegments = 10\r\n        let points = [];\r\n        const new_pts = getCurvePointsFigurine(myPoints, tension, numOfSegments)\r\n        for (let i=0; i<new_pts.length; i+=2){\r\n            const h = new_pts[i]\r\n            const r = new_pts[i+1]\r\n            points.push( new THREE.Vector2(r, h));\r\n        }\r\n        return points\r\n    },\r\n  }))\r\n  .views(self => ({\r\n  }));\r\n\r\nexport default FigurineStore;\r\n\r\nconst FigurineContext = React.createContext();\r\n\r\nexport const FigurineProvider = ({ children, store }) => {\r\n    return (\r\n      <FigurineContext.Provider value={store}>{children}</FigurineContext.Provider>\r\n    );\r\n  };\r\n\r\nexport const useFigurineStore = () => React.useContext(FigurineContext);\r\n\r\nexport const withFigurineStore = (Component) => (props) => {\r\n    return <Component {...props} store={useFigurineStore()} />;\r\n  };","import { types } from \"mobx-state-tree\";\r\nimport * as THREE from \"three\";\r\nimport React from \"react\"\r\n\r\nfunction getCurvePointsSwan(_pts, tension, numOfSegments) {\r\n\r\n    var res = [],    // clone array\r\n        x, y,           // our x,y coords\r\n        t1x, t2x, t1y, t2y, // tension vectors\r\n        c1, c2, c3, c4,     // cardinal points\r\n        st, t, i;       // steps based on num. of segments\r\n\r\n    const first_x = _pts[0]\r\n    const first_y = _pts[1]\r\n    const last_x = _pts[4]\r\n    const last_y = _pts[5]\r\n\r\n    _pts.unshift(first_y)\r\n    _pts.unshift(first_x)\r\n    _pts.push(last_x)\r\n    _pts.push(last_y)\r\n\r\n    for (i=2; i < (_pts.length - 4); i+=2) {\r\n        for (t=0; t <= numOfSegments; t++) {\r\n\r\n            // calc tension vectors\r\n            t1x = (_pts[i+2] - _pts[i-2]) * tension;\r\n            t2x = (_pts[i+4] - _pts[i]) * tension;\r\n\r\n            t1y = (_pts[i+3] - _pts[i-1]) * tension;\r\n            t2y = (_pts[i+5] - _pts[i+1]) * tension;\r\n\r\n            // calc step\r\n            st = t / numOfSegments;\r\n\r\n            // calc cardinals\r\n            c1 =   2 * Math.pow(st, 3)  - 3 * Math.pow(st, 2) + 1; \r\n            c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2); \r\n            c3 =       Math.pow(st, 3)  - 2 * Math.pow(st, 2) + st; \r\n            c4 =       Math.pow(st, 3)  -     Math.pow(st, 2);\r\n\r\n            // calc x and y cords with common control vectors\r\n            x = c1 * _pts[i]    + c2 * _pts[i+2] + c3 * t1x + c4 * t2x;\r\n            y = c1 * _pts[i+1]  + c2 * _pts[i+3] + c3 * t1y + c4 * t2y;\r\n\r\n            //store points in array\r\n            res.push(x);\r\n            res.push(Math.max(0.5, y));\r\n\r\n        }\r\n    }\r\n    return res;\r\n}\r\n\r\nconst SwanStore = types\r\n  .model(\"Swan\", {\r\n    cm: false,\r\n    diameter: 16,\r\n    body_height: 0.35,\r\n    top_scale: 1,\r\n    bottom_scale:0.6, \r\n    height_scale: 0.4,\r\n    default_color: \"#FFFFFF\", \r\n    wings: true, // true = two wings\r\n    bottom_rim: true,\r\n    texture: \"\", \r\n    modelDimensions: types.optional(types.array(types.array(types.number)), [[8, 2]]), // top to bottom\r\n    // unused, only for consistency: \r\n    flat_bottom: false,\r\n    top_rim: false, \r\n    arms: false, \r\n    ears: \"\", \r\n    lid: false, \r\n    top_handle: false, \r\n    side_handles: false, \r\n  })\r\n  .actions(self => ({\r\n    update_units(units){\r\n        self.cm = units\r\n    }, \r\n    update_wings(val){\r\n        self.wings = val\r\n    },\r\n    update_bottom_rim(val){\r\n        self.bottom_rim = val\r\n    },\r\n    update_diameter(d){\r\n        self.diameter = d\r\n    }, \r\n    storePic(picData){\r\n        self.texture = picData\r\n    },\r\n    setDefaultColor(color){\r\n        self.default_color = color\r\n    },\r\n    getDimensions() {\r\n        self.maxWidth = 53 // un hard code\r\n        // calculations\r\n        return self.modelDimensions\r\n    },\r\n    swanBodyPts(){\r\n        const s_dtop_h = self.diameter * self.height_scale\r\n        const s_dbottom_h = -1 * s_dtop_h * 0.8\r\n\r\n        const s_bottom = self.diameter * self.bottom_scale\r\n        const s_top = self.diameter * self.top_scale\r\n\r\n        const s_diameter = self.diameter \r\n        const s_diameter_h = 0\r\n\r\n        var myPoints = [s_dbottom_h,s_bottom/2, s_diameter_h,s_diameter/2, s_dtop_h,s_top/2]; \r\n        var tension = 0.65\r\n        var numOfSegments = 10\r\n        let points = [];\r\n        const new_pts = getCurvePointsSwan(myPoints, tension, numOfSegments)\r\n        for (let i=0; i<new_pts.length; i+=2){\r\n            const h = new_pts[i]\r\n            const r = new_pts[i+1]\r\n            points.push( new THREE.Vector2(r, h));\r\n        }\r\n        return points\r\n    }\r\n  }))\r\n  .views(self => ({\r\n  }));\r\n\r\nexport default SwanStore;\r\n\r\nconst SwanContext = React.createContext();\r\n\r\nexport const SwanProvider = ({ children, store }) => {\r\n    return (\r\n      <SwanContext.Provider value={store}>{children}</SwanContext.Provider>\r\n    );\r\n  };\r\n\r\nexport const useSwanStore = () => React.useContext(SwanContext);\r\n\r\nexport const withSwanStore = (Component) => (props) => {\r\n    return <Component {...props} store={useSwanStore()} />;\r\n  };","import VaseStore from \"./VaseStore\"\r\nimport ColoringForm from \"./ColoringForm\"\r\nimport BasketStore from \"./BasketStore\"\r\nimport FigurineStore from \"./FigurineStore\"\r\nimport SwanStore from \"./SwanStore\"\r\nimport { types } from \"mobx-state-tree\";\r\n\r\n/**\r\n * A RootStore model.\r\n */\r\n// prettier-ignore\r\nconst RootStore = types.model(\"RootStore\").props({\r\n  vaseStore: types.optional(VaseStore, {}),\r\n  coloringFormStore: types.optional(ColoringForm, {}),\r\n  basketStore: types.optional(BasketStore, {}),\r\n  figStore: types.optional(FigurineStore, {}),\r\n  swanStore: types.optional(SwanStore, {}),\r\n});\r\n\r\nexport default RootStore;\r\n\r\n","import React, { createContext, useContext } from \"react\";\r\nimport RootStore from \"./RootStore\";\r\n\r\n/**\r\n * Create a context we can use to\r\n * - Provide access to our stores from our root component\r\n * - Consume stores in our screens (or other components, though it's\r\n *   preferable to just connect screens)\r\n */\r\n// const RootStoreContext = createContext();\r\n\r\n// /**\r\n//  * The provider our root component will use to expose the root store\r\n//  */\r\n// export const RootStoreProvider = RootStoreContext.Provider;\r\n\r\n// /**\r\n//  * A hook that screens can use to gain access to our stores, with\r\n//  * `const { someStore, someOtherStore } = useStores()`,\r\n//  * or less likely: `const rootStore = useStores()`\r\n//  */\r\n// export const useStores = () => useContext(RootStoreContext);\r\n\r\n//------------------------------------------------------------------\r\n\r\nconst RootStoreContext = React.createContext();\r\n\r\nexport const RootStoreProvider = RootStoreContext.Provider;\r\n\r\n\r\n// export const RootStoreProvider = ({ children, store }) => {\r\n//     return (\r\n//       <RootStoreContext.Provider value={store}>{children}</RootStoreContext.Provider>\r\n//     );\r\n// };\r\n\r\nexport const useStores = () => React.useContext(RootStoreContext);\r\n","import React, {useEffect} from 'react';\r\nimport vase from \"../assets/vase.png\"\r\nimport basket from \"../assets/basket.png\"\r\nimport swan from \"../assets/swan.png\"\r\nimport fig from \"../assets/fig.PNG\"\r\nimport straw from \"../assets/strawberry-slider-big.png\"\r\nimport {\r\n  PlainLink\r\n} from '../components/Navbar/NavbarElements';\r\nimport \"./create.css\"\r\nimport {useStores} from \"../models/RootStoreContext\"\r\n\r\n\r\nconst Create = () => {\r\n\r\n  useEffect(() => {\r\n    coloringFormStore.setMsg(true, \"error\")\r\n  }, [])\r\n\r\n  const {coloringFormStore} = useStores()\r\n  \r\n  return (\r\n    <div>\r\n      <div className=\"holderTop\">\r\n      <img src={straw} alt={\"\"} className =\"leftS\"/>\r\n      <p className=\"create-text\">select a model</p>\r\n      <img src={straw} alt={\"\"} className =\"rightS\"/>\r\n      </div>\r\n      <div \r\n        style={{\r\n          flexDirection: 'row',\r\n          height: 'auto'\r\n        }}\r\n      >\r\n        <div className = \"holder\">\r\n          <PlainLink to=\"/create-figurine\">\r\n            <img alt={\"\"} src={fig} className=\"create-link\"/>\r\n            <p className=\"create-text\"> figurine </p>\r\n          </PlainLink>\r\n          <PlainLink to=\"/create-vase\">\r\n            <img alt={\"\"} src={vase} className=\"create-link\"/>\r\n            <p className=\"create-text\"> vase </p>\r\n          </PlainLink>\r\n          <PlainLink to=\"/create-basket\">\r\n            <img alt={\"\"} src={basket} className=\"create-link\"/>\r\n            <p className=\"create-text\"> basket </p>\r\n          </PlainLink>\r\n          <PlainLink to=\"/create-swan\">\r\n            <img alt={\"\"} src={swan} className=\"create-link\"/>\r\n            <p className=\"create-text\"> swan </p>\r\n          </PlainLink>\r\n        </div>\r\n        {/* <a style={{background: '#bfb', fontSize: '30px', margin: '30px'}} href=\"/create-swan\"> Swan </a>\r\n        <a style={{background: '#bcb', fontSize: '30px', margin: '30px'}} href=\"/create-vase\"> Vase </a>\r\n        <a style={{background: '#bdb', fontSize: '30px', margin: '30px'}} href=\"/create-basket\"> Basket </a>\r\n        <a style={{background: '#beb', fontSize: '30px', margin: '30px'}} href=\"/create-figurine\"> Figurine </a> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Create;","import React from 'react';\r\n\r\nconst Gallery = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '90vh'\r\n      }}\r\n    >\r\n      <h1>Gallery</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Gallery;","import React from 'react';\r\nimport DelayLink from 'react-delay-link';\r\nimport {useStores} from \"../models/RootStoreContext\"\r\n\r\n\r\nconst Browse = () => {\r\n  const {coloringFormStore, swanStore} = useStores();\r\n\r\n  // function loadColoringPage(model){\r\n  //   if (model === \"swan\"){\r\n  //     coloringFormStore.setPreload()\r\n  //     coloringFormStore.preloadDefaultColor(\"#000000\")\r\n  //     coloringFormStore.setModel(\"swan\", swanStore.wings)\r\n  //     // set swan dimensions so SwanStore can do the calcs to getDimensions\r\n  //   }\r\n  // }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '90vh'\r\n      }}\r\n    >\r\n    <DelayLink delay={0} to=\"/colouring\" clickAction={console.log(\"hi\")} replace={false}>\r\n      <h1>Browse</h1>\r\n    </DelayLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Browse;","export default __webpack_public_path__ + \"static/media/paper.2a44f726.PNG\";","import React, { useRef, useState, useMemo, useEffect} from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport * as THREE from \"three\";\r\nimport grid from \"../../assets/paper.PNG\";\r\n\r\nconst Wing = (props) => {\r\n    const {vertices, purpose} = props\r\n    const my_vertices = useMemo(() => vertices.map(v => new THREE.Vector3(...v)), [])\r\n\r\n    const faces = []\r\n    if (purpose == \"wing\"){\r\n        faces.push(\r\n            new THREE.Face3(17, 8, 7),\r\n            new THREE.Face3(16, 17, 7),\r\n            new THREE.Face3(16, 7, 6),\r\n            new THREE.Face3(15, 16, 6),\r\n            new THREE.Face3(15, 6, 5),\r\n            new THREE.Face3(14, 15, 5),\r\n            new THREE.Face3(14, 5, 4),\r\n            new THREE.Face3(13, 14, 4),\r\n            new THREE.Face3(13, 4, 3),\r\n            new THREE.Face3(12, 13, 3),\r\n            new THREE.Face3(12, 3, 2),\r\n            new THREE.Face3(11, 12, 2),\r\n            new THREE.Face3(11, 2, 1),\r\n            new THREE.Face3(10, 11, 1),\r\n            new THREE.Face3(10, 1, 0),\r\n            new THREE.Face3(9, 10, 0),\r\n            // top row \r\n            new THREE.Face3(18, 17, 16),\r\n            new THREE.Face3(18, 16, 15),\r\n            new THREE.Face3(18, 15, 14),\r\n            new THREE.Face3(18, 14, 13),\r\n            new THREE.Face3(18, 13, 12),\r\n            new THREE.Face3(18, 12, 11),\r\n            new THREE.Face3(18, 11, 10),\r\n            new THREE.Face3(18, 10, 9),\r\n        )\r\n    }\r\n    else if (purpose == \"front-back\"){\r\n        faces.push(\r\n            new THREE.Face3(5, 4, 3),\r\n            new THREE.Face3(5, 3, 2),\r\n            new THREE.Face3(5, 2, 1),\r\n            new THREE.Face3(5, 1, 0),\r\n        )\r\n    }\r\n\r\n    else if (purpose == \"one-wing\"){\r\n        faces.push(\r\n            new THREE.Face3(9, 8, 7),\r\n            new THREE.Face3(9, 7, 6),\r\n            new THREE.Face3(9, 6, 5),\r\n            new THREE.Face3(9, 5, 4),\r\n            new THREE.Face3(9, 4, 3),\r\n            new THREE.Face3(9, 3, 2),\r\n            new THREE.Face3(9, 2, 1),\r\n            new THREE.Face3(9, 1, 0),\r\n        )\r\n    }\r\n\r\n    // const uvs = [[\r\n    //     // front\r\n    //     [ new THREE.Vector2(0, 0), new THREE.Vector2(1, 1), new THREE.Vector2(0, 1) ],\r\n    //     [ new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1) ],\r\n    //     // right\r\n    //     [ new THREE.Vector2(0, 0), new THREE.Vector2(1, 1), new THREE.Vector2(0, 1) ],\r\n    //     [ new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1) ],\r\n    //     // back\r\n    //     [ new THREE.Vector2(0, 0), new THREE.Vector2(1, 1), new THREE.Vector2(0, 1) ],\r\n    //     [ new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1) ],\r\n    //     // left\r\n    //     [ new THREE.Vector2(0, 0), new THREE.Vector2(1, 1), new THREE.Vector2(0, 1) ],\r\n    //     [ new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1) ],\r\n    //     // top\r\n    //     [ new THREE.Vector2(0, 0), new THREE.Vector2(1, 1), new THREE.Vector2(0, 1) ],\r\n    //     [ new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1) ],\r\n    //     // bottom\r\n    //     [ new THREE.Vector2(0, 0), new THREE.Vector2(1, 1), new THREE.Vector2(0, 1) ],\r\n    //     [ new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1) ],\r\n    // ]]\r\n\r\n    function update(geometry){\r\n        geometry.computeFaceNormals()\r\n        geometry.computeVertexNormals();\r\n        for (let i = 0; i < geometry.vertices.length; i++){\r\n            geometry.vertices[i].x = vertices[i][0]\r\n            geometry.vertices[i].y = vertices[i][1]\r\n            geometry.vertices[i].z = vertices[i][2]\r\n        }\r\n        geometry.verticesNeedUpdate = true\r\n        geometry.normalsNeedUpdate = true;\r\n    }\r\n\r\n    return (\r\n        // <geometry vertices={my_vertices} faces={faces} faceVertexUVs={uvs} onUpdate={update}/>\r\n        <geometry vertices={my_vertices} faces={faces} onUpdate={update}/>\r\n    )\r\n  }\r\n\r\nexport default observer(Wing);","import React, { useRef, useState, useMemo, useEffect} from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport * as THREE from \"three\";\r\nimport grid from \"../../assets/paper.PNG\";\r\nimport Wing from \"../Wing\"\r\n\r\nconst Swan = (props) => {\r\n    const {swanStore, result} = props\r\n    const image = result ? swanStore.texture : grid\r\n    const texture = useMemo(() => new THREE.TextureLoader().load(image), []) \r\n\r\n    function getInputMarker(rad, height){\r\n        return (\r\n            <mesh position = {[0,height,0]}>\r\n                <cylinderGeometry args={[rad, rad, 0.25, 40, 1, true,0, Math.PI * 2]}/>\r\n                <meshPhongMaterial color=\"red\" />\r\n            </mesh>\r\n        )\r\n    }\r\n\r\n    const swan_pts = swanStore.swanBodyPts()\r\n\r\n    const swan_body = \r\n    <group>\r\n        <mesh >\r\n            <latheGeometry args={[swan_pts, 30, 0, 2*Math.PI]}/>\r\n            <meshPhongMaterial map = {texture}  side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n        </mesh>\r\n        <mesh>\r\n            <latheGeometry args={[swan_pts, 30, 0, 2*Math.PI]}/>\r\n            <meshPhongMaterial map = {texture}  side = {THREE.BackSide} />\r\n        </mesh>\r\n    </group>\r\n\r\n    const bottom = swanStore.diameter * swanStore.height_scale * 0.8 * -1\r\n    const rim_mesh = <mesh position = {[0,bottom-0.1,0]} rotation = {[1.57,0,0]}> \r\n    <torusGeometry args={[(swanStore.diameter * swanStore.bottom_scale/2)+0.1, swanStore.diameter/70, 10, 50]}/>\r\n    <meshPhongMaterial color={result? swanStore.default_color : \"#FF7E98\"} />\r\n    </mesh>\r\n\r\n    function getX(angle, radius){\r\n        return  radius * Math.cos(angle)\r\n    }\r\n\r\n    function getY(angle, radius){\r\n        return radius * Math.sin(angle)\r\n    }\r\n\r\n    const bottomRad = swanStore.diameter * swanStore.top_scale * 0.5\r\n    const midRad = swanStore.diameter * swanStore.top_scale * 0.5 * 0.73\r\n    const midHeight = swanStore.diameter * swanStore.height_scale * 1.7 * 0.5\r\n    const topHeight = swanStore.diameter * swanStore.height_scale * 1.9\r\n\r\n    const vertices =\r\n    [\r\n        // bottom row\r\n        [getX(Math.PI/2.8, bottomRad), 0, getY(Math.PI/2.8, bottomRad)],  // 0\r\n        [getX(Math.PI/3.7, bottomRad), 0, getY(Math.PI/3.7, bottomRad)],  // 1\r\n        [getX(Math.PI/6, bottomRad), 0, getY(Math.PI/6, bottomRad)],  // 2\r\n        [getX(Math.PI/12, bottomRad), 0, getY(Math.PI/12, bottomRad)],  // 3\r\n        [getX(0, bottomRad), 0, getY(0, bottomRad)],  // 4\r\n        [getX(Math.PI/12, bottomRad), 0, -getY(Math.PI/12, bottomRad)],  // 5\r\n        [getX(Math.PI/6, bottomRad), 0, -getY(Math.PI/6, bottomRad)],  // 6\r\n        [getX(Math.PI/3.7, bottomRad), 0, -getY(Math.PI/3.7, bottomRad)],  // 7\r\n        [getX(Math.PI/2.8, bottomRad), 0, -getY(Math.PI/2.8, bottomRad)],  // 8\r\n        // middle row\r\n        [getX(Math.PI/2.8, midRad), midHeight, getY(Math.PI/2.8, midRad)],  // 9\r\n        [getX(Math.PI/3.7, midRad), midHeight, getY(Math.PI/3.7, midRad)],  // 10\r\n        [getX(Math.PI/6, midRad), midHeight, getY(Math.PI/6, midRad)],  // 11\r\n        [getX(Math.PI/12, midRad), midHeight, getY(Math.PI/12, midRad)],  // 12\r\n        [getX(0, midRad), midHeight, getY(0, midRad)],  // 13\r\n        [getX(Math.PI/12, midRad), midHeight, -getY(Math.PI/12, midRad)],  // 14\r\n        [getX(Math.PI/6, midRad), midHeight, -getY(Math.PI/6, midRad)],  // 15\r\n        [getX(Math.PI/3.7, midRad), midHeight, -getY(Math.PI/3.7, midRad)],  // 16\r\n        [getX(Math.PI/2.8, midRad), midHeight, -getY(Math.PI/2.8, midRad)],  // 17\r\n        // heights\r\n        [bottomRad/6, topHeight, 0]  // 18\r\n    ];\r\n\r\n    const big_vertices = \r\n    [\r\n        [-getX(-Math.PI/6, bottomRad), 0, -getY(-Math.PI/6, bottomRad)],  // 0\r\n        [-getX(0, bottomRad), 0, -getY(0, bottomRad)],  // 1\r\n        [-getX(Math.PI/8, bottomRad), 0, -getY(Math.PI/8, bottomRad)],  // 2\r\n        [-getX(5*Math.PI/16, bottomRad), 0, -getY(5*Math.PI/16, bottomRad)],  // 3        \r\n        [getX(Math.PI/2, bottomRad), 0, -getY(Math.PI/2, bottomRad)],  // 4\r\n        [getX(5*Math.PI/16, bottomRad), 0, -getY(5*Math.PI/16, bottomRad)],  // 5  \r\n        [getX(Math.PI/8, bottomRad), 0, -getY(Math.PI/8, bottomRad)],  // 6\r\n        [getX(0, bottomRad), 0, -getY(0, bottomRad)],  // 7\r\n        [getX(-Math.PI/6, bottomRad), 0, -getY(-Math.PI/6, bottomRad)],  // 8\r\n        [0, topHeight*1.1, -bottomRad*1.25]  // 9\r\n    ];\r\n\r\n    const F_vertices = [\r\n        // bottom row\r\n        [-getX(Math.PI/2.8, bottomRad), 0, getY(Math.PI/2.8, bottomRad)],  // 0\r\n        [-getX(Math.PI/2.4, bottomRad), 0, getY(Math.PI/2.4, bottomRad)],  // 1\r\n        [getX(Math.PI/2, bottomRad), 0, getY(Math.PI/2, bottomRad)],  // 2\r\n        [getX(Math.PI/2.4, bottomRad), 0, getY(Math.PI/2.4, bottomRad)],  // 3\r\n        [getX(Math.PI/2.8, bottomRad), 0, getY(Math.PI/2.8, bottomRad)],  // 4\r\n        [0, topHeight/3, bottomRad/1.3]  // 5\r\n    ];\r\n\r\n    const big_F_vertices = [\r\n        // bottom row\r\n        [-getX(Math.PI/4, bottomRad), 0, getY(Math.PI/4, bottomRad)],  // 0\r\n        [-getX(Math.PI/3, bottomRad), 0, getY(Math.PI/3, bottomRad)],  // 1\r\n        [getX(Math.PI/2, bottomRad), 0, getY(Math.PI/2, bottomRad)],  // 2\r\n        [getX(Math.PI/3, bottomRad), 0, getY(Math.PI/3, bottomRad)],  // 3\r\n        [getX(Math.PI/4, bottomRad), 0, getY(Math.PI/4, bottomRad)],  // 4\r\n        [0, topHeight/1.7, bottomRad/1.8]  // 5\r\n    ];\r\n\r\n    const L_vertices = []\r\n    for (let i = 0; i < vertices.length; i++){\r\n        let temp = []\r\n        temp.push(-1 * vertices[i][0],vertices[i][1],vertices[i][2])\r\n        L_vertices.push(temp)\r\n    }\r\n\r\n    const B_vertices = []\r\n    for (let i = 0; i < F_vertices.length-1; i++){\r\n        let temp = []\r\n        temp.push(F_vertices[i][0],F_vertices[i][1], -1 * F_vertices[i][2])\r\n        B_vertices.push(temp)\r\n    }\r\n    B_vertices.push([0, topHeight/4, -bottomRad * 1.1])\r\n\r\n    const y_pos_wing = swanStore.diameter * swanStore.height_scale\r\n    const wings = \r\n    <group>\r\n        <mesh position={[0,y_pos_wing,0]}>\r\n            <Wing vertices={vertices} purpose={\"wing\"}/>\r\n            <meshPhongMaterial color={swanStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26} />\r\n        </mesh>\r\n        <mesh position={[0,y_pos_wing,0]}>\r\n            <Wing vertices={vertices} purpose={\"wing\"}/>\r\n            <meshPhongMaterial color={swanStore.default_color} side={THREE.BackSide} />\r\n        </mesh>\r\n        <mesh position={[0,y_pos_wing,0]}>\r\n            <Wing vertices={L_vertices} purpose={\"wing\"}/>\r\n            <meshPhongMaterial color={swanStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26} />\r\n        </mesh>\r\n        <mesh position={[0,y_pos_wing,0]}>\r\n            <Wing vertices={L_vertices} purpose={\"wing\"}/>\r\n            <meshPhongMaterial color={swanStore.default_color} side={THREE.BackSide} />\r\n        </mesh>\r\n        <mesh position={[0,y_pos_wing,0]}>\r\n            <Wing vertices={F_vertices} purpose={\"front-back\"}/>\r\n            <meshPhongMaterial color={swanStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26} />\r\n        </mesh>\r\n        <mesh position={[0,y_pos_wing,0]}>\r\n            <Wing vertices={F_vertices} purpose={\"front-back\"}/>\r\n            <meshPhongMaterial color={swanStore.default_color} side={THREE.BackSide} />\r\n        </mesh>\r\n        <mesh position={[0,y_pos_wing,0]}>\r\n            <Wing vertices={B_vertices} purpose={\"front-back\"}/>\r\n            <meshPhongMaterial color={swanStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26} />\r\n        </mesh>\r\n        <mesh position={[0,y_pos_wing,0]}>\r\n            <Wing vertices={B_vertices} purpose={\"front-back\"}/>\r\n            <meshPhongMaterial color={swanStore.default_color} side={THREE.BackSide} />\r\n        </mesh>\r\n    </group>\r\n\r\n    const one_wing = <group>\r\n        <mesh position={[0,y_pos_wing,0]}>\r\n            <Wing vertices={big_vertices} purpose={\"one-wing\"}/>\r\n            <meshPhongMaterial color={swanStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26} />\r\n        </mesh>\r\n        <mesh position={[0,y_pos_wing,0]}>\r\n            <Wing vertices={big_vertices} purpose={\"one-wing\"}/>\r\n            <meshPhongMaterial color={swanStore.default_color} side={THREE.BackSide} />\r\n        </mesh>\r\n        <mesh position={[0,y_pos_wing,0]}>\r\n            <Wing vertices={big_F_vertices} purpose={\"front-back\"}/>\r\n            <meshPhongMaterial color={swanStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26} />\r\n        </mesh>\r\n        <mesh position={[0,y_pos_wing,0]}>\r\n            <Wing vertices={big_F_vertices} purpose={\"front-back\"}/>\r\n            <meshPhongMaterial color={swanStore.default_color} side={THREE.BackSide} />\r\n        </mesh>\r\n    </group>\r\n\r\n    const shape = useMemo( () => new THREE.Shape(), [swanStore.diameter]);\r\n    const param = swanStore.diameter * 0.3\r\n    const t = param * 0.4\r\n    shape.moveTo(0, -param*1.3);\r\n    shape.lineTo(param*0.9, 0)\r\n    shape.quadraticCurveTo(param + param/3, param*1.5/2,param, param * 1.4)\r\n    shape.quadraticCurveTo(param/2, param * 1.9, -param/3,param)\r\n    shape.lineTo(-param/2.5, param - (1.5*t))\r\n    shape.quadraticCurveTo(param/2 , (param * 1.9) - t, param -t/1.5 , (param * 1.5) - t/1.5)\r\n    shape.quadraticCurveTo((param + param/3.5) -t/1.5, (param*1.5/2) + t/1.5, param -t/1.5, t/1.5)\r\n    \r\n    const depth = param/6\r\n\r\n    const extrudeSettings = {\r\n        steps: 100,  \r\n        depth: depth,  \r\n        bevelEnabled: false,   \r\n      };\r\n      \r\n\r\n    const offset = swanStore.diameter * swanStore.height_scale + (param*1.3) + ((topHeight/3) * 0)\r\n    const neck_mesh = <mesh position={[-depth/2,offset,(bottomRad/1)]} rotation={[0, Math.PI/2, 0]}>\r\n        <extrudeGeometry args={[shape, extrudeSettings]}/>\r\n        <meshPhongMaterial color={swanStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n    </mesh>\r\n\r\n\r\n    const diameter_marker = getInputMarker((swanStore.diameter/2) + 0.1, 0)\r\n\r\n    let [x_rot,changeXrot] = useState(0);\r\n    let [y_rot,changeYrot] = useState(0);\r\n    let [z_rot,changeZrot] = useState(0);\r\n    let [dist,changeDist] = useState(0);\r\n\r\n    const handleKeyDown = (event) => {\r\n        switch(event.key)\r\n        {\r\n            case \"x\":\r\n                    x_rot = x_rot + 0.1\r\n                    changeXrot(x_rot);\r\n                    break;\r\n            case \"y\": \r\n                    y_rot = y_rot + 0.1\r\n                    changeYrot(y_rot);\r\n                    break;\r\n            case \"z\": \r\n                    z_rot = z_rot + 0.1\r\n                    changeZrot(z_rot);\r\n                    break;\r\n            case \"w\": \r\n                    dist = Math.max(dist - 5,-300)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \"q\": \r\n                    dist = Math.min(dist + 5,50)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \" \": \r\n                    event.preventDefault()\r\n                    x_rot = 0\r\n                    y_rot = 0\r\n                    z_rot = 0 \r\n                    dist = 0\r\n                    changeXrot(x_rot)\r\n                    changeYrot(y_rot)\r\n                    changeZrot(z_rot)\r\n                    changeDist(dist)\r\n            default: \r\n                    break;\r\n        }\r\n    };\r\n    \r\n    React.useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n\r\n        // cleanup this component\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <group position={[0,-7,dist]} rotation={[x_rot,y_rot,z_rot]}> \r\n            {swan_body}\r\n            {!swanStore.wings && one_wing}\r\n            {swanStore.wings && wings}\r\n            {!result && diameter_marker}\r\n            {swanStore.bottom_rim && rim_mesh}\r\n            {neck_mesh}\r\n        </group>\r\n    )\r\n  }\r\n\r\nexport default observer(Swan);","import React, {useEffect} from \"react\";\r\n\r\nimport {\r\n  NavBtn,\r\n  NavBtnLink\r\n} from '../components/Navbar/NavbarElements';\r\nimport { Canvas} from \"react-three-fiber\";\r\nimport Swan from \"../components/Swan\"\r\nimport './create-vase.css'\r\nimport { Slider, Rail, Handles} from \"react-compound-slider\";\r\nimport SwitchSelector from \"react-switch-selector\";\r\nimport { observer } from \"mobx-react\";\r\nimport { useStores } from \"../models/RootStoreContext\"\r\n\r\n\r\nconst CreateSwan = () => {\r\n\r\n  const { swanStore, coloringFormStore } = useStores();\r\n\r\n  useEffect(() => {\r\n    coloringFormStore.setModel(\"swan\", swanStore.wings)\r\n  }, [swanStore.wings])\r\n\r\n  const ears_options = [\r\n    {\r\n        label: \" \",\r\n        value: true,\r\n        selectedBackgroundColor: \"#E28988\",\r\n    },  {\r\n        label: \"\",\r\n        value: false,\r\n        selectedBackgroundColor: \"#E28988\"\r\n    }\r\n  ];\r\n\r\n  const options = [\r\n    {\r\n        label: \"y\",\r\n        value: true,\r\n        selectedBackgroundColor: \"#E28988\",\r\n    },  {\r\n        label: \"n\",\r\n        value: false,\r\n        selectedBackgroundColor: \"#E28988\"\r\n    }\r\n  ];\r\n  \r\n  const unitOptions = [\r\n    {\r\n        label: \"cm\",\r\n        value: true,\r\n        selectedBackgroundColor: \"#E28988\",\r\n    },  {\r\n        label: \"in\",\r\n        value: false,\r\n        selectedBackgroundColor: \"#E28988\"\r\n    }\r\n  ];\r\n\r\n  const sliderStyle = {  // Give the slider some width\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: 15,\r\n    // border: '1px solid steelblue',\r\n  }\r\n  \r\n  const railStyle = {\r\n    position: 'absolute',\r\n    width: '100%',\r\n    height: 9,\r\n    // marginTop: 35,\r\n    borderRadius: 5,\r\n    backgroundColor: 'pink',\r\n  }\r\n  \r\n  function Handle({\r\n    handle: { id, value, percent },\r\n    getHandleProps\r\n  }) {\r\n    return (\r\n      <div className = \"straw\"\r\n        style={{\r\n          left: `${percent}%`,\r\n          position: 'absolute',\r\n          marginLeft: -15,\r\n          marginTop: -20,\r\n          zIndex: 2,\r\n          textAlign: 'right',\r\n          cursor: 'pointer',\r\n        }}\r\n        {...getHandleProps(id)}\r\n      >\r\n        <div style={{ fontFamily: 'Arial', fontSize: 16, marginTop: 15, marginLeft: 5, position:'absolute', zIndex: 3, color: \"#fff\"}}>\r\n          {value}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n    \r\n  const slider_diameter = <Slider rootStyle={sliderStyle} domain={[1, 50]} step={1} mode={2} values={[swanStore.diameter]} onUpdate={(val) => swanStore.update_diameter(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n\r\nconst bottom_rim_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n<SwitchSelector\r\n    onChange={(val) => swanStore.update_bottom_rim(val)}\r\n    options={options}\r\n    initialSelectedIndex={swanStore.bottom_rim ? 0 : 1}\r\n    backgroundColor={\"#FFE7E5\"}\r\n    fontColor={\"#D75A58\"}\r\n    optionBorderRadius={30}\r\n/>\r\n</div>\r\n  \r\nconst wings_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n<SwitchSelector\r\n    onChange={(val) => swanStore.update_wings(val)}\r\n    options={ears_options}\r\n    initialSelectedIndex={swanStore.wings? 0 : 1}\r\n    backgroundColor={\"#FFE7E5\"}\r\n    fontColor={\"#D75A58\"}\r\n    optionBorderRadius={30}\r\n/>\r\n</div>\r\n  \r\n  const units_switch = <div className=\"switch\" style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => swanStore.update_units(val)}\r\n          options={unitOptions}\r\n          initialSelectedIndex={swanStore.units ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\" style={{background: '#FFE7E5', display: 'flex', flexDirection:'row', width: 'auto', height: 'auto'}}>\r\n        <div className=\"containerLeft\" style={{background: '#FFE7E5', width: '57%', height: 'auto',float:'left'}}>\r\n          <Canvas camera={{position:[0, 0, 80], fov:30, aspect: 800/600, near: 0.1,far: 1000}} style={{background: \"pink\", height: '400px', borderRadius:30, marginTop:'1%', marginLeft:'1%',width:'99%'}}>\r\n            <spotLight position={[-275, 150, 90]} intensity = {1.5}/>\r\n            <spotLight position={[10, 25, 90]} intensity = {1.3}/>\r\n            <spotLight position={[-150, -150, 110]} intensity = {0.6} />\r\n            <spotLight position={[150, -150, 110]} intensity={0.6} />\r\n            <spotLight position={[-10, 0, 25]} intensity={0.6} />\r\n            <Swan swanStore={swanStore} result={false}/>\r\n          </Canvas>\r\n          <div className=\"containerCaption-fig\">\r\n            <div style={{height: 13}}/>\r\n            <a>Press <span>x</span> , <span>y</span> , and <span>z</span> to rotate the object ,<br/><span>q</span> and <span>w</span> to zoom in and out , <br/>and <span>space</span> to reset view to default . </a>\r\n            <div style={{height: 13}}/>\r\n          </div>\r\n        </div>\r\n        <div className=\"containerRight\" style={{width: '43%', height: '100%', overflow: 'visible', float:'right'}}>\r\n          <br />\r\n          <br />\r\n          <br />\r\n          <p className=\"textSwitch\">units</p>\r\n          {units_switch}\r\n          <br/>\r\n          <p className=\"text\">body diameter</p>\r\n          <div style={{width:'88%', marginLeft:'5%'}}>\r\n            {slider_diameter}\r\n          </div>\r\n          <br/>\r\n          <div style={{display: \"inline-block\", width: \"50%\"}}>\r\n          <p className=\"text\">wings</p>\r\n          {wings_switch}\r\n          </div>\r\n          <div style={{display: \"inline-block\", width: \"50%\"}}>\r\n          <p className=\"text\">bottom_rim</p>\r\n          {bottom_rim_switch}\r\n          </div>\r\n          <div className=\"done-basket\" style={{width: 80, marginBottom:35}}>\r\n            <NavBtn>\r\n              <NavBtnLink style={{background: \"#D14240\"}} onClick={() => coloringFormStore.setMsg()} to='/colouring'>\r\n                <p className = \"buttonText\">done</p>\r\n              </NavBtnLink>\r\n            </NavBtn>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </>  \r\n  );\r\n};\r\n\r\nexport default observer(CreateSwan);","import React, { useRef, useState, useMemo, useEffect} from \"react\";\r\nimport {useFrame} from \"react-three-fiber\";\r\nimport { observer } from \"mobx-react\";\r\nimport * as THREE from \"three\";\r\nimport grid from \"../../assets/paper.PNG\";\r\n// import temp from \"../../assets/tempp.png\";\r\n\r\nconst Vase = (props) => {\r\n    const {vase} = props\r\n    const texture = useMemo(() => new THREE.TextureLoader().load(grid), []);\r\n    // texture.wrapS = THREE.MirroredRepeatWrapping;\r\n    // texture.wrapT = THREE.MirroredRepeatWrapping;\r\n    // texture.repeat.set(2, 2.6);\r\n\r\n    const s_dtop_h = vase.scale_h/2\r\n    const s_dbottom_h = -1 * s_dtop_h\r\n    const scale_factor = vase.scale_h/vase.height\r\n\r\n    const s_dtop = Math.max(1,vase.dtop * scale_factor)\r\n    const s_dbottom = Math.max(1,vase.dbottom * scale_factor)\r\n\r\n    const s_d1 = Math.max(1, vase.d1 * scale_factor)\r\n    const s_d1_h = (vase.d1_h/100) * vase.scale_h - s_dtop_h\r\n\r\n    const s_d2 = Math.max(1, vase.d2 * scale_factor)\r\n    const s_d2_h = (vase.d2_h/100) * vase.scale_h - s_dtop_h\r\n\r\n    const s_d3 = Math.max(1,vase.d3 * scale_factor)\r\n    const s_d3_h = (vase.d3_h/100) * vase.scale_h - s_dtop_h\r\n\r\n    let top_rim_mesh = <mesh/>\r\n    let bottom_rim_mesh = <mesh />\r\n    let flat_bottom_mesh = <mesh />\r\n\r\n    function getInputMarker(rad, height){\r\n        return (\r\n            <mesh position = {[0,height,0]}>\r\n                <cylinderGeometry args={[rad, rad, 0.25, 40, 1, true,0, Math.PI * 2]}/>\r\n                <meshPhongMaterial color=\"red\" />\r\n            </mesh>\r\n        )\r\n    }\r\n\r\n    const dtop_marker = vase.top_rim ? getInputMarker((s_dtop/2) + 0.6, s_dtop_h) : getInputMarker((s_dtop/2) + 0.1, s_dtop_h) \r\n    const dbottom_marker = vase.bottom_rim ? getInputMarker((s_dbottom/2) + 0.6, s_dbottom_h) : getInputMarker((s_dbottom/2) + 0.1, s_dbottom_h)\r\n    const d1_marker = getInputMarker((s_d1/2) + 0.1, s_d1_h)\r\n    const d2_marker = getInputMarker((s_d2/2) + 0.1, s_d2_h)\r\n    const d3_marker = getInputMarker((s_d3/2) + 0.1, s_d3_h)\r\n\r\n    if (vase.top_rim){\r\n        top_rim_mesh = <mesh position = {[0,s_dtop_h+0.1,0]} rotation = {[1.57,0,0]}> \r\n        <torusGeometry args={[(s_dtop/2)+0.1,0.3,10,50]}/>\r\n        <meshPhongMaterial color=\"#FF7E98\" />\r\n        </mesh>\r\n    }\r\n    if (vase.bottom_rim){\r\n        bottom_rim_mesh = <mesh position = {[0,s_dbottom_h-0.1,0]} rotation = {[1.57,0,0]}> \r\n        <torusGeometry args={[(s_dbottom/2)+0.1, 0.3, 10, 50]}/>\r\n        <meshPhongMaterial color=\"#FF7E98\" />\r\n        </mesh>\r\n    }\r\n\r\n    const points = vase.updateCurvedPts()\r\n\r\n    let [x_rot,changeXrot] = useState(0);\r\n    let [y_rot,changeYrot] = useState(0);\r\n    let [z_rot,changeZrot] = useState(0);\r\n    let [dist,changeDist] = useState(0);\r\n\r\n    if (vase.flat_bottom){\r\n        flat_bottom_mesh = <mesh position = {[0,s_dbottom_h,0]}>\r\n            <cylinderGeometry args={[s_dbottom/2, s_dbottom/2, 0.8, 32]}/>\r\n            <meshPhongMaterial  map={texture} />\r\n        </mesh>\r\n    }\r\n\r\n    const handleKeyDown = (event) => {\r\n        switch(event.key)\r\n        {\r\n            case \"x\":\r\n                    x_rot = x_rot + 0.1\r\n                    changeXrot(x_rot);\r\n                    break;\r\n            case \"y\": \r\n                    y_rot = y_rot + 0.1\r\n                    changeYrot(y_rot);\r\n                    break;\r\n            case \"z\": \r\n                    z_rot = z_rot + 0.1\r\n                    changeZrot(z_rot);\r\n                    break;\r\n            case \"w\": \r\n                    dist = Math.max(dist - 5,-550)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \"q\": \r\n                    dist = Math.min(dist + 5,40)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \" \": \r\n                    event.preventDefault()\r\n                    x_rot = 0\r\n                    y_rot = 0\r\n                    z_rot = 0 \r\n                    dist = 0\r\n                    changeXrot(x_rot)\r\n                    changeYrot(y_rot)\r\n                    changeZrot(z_rot)\r\n                    changeDist(dist)\r\n            default: \r\n                    break;\r\n        }\r\n    };\r\n    \r\n    React.useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n\r\n        // cleanup this component\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <group position={[0,0,dist]} rotation={[x_rot,y_rot,z_rot]}> \r\n            <mesh >\r\n                <latheGeometry args={[points, 30, 0, 2*Math.PI]}/>\r\n                <meshPhongMaterial map = {texture}  side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n            <mesh>\r\n                <latheGeometry args={[points, 30, 0, 2*Math.PI]}/>\r\n                <meshPhongMaterial map = {texture}  side = {THREE.BackSide} />\r\n            </mesh>\r\n            {vase.top_rim && top_rim_mesh}\r\n            {vase.bottom_rim && bottom_rim_mesh}\r\n            {vase.flat_bottom && flat_bottom_mesh}\r\n            {dbottom_marker}\r\n            {d1_marker}\r\n            {d2_marker}\r\n            {d3_marker}\r\n            {dtop_marker}\r\n        </group>\r\n    )\r\n  }\r\n\r\nexport default observer(Vase);","import React, {useEffect} from \"react\";\r\n\r\nimport {\r\n  NavBtn,\r\n  NavBtnLink\r\n} from '../components/Navbar/NavbarElements';\r\nimport { Canvas} from \"react-three-fiber\";\r\nimport Vase from \"../components/Vase\"\r\nimport './create-vase.css'\r\nimport { Slider, Rail, Handles, Tracks, Ticks } from \"react-compound-slider\";\r\nimport SwitchSelector from \"react-switch-selector\";\r\nimport { observer } from \"mobx-react\";\r\nimport { useStores } from \"../models/RootStoreContext\"\r\n\r\nconst CreateVase = () => {\r\n\r\n  const { vaseStore, coloringFormStore} = useStores();\r\n  coloringFormStore.setModel(\"vase\")\r\n\r\n  const sliderStyle = {  // Give the slider some width\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: 15,\r\n    // border: '1px solid steelblue',\r\n  }\r\n  \r\n  const railStyle = {\r\n    position: 'absolute',\r\n    width: '100%',\r\n    height: 9,\r\n    // marginTop: 35,\r\n    borderRadius: 5,\r\n    backgroundColor: 'pink',\r\n  }\r\n  \r\n  function Handle({\r\n    handle: { id, value, percent },\r\n    getHandleProps\r\n  }) {\r\n    return (\r\n      <div className = \"straw\"\r\n        style={{\r\n          left: `${percent}%`,\r\n          position: 'absolute',\r\n          marginLeft: -15,\r\n          marginTop: -20,\r\n          zIndex: 2,\r\n          textAlign: 'right',\r\n          cursor: 'pointer',\r\n        }}\r\n        {...getHandleProps(id)}\r\n      >\r\n        <div style={{ fontFamily: 'Arial', fontSize: 16, marginTop: 15, marginLeft: 5, position:'absolute', zIndex: 3, color: \"#fff\"}}>\r\n          {value}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  function MultiHandle({\r\n    handle: { id, value, percent },\r\n    getHandleProps\r\n  }) {\r\n    if (id == \"$$-0\" || id == \"$$-4\"){\r\n      return (\r\n        <div className = \"straw\"\r\n          style={{\r\n            left: `${percent}%`,\r\n            position: 'absolute',\r\n            marginLeft: -15,\r\n            marginTop: -20,\r\n            zIndex: 2,\r\n            textAlign: 'right',\r\n            cursor: 'pointer',\r\n          }}\r\n        >\r\n          <div style={{ fontFamily: 'Arial', fontSize: 16, marginTop: 15, marginLeft: 5, position:'absolute', zIndex: 3, color: \"#fff\"}}>\r\n            {value}\r\n          </div>\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <div className = \"straw\"\r\n          style={{\r\n            left: `${percent}%`,\r\n            position: 'absolute',\r\n            marginLeft: -15,\r\n            marginTop: -20,\r\n            zIndex: 3,\r\n            textAlign: 'right',\r\n            cursor: 'pointer',\r\n          }}\r\n          {...getHandleProps(id)}\r\n        >\r\n          <div style={{ fontFamily: 'Arial', fontSize: 16, marginTop: 15, marginLeft: 5, position:'absolute', zIndex: 4, color: \"#fff\"}}>\r\n            {value}\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  \r\n  const sliderHeight = <Slider rootStyle={sliderStyle} domain={[10, 100]} step={1} mode={2} values={[vaseStore.height]} onUpdate={(val) => vaseStore.update_height(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n  const slider_dtop = <Slider rootStyle={sliderStyle} domain={[1, 100]} step={1} mode={2} values={[vaseStore.dtop]} onUpdate={(val) => vaseStore.update_dtop(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n  const slider_d3 = <Slider rootStyle={sliderStyle} domain={[1, 100]} step={1} mode={2} values={[vaseStore.d3]} onUpdate={(val) => vaseStore.update_d3(val[0])} >\r\n    <Rail>\r\n    {({ getRailProps }) => (\r\n      <div style={railStyle} {...getRailProps()} />\r\n    )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n  const slider_d2 = <Slider rootStyle={sliderStyle} domain={[1, 100]} step={1} mode={2} values={[vaseStore.d2]} onUpdate={(val) => vaseStore.update_d2(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n  const slider_d1 = <Slider rootStyle={sliderStyle} domain={[1, 100]} step={1} mode={2} values={[vaseStore.d1]} onUpdate={(val) => vaseStore.update_d1(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n  const slider_dbottom = <Slider rootStyle={sliderStyle} domain={[1, 100]} step={1} mode={2} values={[vaseStore.dbottom]} onUpdate={(val) => vaseStore.update_dbottom(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n  const dSlider = <Slider\r\n  rootStyle={sliderStyle}\r\n  domain={[0, 100]}\r\n  mode={2}\r\n  values={[0, vaseStore.d1_h, vaseStore.d2_h, vaseStore.d3_h, 100] /* three values = three handles */}\r\n  onUpdate={(val)=>vaseStore.update_d_heights(val)}\r\n  step={5}\r\n  >\r\n  <div style={railStyle} />\r\n  <Handles>\r\n    {({ handles, getHandleProps }) => (\r\n      <div className=\"slider-handles\">\r\n        {handles.map(handle => (\r\n          <MultiHandle\r\n            key={handle.id}\r\n            handle={handle}\r\n            getHandleProps={getHandleProps}\r\n          />\r\n        ))}\r\n      </div>\r\n    )}\r\n  </Handles>\r\n  </Slider>\r\n  \r\n  const options = [\r\n    {\r\n        label: \"y\",\r\n        value: true,\r\n        selectedBackgroundColor: \"#E28988\",\r\n    },  {\r\n        label: \"n\",\r\n        value: false,\r\n        selectedBackgroundColor: \"#E28988\"\r\n    }\r\n  ];\r\n  \r\n  const unitOptions = [\r\n    {\r\n        label: \"cm\",\r\n        value: true,\r\n        selectedBackgroundColor: \"#E28988\",\r\n    },  {\r\n        label: \"in\",\r\n        value: false,\r\n        selectedBackgroundColor: \"#E28988\"\r\n    }\r\n  ];\r\n  \r\n  const top_rim_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => vaseStore.update_top_rim(val)}\r\n          options={options}\r\n          initialSelectedIndex={vaseStore.top_rim ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n  \r\n  const bottom_rim_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => vaseStore.update_bottom_rim(val)}\r\n          options={options}\r\n          initialSelectedIndex={vaseStore.bottom_rim ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n  \r\n  const flat_bottom_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => vaseStore.update_flat_bottom(val)}\r\n          options={options}\r\n          initialSelectedIndex={vaseStore.flat_bottom ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n  \r\n  const units_switch = <div className=\"switch\" style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => vaseStore.update_units(val)}\r\n          options={unitOptions}\r\n          initialSelectedIndex={vaseStore.units ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\" style={{background: '#FFE7E5', display: 'flex', flexDirection:'row', width: 'auto', height: 'auto'}}>\r\n        <div className=\"containerLeft\" style={{background: '#FFE7E5', width: '57%', height: 'auto',float:'left'}}>\r\n          <Canvas camera={{position:[0, 0, 120], fov:30, aspect: 800/600, near: 0.1,far: 1000}} style={{background: \"pink\", height: '80%', borderRadius:30, marginTop:'1%', marginLeft:'1%',width:'99%'}}>\r\n            {/* <ambientLight intensity={0} /> */}\r\n            <spotLight position={[-275, 150, 90]} intensity = {1.3}/>\r\n            <spotLight position={[100, 25, 90]} intensity = {1.3}/>\r\n            <spotLight position={[-150, -150, 110]} intensity = {0.6} />\r\n            <spotLight position={[150, -150, 110]} intensity={0.6} />\r\n            <spotLight position={[-10, 0, 25]} intensity={0.6} />\r\n             {/* <spotLight position={[1, 10, 10]} angle={0.15} penumbra={1} /> */}\r\n            {/* <pointLight position={[-10, -10, -10]} /> */}\r\n            <Vase vase={vaseStore} />\r\n          </Canvas>\r\n          <div className=\"containerCaption\">\r\n            <br/>\r\n            <a>Press <span>x</span> , <span>y</span> , and <span>z</span> to rotate the object ,<br/><span>q</span> and <span>w</span> to zoom in and out , <br/>and <span>space</span> to reset view to default . </a>\r\n          </div>\r\n        </div>\r\n        <div className=\"containerRight\" style={{background: '#FFE7E5', width: '43%', height: '100%', overflow: 'visible', float:'right'}}>\r\n          <br />\r\n          <p className=\"textSwitch\">units</p>\r\n          {units_switch}\r\n          <div style={{display:'inline-block', width: '100%'}}>\r\n            <div style={{background: '#FFE7E5', width: '40.5%', float: 'left', marginBottom:30, marginLeft:25, marginTop:15}}>\r\n              <p className=\"text\">height</p>\r\n              {sliderHeight}\r\n              <p className=\"text\">2nd diameter</p>\r\n              {slider_d3}\r\n              <p className=\"text\">4th diameter</p>\r\n              {slider_d1}\r\n            </div>\r\n            <div style={{background: '#FFE7E5', width: '40.5%', float: 'right', marginBottom:30, marginRight:30, marginTop:15}}>\r\n              <p className=\"text\">top diameter</p>\r\n              {slider_dtop}\r\n              <p className=\"text\">3rd diameter</p>\r\n              {slider_d2}\r\n              <p className=\"text\">bottom diameter</p>\r\n              {slider_dbottom}\r\n            </div>\r\n          </div>\r\n          <p className=\"text\">diameter heights ( % )</p>\r\n          <div style={{width:'88%', marginLeft:'5%'}}>\r\n            {dSlider}\r\n          </div>\r\n          <div style={{float: 'left', width: '33.3%', overflow:'visible', marginTop:25, marginBottom:10}}>\r\n            <p className=\"textSwitch\">top rim</p>\r\n            {top_rim_switch}\r\n          </div>\r\n          <div style={{float: 'left', width: '33.3%', overflow:'visible', marginTop:25, marginBottom:10}}>\r\n            <p className=\"textSwitch\">bottom rim</p>\r\n            {bottom_rim_switch}\r\n          </div>\r\n          <div style={{float: 'right', width: '33.4%', overflow:'visible', marginTop:25, marginBottom:10}}>\r\n            <p className=\"textSwitch\">bottom cover</p>\r\n            {flat_bottom_switch}\r\n          </div>\r\n          <div style={{width: 80, marginBottom:35, display:'inline-block', marginTop: 30}}>\r\n            <NavBtn>\r\n              <NavBtnLink style={{background: \"#D14240\"}} onClick={() => coloringFormStore.setMsg()} to='/colouring'>\r\n                <p className = \"buttonText\">done</p>\r\n              </NavBtnLink>\r\n            </NavBtn>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </>  \r\n  );\r\n};\r\n\r\nexport default observer(CreateVase);","import React, { useRef, useState, useMemo, useEffect} from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport * as THREE from \"three\";\r\nimport grid from \"../../assets/paper.PNG\";\r\n\r\nconst Basket = (props) => {\r\n    const {basketStore} = props\r\n    const texture = useMemo(() => new THREE.TextureLoader().load(grid), []);\r\n\r\n    const s_dtop_h = basketStore.scale_h/2\r\n    const s_dbottom_h = -1 * s_dtop_h\r\n    const scale_factor = basketStore.scale_h/basketStore.height\r\n\r\n    const s_dtop = Math.max(1,basketStore.dtop * scale_factor)\r\n    const s_dbottom = Math.max(1,basketStore.dbottom * scale_factor)\r\n\r\n    const s_diameter = Math.max(1, basketStore.diameter * scale_factor)\r\n    const s_diameter_h = 0\r\n\r\n    // need rounded bottom shape , concave\r\n\r\n    let top_rim_mesh = <mesh/>\r\n    let bottom_rim_mesh = <mesh />\r\n    let handle = <mesh /> // handle options: 1 top, 2 sides, none \r\n    let lid = <mesh/> // true false\r\n    let side_handles = <mesh/>\r\n    let flat_bottom_mesh = <mesh />\r\n    let curved_bottom = <mesh />\r\n\r\n    if (basketStore.top_rim){\r\n        top_rim_mesh = <mesh position = {[0,s_dtop_h+0.1,0]} rotation = {[1.57,0,0]}> \r\n        <torusGeometry args={[(s_dtop/2)+0.15,0.25,10,50]}/>\r\n        <meshPhongMaterial color=\"#FF7E98\" />\r\n        </mesh>\r\n    }\r\n    if (basketStore.bottom_rim){\r\n        bottom_rim_mesh = <mesh position = {[0,s_dbottom_h-0.1,0]} rotation = {[1.57,0,0]}> \r\n        <torusGeometry args={[(s_dbottom/2)+0.15, 0.25, 10, 50]}/>\r\n        <meshPhongMaterial color=\"#FF7E98\" />\r\n        </mesh>\r\n    }\r\n\r\n    if (basketStore.top_handle){\r\n        const phi_len = Math.PI * 1\r\n        const theta_len = 0.1 * Math.PI\r\n        const theta_start = Math.PI * 0.45\r\n\r\n        handle = \r\n        <group>\r\n            <mesh position={[0,s_dtop_h,0]} rotation={[-Math.PI/2,0,0]}>\r\n                <sphereGeometry args={[s_dtop/2, 20, 10, 0, phi_len, theta_start, theta_len]} />\r\n                <meshPhongMaterial map = {texture}  side = {THREE.FrontSide} />\r\n            </mesh>\r\n            <mesh position={[0,s_dtop_h,0]}  rotation={[-Math.PI/2,0,0]}>\r\n                <sphereGeometry args={[s_dtop/2, 20, 10, 0, phi_len, theta_start, theta_len]} />\r\n                <meshPhongMaterial map = {texture}  side = {THREE.BackSide} />\r\n            </mesh>\r\n        </group>\r\n    }\r\n\r\n    if (basketStore.flat_bottom){\r\n        flat_bottom_mesh = <mesh position = {[0,s_dbottom_h,0]}>\r\n            <cylinderGeometry args={[s_dbottom/2, s_dbottom/2, 0.8, 32]}/>\r\n            <meshPhongMaterial  map={texture} />\r\n        </mesh>\r\n    }\r\n\r\n    class CustomCircleCurve extends THREE.Curve {\r\n        constructor(scale) {\r\n          super();\r\n          this.scale = scale;\r\n        }\r\n        getPoint(t) {\r\n          const tx = 0;\r\n          const ty = Math.max(-0.5, Math.sin(2 * Math.PI * t));\r\n          const tz = Math.cos(2 * Math.PI * t);\r\n          return new THREE.Vector3(tx, ty, tz).multiplyScalar(this.scale);\r\n        }\r\n      }\r\n\r\n    if (basketStore.side_handles){\r\n        const tube_scale = s_dtop/5\r\n        const path = new CustomCircleCurve(tube_scale)\r\n        const segs = 40\r\n        const tube_rad = Math.min(0.5, tube_scale/10)\r\n        const rad_segs = 7\r\n        const closed = false\r\n\r\n        side_handles =  \r\n        <group>\r\n        <mesh position={[(-s_dtop/2)+(tube_rad*2), s_dtop_h + tube_rad + (0.5*tube_scale), 0]} >\r\n            <tubeGeometry args={[path, segs, tube_rad, rad_segs, closed]} />\r\n            <meshPhongMaterial map = {texture}  side = {THREE.FrontSide} />\r\n        </mesh>\r\n        <mesh position={[(s_dtop/2)-(tube_rad*2), s_dtop_h + tube_rad + (0.5*tube_scale), 0]}>\r\n            <tubeGeometry args={[path, segs, tube_rad, rad_segs, closed]} />\r\n            <meshPhongMaterial map = {texture}  side = {THREE.FrontSide} />\r\n        </mesh>\r\n        </group>\r\n    }\r\n\r\n    if (basketStore.lid){\r\n        const lid_scale = 1\r\n        const percent_lid = 0.25\r\n        const rad_lid = (s_dtop * lid_scale/2) / Math.sin(Math.PI * percent_lid)\r\n        const lid_dist = s_dtop_h - (s_dtop* lid_scale/2) / Math.tan(Math.PI * percent_lid)\r\n        const deco_r = rad_lid/15\r\n        const deco_dist = lid_dist + rad_lid + deco_r - 0.2\r\n\r\n        lid = \r\n        <group>\r\n            <mesh position={[0,lid_dist+0.1,0]}>\r\n                <sphereGeometry args={[rad_lid, 20, 10, 0, Math.PI * 2, 0, Math.PI * percent_lid]} />\r\n                <meshPhongMaterial map = {texture}  side = {THREE.FrontSide} />\r\n            </mesh>\r\n            <mesh position={[0,lid_dist,0]}>\r\n                <sphereGeometry args={[rad_lid, 20, 10, 0, Math.PI * 2, 0, Math.PI * percent_lid]} />\r\n                <meshPhongMaterial map = {texture}  side = {THREE.BackSide} />\r\n            </mesh>\r\n            <mesh position={[0,deco_dist,0]}>\r\n                <sphereGeometry args={[deco_r, 20, 10]} />\r\n                <meshPhongMaterial map = {texture}  side = {THREE.FrontSide} />\r\n            </mesh>\r\n        </group>\r\n    }\r\n\r\n    if (!basketStore.flat_bottom){\r\n        const percent_sphere = 0.2\r\n        const rad_bottom = (s_dbottom/2) / Math.sin(Math.PI * percent_sphere)\r\n        const bottom_dist = s_dbottom_h - (s_dbottom/2) / Math.tan(Math.PI * percent_sphere)\r\n\r\n        curved_bottom = <group>\r\n        <mesh position={[0,bottom_dist-0.1,0]}>\r\n            <sphereGeometry args={[rad_bottom, 20, 10, 0, Math.PI * 2, 0, Math.PI * percent_sphere]} />\r\n            <meshPhongMaterial map = {texture}  side={THREE.FrontSide}/>\r\n        </mesh>\r\n        <mesh position={[0,bottom_dist-0.1,0]}>\r\n            <sphereGeometry args={[rad_bottom, 20, 10, 0, Math.PI * 2, 0, Math.PI * percent_sphere]} />\r\n            <meshPhongMaterial map = {texture}  side = {THREE.BackSide} />\r\n        </mesh>\r\n        </group>\r\n    }\r\n    \r\n    function getInputMarker(rad, height){\r\n        return (\r\n            <mesh position = {[0,height,0]}>\r\n                <cylinderGeometry args={[rad, rad, 0.25, 40, 1, true,0, Math.PI * 2]}/>\r\n                <meshPhongMaterial color=\"red\" />\r\n            </mesh>\r\n        )\r\n    }\r\n\r\n    const dtop_marker = basketStore.top_rim ? getInputMarker((s_dtop/2) + 0.5, s_dtop_h) : getInputMarker((s_dtop/2) + 0.1, s_dtop_h) \r\n    const dbottom_marker = basketStore.bottom_rim ? getInputMarker((s_dbottom/2) + 0.5, s_dbottom_h) : getInputMarker((s_dbottom/2) + 0.1, s_dbottom_h)\r\n    const diameter_marker = getInputMarker((s_diameter/2) + 0.1, s_diameter_h)\r\n\r\n    const points = basketStore.updateCurvedPts()\r\n\r\n    let [x_rot,changeXrot] = useState(0);\r\n    let [y_rot,changeYrot] = useState(0);\r\n    let [z_rot,changeZrot] = useState(0);\r\n    let [dist,changeDist] = useState(0);\r\n\r\n    const handleKeyDown = (event) => {\r\n        switch(event.key)\r\n        {\r\n            case \"x\":\r\n                    x_rot = x_rot + 0.1\r\n                    changeXrot(x_rot);\r\n                    break;\r\n            case \"y\": \r\n                    y_rot = y_rot + 0.1\r\n                    changeYrot(y_rot);\r\n                    break;\r\n            case \"z\": \r\n                    z_rot = z_rot + 0.1\r\n                    changeZrot(z_rot);\r\n                    break;\r\n            case \"w\": \r\n                    dist = Math.max(dist - 5,-300)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \"q\": \r\n                    dist = Math.min(dist + 5,50)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \" \": \r\n                    event.preventDefault()\r\n                    x_rot = 0\r\n                    y_rot = 0\r\n                    z_rot = 0 \r\n                    dist = 0\r\n                    changeXrot(x_rot)\r\n                    changeYrot(y_rot)\r\n                    changeZrot(z_rot)\r\n                    changeDist(dist)\r\n            default: \r\n                    break;\r\n        }\r\n    };\r\n    \r\n    React.useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n\r\n        // cleanup this component\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <group position={[0,-5,dist]} rotation={[x_rot,y_rot,z_rot]}> \r\n            <mesh >\r\n                <latheGeometry args={[points, 30, 0, 2*Math.PI]}/>\r\n                <meshPhongMaterial map = {texture}  side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n            <mesh>\r\n                <latheGeometry args={[points, 30, 0, 2*Math.PI]}/>\r\n                <meshPhongMaterial map = {texture}  side = {THREE.BackSide} />\r\n            </mesh>\r\n            {basketStore.lid && lid}\r\n            {basketStore.top_rim && top_rim_mesh}\r\n            {basketStore.bottom_rim && bottom_rim_mesh}\r\n            {diameter_marker}\r\n            {dtop_marker}\r\n            {dbottom_marker}\r\n            {basketStore.top_handle && handle}\r\n            {basketStore.side_handles && side_handles}\r\n            {basketStore.flat_bottom && flat_bottom_mesh}\r\n            {!basketStore.flat_bottom && curved_bottom}\r\n        </group>\r\n    )\r\n  }\r\n\r\nexport default observer(Basket);","import React from \"react\";\r\n\r\nimport {\r\n  NavBtn,\r\n  NavBtnLink\r\n} from '../components/Navbar/NavbarElements';\r\nimport { Canvas} from \"react-three-fiber\";\r\nimport Basket from \"../components/Basket\"\r\nimport './create-vase.css'\r\nimport { Slider, Rail, Handles} from \"react-compound-slider\";\r\nimport SwitchSelector from \"react-switch-selector\";\r\nimport { observer } from \"mobx-react\";\r\nimport { useStores } from \"../models/RootStoreContext\"\r\n\r\nconst CreateBasket = () => {\r\n\r\n  const { basketStore, coloringFormStore} = useStores();\r\n  coloringFormStore.setModel(\"basket\")\r\n\r\n  const options = [\r\n    {\r\n        label: \"y\",\r\n        value: true,\r\n        selectedBackgroundColor: \"#E28988\",\r\n    },  {\r\n        label: \"n\",\r\n        value: false,\r\n        selectedBackgroundColor: \"#E28988\"\r\n    }\r\n  ];\r\n  \r\n  const unitOptions = [\r\n    {\r\n        label: \"cm\",\r\n        value: true,\r\n        selectedBackgroundColor: \"#E28988\",\r\n    },  {\r\n        label: \"in\",\r\n        value: false,\r\n        selectedBackgroundColor: \"#E28988\"\r\n    }\r\n  ];\r\n\r\n  const sliderStyle = {  // Give the slider some width\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: 15,\r\n    // border: '1px solid steelblue',\r\n  }\r\n  \r\n  const railStyle = {\r\n    position: 'absolute',\r\n    width: '100%',\r\n    height: 9,\r\n    // marginTop: 35,\r\n    borderRadius: 5,\r\n    backgroundColor: 'pink',\r\n  }\r\n  \r\n  function Handle({\r\n    handle: { id, value, percent },\r\n    getHandleProps\r\n  }) {\r\n    return (\r\n      <div className = \"straw\"\r\n        style={{\r\n          left: `${percent}%`,\r\n          position: 'absolute',\r\n          marginLeft: -15,\r\n          marginTop: -20,\r\n          zIndex: 2,\r\n          textAlign: 'right',\r\n          cursor: 'pointer',\r\n        }}\r\n        {...getHandleProps(id)}\r\n      >\r\n        <div style={{ fontFamily: 'Arial', fontSize: 16, marginTop: 15, marginLeft: 5, position:'absolute', zIndex: 3, color: \"#fff\"}}>\r\n          {value}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  const sliderHeight = <Slider rootStyle={sliderStyle} domain={[10, 100]} step={1} mode={2} values={[basketStore.height]} onUpdate={(val) => basketStore.update_height(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n  const slider_diameter = <Slider rootStyle={sliderStyle} domain={[1, 100]} step={1} mode={2} values={[basketStore.diameter]} onUpdate={(val) => basketStore.update_diameter(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n\r\n  const slider_dbottom = <Slider rootStyle={sliderStyle} domain={[1, 100]} step={1} mode={2} values={[basketStore.dbottom]} onUpdate={(val) => basketStore.update_dbottom(val[0])} >\r\n  <Rail>\r\n    {({ getRailProps }) => (\r\n      <div style={railStyle} {...getRailProps()} />\r\n    )}\r\n  </Rail>\r\n  <Handles>\r\n    {({ handles, getHandleProps }) => (\r\n      <div className=\"slider-handles\">\r\n        {handles.map(handle => (\r\n          <Handle\r\n            key={handle.id}\r\n            handle={handle}\r\n            getHandleProps={getHandleProps}\r\n          />\r\n        ))}\r\n      </div>\r\n    )}\r\n  </Handles>\r\n  </Slider>\r\n\r\n  const slider_dtop = <Slider rootStyle={sliderStyle} domain={[1, 100]} step={1} mode={2} values={[basketStore.dtop]} onUpdate={(val) => basketStore.update_dtop(val[0])} >\r\n  <Rail>\r\n    {({ getRailProps }) => (\r\n      <div style={railStyle} {...getRailProps()} />\r\n    )}\r\n  </Rail>\r\n  <Handles>\r\n    {({ handles, getHandleProps }) => (\r\n      <div className=\"slider-handles\">\r\n        {handles.map(handle => (\r\n          <Handle\r\n            key={handle.id}\r\n            handle={handle}\r\n            getHandleProps={getHandleProps}\r\n          />\r\n        ))}\r\n      </div>\r\n    )}\r\n  </Handles>\r\n  </Slider>\r\n  \r\n  const top_rim_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => basketStore.update_top_rim(val)}\r\n          options={options}\r\n          initialSelectedIndex={basketStore.top_rim ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n  \r\n  const bottom_rim_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => basketStore.update_bottom_rim(val)}\r\n          options={options}\r\n          initialSelectedIndex={basketStore.bottom_rim ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n  \r\n  const lid_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => basketStore.update_lid(val)}\r\n          options={options}\r\n          initialSelectedIndex={basketStore.lid ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n  \r\n  const bottom_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n  <SwitchSelector\r\n      onChange={(val) => basketStore.update_flat_bottom(!val)}\r\n      options={options}\r\n      initialSelectedIndex={basketStore.flat_bottom ? 1 : 0}\r\n      backgroundColor={\"#FFE7E5\"}\r\n      fontColor={\"#D75A58\"}\r\n      optionBorderRadius={30}\r\n  />\r\n</div>\r\n\r\n  const top_handle_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n  <SwitchSelector\r\n      onChange={(val) => basketStore.update_top_handle(val)}\r\n      options={options}\r\n      initialSelectedIndex={basketStore.top_handle ? 0 : 1}\r\n      backgroundColor={\"#FFE7E5\"}\r\n      fontColor={\"#D75A58\"}\r\n      optionBorderRadius={30}\r\n  />\r\n  </div>\r\n\r\n  const side_handles_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n  <SwitchSelector\r\n      onChange={(val) => basketStore.update_side_handles(val)}\r\n      options={options}\r\n      initialSelectedIndex={basketStore.side_handles ? 0 : 1}\r\n      backgroundColor={\"#FFE7E5\"}\r\n      fontColor={\"#D75A58\"}\r\n      optionBorderRadius={30}\r\n  />\r\n  </div>\r\n  \r\n  const units_switch = <div className=\"switch\" style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => basketStore.update_units(val)}\r\n          options={unitOptions}\r\n          initialSelectedIndex={basketStore.units ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\" style={{background: '#FFE7E5', display: 'flex', flexDirection:'row', width: 'auto', height: '690px'}}>\r\n        <div className=\"containerLeft\" style={{background: '#FFE7E5', width: '57%', height: 'auto',float:'left'}}>\r\n          <Canvas camera={{position:[0, 0, 100], fov:30, aspect: 800/600, near: 0.1,far: 1000}} style={{background: \"pink\", height: '80%', borderRadius:30, marginTop:'1%', marginLeft:'1%',width:'99%'}}>\r\n            <spotLight position={[-275, 150, 90]} intensity = {1.5}/>\r\n            <spotLight position={[10, 25, 90]} intensity = {1.3}/>\r\n            <spotLight position={[-150, -150, 110]} intensity = {0.6} />\r\n            <spotLight position={[150, -150, 110]} intensity={0.6} />\r\n            <spotLight position={[-10, 0, 25]} intensity={0.6} />\r\n            <Basket basketStore={basketStore} />\r\n          </Canvas>\r\n          <div className=\"containerCaption\">\r\n            <br/>\r\n            <a>Press <span>x</span> , <span>y</span> , and <span>z</span> to rotate the object ,<br/><span>q</span> and <span>w</span> to zoom in and out , <br/>and <span>space</span> to reset view to default . </a>\r\n          </div>\r\n        </div>\r\n        <div className=\"containerRight\" style={{width: '43%', height: '100%', overflow: 'visible', float:'right'}}>\r\n          <br />\r\n          <p className=\"textSwitch\">units</p>\r\n          {units_switch}\r\n          <div style={{display:'inline-block', width: '100%'}}>\r\n            <div style={{background: '#FFE7E5', width: '40.5%', float: 'left', marginBottom:30, marginLeft:25, marginTop:15}}>\r\n              <p className=\"text\">height</p>\r\n              {sliderHeight}\r\n              <p className=\"text\">top diameter</p>\r\n              {slider_dtop}\r\n            </div>\r\n            <div style={{background: '#FFE7E5', width: '40.5%', float: 'right', marginBottom:30, marginRight:30, marginTop:15}}>\r\n              <p className=\"text\">middle diameter</p>\r\n              {slider_diameter}\r\n              <p className=\"text\">bottom diameter</p>\r\n              {slider_dbottom}\r\n            </div>\r\n          </div>\r\n          <div style={{float: 'left', width: '33.3%', overflow:'visible', marginTop:25, marginBottom:10}}>\r\n            <p className=\"textSwitch\">top rim</p>\r\n            {top_rim_switch}\r\n          </div>\r\n          <div style={{float: 'left', width: '33.4%', overflow:'visible', marginTop:25, marginBottom:10}}>\r\n            <p className=\"textSwitch\">curved bottom</p>\r\n            {bottom_switch}\r\n          </div>\r\n          <div style={{float: 'left', width: '33.3%', overflow:'visible', marginTop:25, marginBottom:10}}>\r\n            <p className=\"textSwitch\">bottom rim</p>\r\n            {bottom_rim_switch}\r\n          </div>\r\n          <div style={{float: 'left', width: '33.3%', overflow:'visible', marginTop:25, marginBottom:10}}>\r\n            <p className=\"textSwitch\">top handle</p>\r\n            {top_handle_switch}\r\n          </div>\r\n          <div style={{float: 'left', width: '33.4%', overflow:'visible', marginTop:25, marginBottom:10}}>\r\n            <p className=\"textSwitch\">lid</p>\r\n            {lid_switch}\r\n          </div>\r\n          <div style={{float: 'left', width: '33.3%', overflow:'visible', marginTop:25, marginBottom:10}}>\r\n            <p className=\"textSwitch\">side handles</p>\r\n            {side_handles_switch}\r\n          </div>\r\n          <div className=\"done-basket\" style={{width: 80, marginBottom:35, display:'inline-block', marginTop: 30}}>\r\n            <NavBtn>\r\n              <NavBtnLink style={{background: \"#D14240\"}} onClick={() => coloringFormStore.setMsg()} to='/colouring'>\r\n                <p className = \"buttonText\">done</p>\r\n              </NavBtnLink>\r\n            </NavBtn>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </>  \r\n  );\r\n};\r\n\r\nexport default observer(CreateBasket);","import React, {useState, useMemo} from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport * as THREE from \"three\";\r\nimport grid from \"../../assets/paper.PNG\";\r\n\r\nconst Figurine = (props) => {\r\n    const {figStore} = props\r\n    const texture = useMemo(() => new THREE.TextureLoader().load(grid), []) \r\n\r\n    const s_diameter = figStore.diameter \r\n    const s_diameter_h = 0\r\n\r\n    function getInputMarker(rad, height){\r\n        return (\r\n            <mesh position = {[0,height,0]}>\r\n                <cylinderGeometry args={[rad, rad, 0.25, 40, 1, true,0, Math.PI * 2]}/>\r\n                <meshPhongMaterial color=\"red\" />\r\n            </mesh>\r\n        )\r\n    }\r\n\r\n    const theta_len = 0.8\r\n    const goal_rad = (figStore.diameter * figStore.body_scale)/2\r\n    const head_rad = goal_rad/Math.sin((1-theta_len) * Math.PI)\r\n    const offset = head_rad*Math.cos((1-theta_len) * Math.PI) - 0.2\r\n\r\n    const head =\r\n    <group>\r\n        <mesh position={[0,(figStore.diameter * figStore.body_height) + offset,0]}>\r\n            <sphereGeometry args={[head_rad, 20, 14, 0, 2 * Math.PI, 0, Math.PI * theta_len]}/>\r\n            <meshPhongMaterial map = {texture}  side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n        </mesh>\r\n        <mesh position={[0,(figStore.diameter * figStore.body_height) + offset,0]}>\r\n            <sphereGeometry args={[head_rad, 20, 14, 0, 2 * Math.PI, 0, Math.PI * theta_len]}/>\r\n            <meshPhongMaterial map = {texture}  side={THREE.BackSide}/>\r\n        </mesh>\r\n    </group>\r\n\r\n    let bunny_ears = <mesh/>\r\n    let cat_ears = <mesh/> \r\n    let sphere_ears = <mesh/>\r\n    let bear_ears = <mesh/>\r\n    let arms = <mesh/>\r\n\r\n    class CustomCircleCurve extends THREE.Curve {\r\n        constructor(scale) {\r\n          super();\r\n          this.scale = scale;\r\n        }\r\n        getPoint(t) {\r\n          const tx = Math.cos(2 * Math.PI * t);\r\n          const ty = Math.max(-0.5, Math.sin(2 * Math.PI * t));\r\n          const tz = 0;\r\n          return new THREE.Vector3(tx, ty, tz).multiplyScalar(this.scale);\r\n        }\r\n    }\r\n\r\n    if(figStore.ears === \"bear\"){\r\n        const tube_scale = head_rad/3\r\n        const path = new CustomCircleCurve(tube_scale)\r\n        const segs = 40\r\n        const tube_rad = Math.min(0.5, tube_scale/7)\r\n        const rad_segs = 7\r\n        const closed = false\r\n        const y_pos = (figStore.diameter * figStore.body_height) + offset + tube_scale/4 + (head_rad * Math.cos(Math.PI/4))\r\n\r\n        bear_ears =  \r\n        <group>\r\n        <mesh position={[-(head_rad * Math.cos(Math.PI/4) + tube_scale/5),y_pos,0]} rotation={[0,0,Math.PI/4]} >\r\n            <tubeGeometry args={[path, segs, tube_rad, rad_segs, closed]} />\r\n            <meshPhongMaterial map={texture} side = {THREE.FrontSide} />\r\n        </mesh>\r\n        <mesh position={[(head_rad * Math.cos(Math.PI/4) + tube_scale/5),y_pos,0]} rotation={[0,0,-Math.PI/4]}>\r\n            <tubeGeometry args={[path, segs, tube_rad, rad_segs, closed]} />\r\n            <meshPhongMaterial  map={texture} side = {THREE.FrontSide} />\r\n        </mesh>\r\n        </group>\r\n    }\r\n\r\n    if(figStore.ears === \"cat\"){\r\n        const shape = new THREE.Shape();\r\n        const y_pos = (figStore.diameter * figStore.body_height) + offset + (head_rad * Math.cos(Math.PI/4))\r\n        const half_side_len = (head_rad/1.5)/2\r\n        shape.moveTo(-half_side_len,0);\r\n        shape.quadraticCurveTo(-half_side_len/1.2, half_side_len * 1.3, 0,half_side_len * 1.8);\r\n        shape.quadraticCurveTo(half_side_len/1.2, half_side_len * 1.3, half_side_len,0);\r\n        shape.lineTo(-half_side_len,0);\r\n\r\n        const extrudeSettings = {\r\n            steps: 1,  \r\n            depth: 1,  \r\n            bevelEnabled: false,  \r\n          };\r\n\r\n        cat_ears = \r\n        <group>\r\n        <mesh position={[(head_rad * Math.cos(Math.PI/4) - half_side_len/3),y_pos,0]} rotation={[0,0,-Math.PI/4.5]}>\r\n            <extrudeGeometry args={[shape, extrudeSettings]}/>\r\n            <meshPhongMaterial  map={texture} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>        \r\n        </mesh>\r\n        <mesh position={[-(head_rad * Math.cos(Math.PI/4) - half_side_len/3),y_pos,0]} rotation={[0,0,Math.PI/4.5]}>\r\n            <extrudeGeometry args={[shape, extrudeSettings]}/>\r\n            <meshPhongMaterial  map={texture} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>        \r\n        </mesh>\r\n        </group>\r\n\r\n    }\r\n\r\n    if(figStore.ears === \"bunny\"){\r\n        const bshape = new THREE.Shape();\r\n        const y_pos = (figStore.diameter * figStore.body_height) + offset + (head_rad * Math.cos(Math.PI/4))\r\n        const half_side_len = (head_rad/2)/2\r\n        bshape.moveTo(-half_side_len,0);\r\n        bshape.lineTo(-half_side_len, half_side_len * 3)\r\n        bshape.quadraticCurveTo(-half_side_len/2, (half_side_len * 4), 0,half_side_len * 4);\r\n        bshape.quadraticCurveTo(half_side_len/2, half_side_len * 4, half_side_len, half_side_len * 3);\r\n        bshape.lineTo(half_side_len,0);\r\n\r\n        const extrudeSettings = {\r\n            steps: 1,  \r\n            depth: 1,  \r\n            bevelEnabled: false,  \r\n          };\r\n\r\n        bunny_ears = \r\n        <group>\r\n        <mesh position={[(head_rad * Math.cos(Math.PI/4) - half_side_len/3),y_pos,0]} rotation={[0,0,-Math.PI/4]}>\r\n            <extrudeGeometry args={[bshape, extrudeSettings]}/>\r\n            <meshPhongMaterial  map={texture} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>        \r\n        </mesh>\r\n        <mesh position={[-(head_rad * Math.cos(Math.PI/4) - half_side_len/3),y_pos,0]} rotation={[0,0,Math.PI/4]}>\r\n            <extrudeGeometry args={[bshape, extrudeSettings]}/>\r\n            <meshPhongMaterial  map={texture} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>        \r\n        </mesh>\r\n        </group>\r\n    }\r\n\r\n    if(figStore.ears === \"sphere\"){\r\n        const ear_rad = head_rad/3.5\r\n        const y_pos = (figStore.diameter * figStore.body_height) + offset + ear_rad + (head_rad * Math.cos(Math.PI/4))\r\n        sphere_ears = \r\n        <group>\r\n            <mesh position={[-(head_rad * Math.cos(Math.PI/4)),y_pos,0]} rotation={[0,0,Math.PI/4]}>\r\n                <sphereGeometry args={[ear_rad, 20, 14, 0, 2 * Math.PI, 0, Math.PI ]}/>\r\n                <meshPhongMaterial  map={texture} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n            <mesh position={[(head_rad * Math.cos(Math.PI/4)),y_pos,0]} rotation={[0,0,-Math.PI/4]}>\r\n                <sphereGeometry args={[ear_rad, 20, 14, 0, 2 * Math.PI, 0, Math.PI ]}/>\r\n                <meshPhongMaterial  map={texture} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n        </group>\r\n    }\r\n\r\n    if (figStore.arms){\r\n        const arm_rad = figStore.diameter/7\r\n        const y_pos = (figStore.diameter * figStore.body_height)/2\r\n        const x_pos = (figStore.diameter * figStore.body_scale)/2 + arm_rad*1.3\r\n        arms = \r\n        <group>\r\n            <mesh position={[-(x_pos),y_pos,0]} rotation={[0,0,Math.PI/2.65]}>\r\n                <cylinderGeometry args={[arm_rad, arm_rad, arm_rad*1.3, 15]} />\r\n                <meshPhongMaterial  map={texture} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n            <mesh position={[x_pos,y_pos,0]} rotation={[0,0,-Math.PI/2.65]}>\r\n                <cylinderGeometry args={[arm_rad, arm_rad, arm_rad*1.3, 15]} />\r\n                <meshPhongMaterial  map={texture} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n        </group>\r\n    }\r\n\r\n    const points = figStore.updateCurvedPts()\r\n    const diameter_marker = getInputMarker((s_diameter/2) + 0.1, s_diameter_h)\r\n\r\n    let [x_rot,changeXrot] = useState(0);\r\n    let [y_rot,changeYrot] = useState(0);\r\n    let [z_rot,changeZrot] = useState(0);\r\n    let [dist,changeDist] = useState(0);\r\n\r\n    const handleKeyDown = (event) => {\r\n        switch(event.key)\r\n        {\r\n            case \"x\":\r\n                    x_rot = x_rot + 0.1\r\n                    changeXrot(x_rot);\r\n                    break;\r\n            case \"y\": \r\n                    y_rot = y_rot + 0.1\r\n                    changeYrot(y_rot);\r\n                    break;\r\n            case \"z\": \r\n                    z_rot = z_rot + 0.1\r\n                    changeZrot(z_rot);\r\n                    break;\r\n            case \"w\": \r\n                    dist = Math.max(dist - 5,-300)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \"q\": \r\n                    dist = Math.min(dist + 5,50)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \" \": \r\n                    event.preventDefault()\r\n                    x_rot = 0\r\n                    y_rot = 0\r\n                    z_rot = 0 \r\n                    dist = 0\r\n                    changeXrot(x_rot)\r\n                    changeYrot(y_rot)\r\n                    changeZrot(z_rot)\r\n                    changeDist(dist)\r\n                    break;\r\n            default: \r\n                    break;\r\n        }\r\n    };\r\n    \r\n    React.useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n\r\n        // cleanup this component\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <group position={[0,-7,dist]} rotation={[x_rot,y_rot,z_rot]}> \r\n            <mesh >\r\n                <latheGeometry args={[points, 30, 0, 2*Math.PI]}/>\r\n                <meshPhongMaterial map = {texture}  side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n            <mesh>\r\n                <latheGeometry args={[points, 30, 0, 2*Math.PI]}/>\r\n                <meshPhongMaterial map = {texture}  side = {THREE.BackSide} />\r\n            </mesh>\r\n            {head}\r\n            {diameter_marker}\r\n            {figStore.ears === \"bear\" && bear_ears}\r\n            {figStore.ears === \"bunny\" && bunny_ears}\r\n            {figStore.ears === \"cat\" && cat_ears}\r\n            {figStore.ears === \"sphere\" && sphere_ears}\r\n            {figStore.arms && arms}\r\n        </group>\r\n    )\r\n  }\r\n\r\nexport default observer(Figurine);","import React from \"react\";\r\n\r\nimport {\r\n  NavBtn,\r\n  NavBtnLink\r\n} from '../components/Navbar/NavbarElements';\r\nimport { Canvas} from \"react-three-fiber\";\r\nimport Figurine from \"../components/Figurine\"\r\nimport './create-vase.css'\r\nimport { Slider, Rail, Handles} from \"react-compound-slider\";\r\nimport SwitchSelector from \"react-switch-selector\";\r\nimport { observer } from \"mobx-react\";\r\nimport { useStores } from \"../models/RootStoreContext\"\r\n\r\n\r\nconst CreateFigurine = () => {\r\n\r\n  const { figStore, coloringFormStore} = useStores();\r\n  coloringFormStore.setModel(\"fig\")\r\n\r\n  const options = [\r\n    {\r\n        label: \"y\",\r\n        value: true,\r\n        selectedBackgroundColor: \"#E28988\",\r\n    },  {\r\n        label: \"n\",\r\n        value: false,\r\n        selectedBackgroundColor: \"#E28988\"\r\n    }\r\n  ];\r\n\r\n  const ears_options = [\r\n    {\r\n        label: \" \",\r\n        value: \"bear\",\r\n        selectedBackgroundColor: \"#E28988\",\r\n    },  {\r\n        label: \" \",\r\n        value: \"sphere\",\r\n        selectedBackgroundColor: \"#E28988\"\r\n    },  {\r\n        label: \" \",\r\n        value: \"cat\",\r\n        selectedBackgroundColor: \"#E28988\"\r\n    },  {\r\n        label: \" \",\r\n        value: \"bunny\",\r\n        selectedBackgroundColor: \"#E28988\"\r\n    },\r\n  ];\r\n\r\n  const ears = [\"bear\", \"sphere\", \"cat\", \"bunny\"]\r\n  \r\n  const unitOptions = [\r\n    {\r\n        label: \"cm\",\r\n        value: true,\r\n        selectedBackgroundColor: \"#E28988\",\r\n    },  {\r\n        label: \"in\",\r\n        value: false,\r\n        selectedBackgroundColor: \"#E28988\"\r\n    }\r\n  ];\r\n\r\n  const sliderStyle = {  // Give the slider some width\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: 15,\r\n    // border: '1px solid steelblue',\r\n  }\r\n  \r\n  const railStyle = {\r\n    position: 'absolute',\r\n    width: '100%',\r\n    height: 9,\r\n    // marginTop: 35,\r\n    borderRadius: 5,\r\n    backgroundColor: 'pink',\r\n  }\r\n  \r\n  function Handle({\r\n    handle: { id, value, percent },\r\n    getHandleProps\r\n  }) {\r\n    return (\r\n      <div className = \"straw\"\r\n        style={{\r\n          left: `${percent}%`,\r\n          position: 'absolute',\r\n          marginLeft: -15,\r\n          marginTop: -20,\r\n          zIndex: 2,\r\n          textAlign: 'right',\r\n          cursor: 'pointer',\r\n        }}\r\n        {...getHandleProps(id)}\r\n      >\r\n        <div style={{ fontFamily: 'Arial', fontSize: 16, marginTop: 15, marginLeft: 5, position:'absolute', zIndex: 3, color: \"#fff\"}}>\r\n          {value}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n    \r\n  const slider_diameter = <Slider rootStyle={sliderStyle} domain={[1, 50]} step={1} mode={2} values={[figStore.diameter]} onUpdate={(val) => figStore.update_diameter(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n\r\n  const arms_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n  <SwitchSelector\r\n      onChange={(val) => figStore.update_arms(val)}\r\n      options={options}\r\n      initialSelectedIndex={figStore.arms ? 0 : 1}\r\n      backgroundColor={\"#FFE7E5\"}\r\n      fontColor={\"#D75A58\"}\r\n      optionBorderRadius={30}\r\n  />\r\n  </div>\r\n\r\n  \r\nconst ears_switch = <div className=\"switch\"  style={{width: 360, height: 50}}>\r\n<SwitchSelector\r\n    onChange={(val) => figStore.update_ears(val)}\r\n    options={ears_options}\r\n    initialSelectedIndex={ears.indexOf(`${figStore.ears}`)}\r\n    backgroundColor={\"#FFE7E5\"}\r\n    fontColor={\"#D75A58\"}\r\n    optionBorderRadius={30}\r\n    fontSize={20}\r\n/>\r\n</div>\r\n  \r\n  const units_switch = <div className=\"switch\" style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => figStore.update_units(val)}\r\n          options={unitOptions}\r\n          initialSelectedIndex={figStore.units ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\" style={{background: '#FFE7E5', display: 'flex', flexDirection:'row', width: 'auto', height: 'auto'}}>\r\n        <div className=\"containerLeft\" style={{background: '#FFE7E5', width: '57%', height: 'auto',float:'left'}}>\r\n          <Canvas camera={{position:[0, 0, 80], fov:30, aspect: 800/600, near: 0.1,far: 1000}} style={{background: \"pink\", height: '470px', borderRadius:30, marginTop:'1%', marginLeft:'1%',width:'99%'}}>\r\n            <spotLight position={[-275, 150, 90]} intensity = {1.5}/>\r\n            <spotLight position={[10, 25, 90]} intensity = {1.3}/>\r\n            <spotLight position={[-150, -150, 110]} intensity = {0.6} />\r\n            <spotLight position={[150, -150, 110]} intensity={0.6} />\r\n            <spotLight position={[-10, 0, 25]} intensity={0.6} />\r\n            <Figurine figStore={figStore} />\r\n          </Canvas>\r\n          <div className=\"containerCaption-fig\">\r\n            <div style={{height: 13}}/>\r\n            <a>Press <span>x</span> , <span>y</span> , and <span>z</span> to rotate the object ,<br/><span>q</span> and <span>w</span> to zoom in and out , <br/>and <span>space</span> to reset view to default . </a>\r\n            <div style={{height: 13}}/>\r\n          </div>\r\n        </div>\r\n        <div className=\"containerRight\" style={{width: '43%', height: '100%', overflow: 'visible', float:'right'}}>\r\n          <br />\r\n          <p className=\"textSwitch\">units</p>\r\n          {units_switch}\r\n          <br/>\r\n          <p className=\"text\">body diameter</p>\r\n          <div style={{width:'88%', marginLeft:'5%'}}>\r\n            {slider_diameter}\r\n          </div>\r\n          <br/>\r\n          <p className=\"text\">arms</p>\r\n          {arms_switch}\r\n          <br/>\r\n          <p className=\"text\">ears</p>\r\n          {ears_switch}\r\n          <div className=\"done-basket\" style={{width: 80, marginBottom:35}}>\r\n            <NavBtn>\r\n              <NavBtnLink style={{background: \"#D14240\"}} onClick={() => coloringFormStore.setMsg()} to='/colouring'>\r\n                <p className = \"buttonText\">done</p>\r\n              </NavBtnLink>\r\n            </NavBtn>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </>  \r\n  );\r\n};\r\n\r\nexport default observer(CreateFigurine);","import React, { useRef, useState, useMemo, useEffect} from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport * as THREE from \"three\";\r\n\r\nconst ResultVase = (props) => {\r\n    const {vaseStore} = props\r\n    const itemsRef = useRef([]);\r\n    const insideRef = useRef([]);\r\n\r\n    useEffect(() => {\r\n        itemsRef.current = itemsRef.current.slice(0, vaseStore.modelDimensions.length);\r\n        insideRef.current = insideRef.current.slice(0, vaseStore.modelDimensions.length)\r\n     }, []);\r\n\r\n    useEffect(() => {\r\n        const len = vaseStore.modelDimensions.length\r\n        for(let i = 0; i < len; i += 1){\r\n            itemsRef.current[i].map = new THREE.TextureLoader().load(vaseStore.textures[len-i-1])\r\n            insideRef.current[i].map = new THREE.TextureLoader().load(vaseStore.textures[len-i-1])\r\n            // console.log(vaseStore.textures[len-i-1])\r\n        }\r\n    }, [])\r\n\r\n\r\n    const s_dtop_h = vaseStore.scale_h/2\r\n    const s_dbottom_h = -1 * s_dtop_h\r\n    const scale_factor = vaseStore.scale_h/vaseStore.height\r\n\r\n    const s_dtop = vaseStore.dtop * scale_factor\r\n    const s_dbottom = vaseStore.dbottom * scale_factor\r\n\r\n    let top_rim_mesh = <mesh/>\r\n    let bottom_rim_mesh = <mesh />\r\n    let flat_bottom_mesh = <mesh />\r\n\r\n    if (vaseStore.top_rim){\r\n        top_rim_mesh = <mesh position = {[0,s_dtop_h+0.1,0]} rotation = {[1.57,0,0]}> \r\n        <torusGeometry args={[(s_dtop/2)+0.1,0.3,10,50]}/>\r\n        <meshPhongMaterial color={vaseStore.default_color} />\r\n        </mesh>\r\n    }\r\n    if (vaseStore.bottom_rim){\r\n        bottom_rim_mesh = <mesh position = {[0,s_dbottom_h-0.1,0]} rotation = {[1.57,0,0]}> \r\n        <torusGeometry args={[(s_dbottom/2)+0.1, 0.3, 10, 50]}/>\r\n        <meshPhongMaterial color={vaseStore.default_color} />\r\n        </mesh>\r\n    }\r\n\r\n    const points = useMemo(() => vaseStore.updateCurvedPts(true), [vaseStore.cm]);\r\n\r\n    let [x_rot,changeXrot] = useState(0);\r\n    let [y_rot,changeYrot] = useState(0);\r\n    let [z_rot,changeZrot] = useState(0);\r\n    let [dist,changeDist] = useState(0);\r\n\r\n    if (vaseStore.flat_bottom){\r\n        flat_bottom_mesh = <mesh position = {[0,s_dbottom_h,0]}>\r\n            <cylinderGeometry args={[s_dbottom/2, s_dbottom/2, 0.8, 32]}/>\r\n            <meshPhongMaterial color={vaseStore.default_color} />\r\n        </mesh>\r\n    }\r\n\r\n    const handleKeyDown = (event) => {\r\n        switch(event.key)\r\n        {\r\n            case \"x\":\r\n                    x_rot = x_rot + 0.1\r\n                    changeXrot(x_rot);\r\n                    break;\r\n            case \"y\": \r\n                    y_rot = y_rot + 0.1\r\n                    changeYrot(y_rot);\r\n                    break;\r\n            case \"z\": \r\n                    z_rot = z_rot + 0.1\r\n                    changeZrot(z_rot);\r\n                    break;\r\n            case \"w\": \r\n                    dist = Math.max(dist - 5,-550)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \"q\": \r\n                    dist = Math.min(dist + 5,40)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \" \": \r\n                    event.preventDefault()\r\n                    x_rot = 0\r\n                    y_rot = 0\r\n                    z_rot = 0 \r\n                    dist = 0\r\n                    changeXrot(x_rot)\r\n                    changeYrot(y_rot)\r\n                    changeZrot(z_rot)\r\n                    changeDist(dist)\r\n            default: \r\n                    break;\r\n        }\r\n    };\r\n    \r\n    React.useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n\r\n        // cleanup this component\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <group position={[0,0,dist]} rotation={[x_rot,y_rot,z_rot]}> \r\n            <group>\r\n            {points.map((_, i) => (\r\n                <mesh key={i}>\r\n                    <latheGeometry args={[points[i], 30, 0, 2*Math.PI]}/>\r\n                    <meshPhongMaterial ref={el => itemsRef.current[i] = el} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n                </mesh>\r\n            ))}\r\n            {points.map((_, i) => (\r\n                <mesh key={i}>\r\n                    <latheGeometry args={[points[i], 30, 0, 2*Math.PI]}/>\r\n                    <meshLambertMaterial ref={el => insideRef.current[i] = el} side = {THREE.BackSide} />\r\n                </mesh> \r\n            ))}\r\n            </group>\r\n            {vaseStore.top_rim && top_rim_mesh}\r\n            {vaseStore.bottom_rim && bottom_rim_mesh}\r\n            {vaseStore.flat_bottom && flat_bottom_mesh}\r\n        </group>\r\n    )\r\n  }\r\n\r\nexport default observer(ResultVase);","import React, { useRef, useState, useMemo, useEffect} from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport * as THREE from \"three\";\r\n\r\nconst Figurine = (props) => {\r\n    const {figStore} = props\r\n    const itemsRef = useRef([]);\r\n    const insideRef = useRef([]);\r\n\r\n    useEffect(() => {\r\n        itemsRef.current = itemsRef.current.slice(0, figStore.modelDimensions.length-1);\r\n        insideRef.current = insideRef.current.slice(0, figStore.modelDimensions.length-1);\r\n     }, []);\r\n\r\n    useEffect(() => {\r\n        const len = figStore.modelDimensions.length-1\r\n        for(let i = 0; i < len; i += 1){\r\n            itemsRef.current[i].map = new THREE.TextureLoader().load(figStore.textures[i])\r\n            insideRef.current[i].map = new THREE.TextureLoader().load(figStore.textures[i])\r\n            // console.log(figStore.textures[len-i-1])\r\n        }\r\n    }, [])\r\n\r\n    const texture_body = useMemo(() => new THREE.TextureLoader().load(figStore.textures[figStore.textures.length-1]), []) \r\n\r\n    const theta_len = 0.8\r\n    const goal_rad = (figStore.diameter * figStore.body_scale)/2\r\n    const head_rad = goal_rad/Math.sin((1-theta_len) * Math.PI)\r\n    const offset = head_rad*Math.cos((1-theta_len) * Math.PI) - 0.2\r\n\r\n    const divs = figStore.getBrokenHeadPts(Math.PI*theta_len)\r\n\r\n    const broken_head = \r\n    <group>\r\n        {divs.map((_, i) => (\r\n            <mesh key={i} position={[0,(figStore.diameter * figStore.body_height) + offset,0]}>\r\n                <sphereGeometry args={[head_rad, 20, 14, 0, 2 * Math.PI, divs[i][0], divs[i][1]]}/>\r\n                <meshPhongMaterial ref={el => itemsRef.current[i] = el} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n        ))}\r\n        {divs.map((_, i) => (\r\n            <mesh key={i} position={[0,(figStore.diameter * figStore.body_height) + offset,0]}>\r\n                <sphereGeometry args={[head_rad, 20, 14, 0, 2 * Math.PI, divs[i][0], divs[i][1]]}/>\r\n                <meshPhongMaterial ref={el => insideRef.current[i] = el} side={THREE.BackSide}/>\r\n            </mesh>\r\n        ))}\r\n    </group>\r\n    \r\n    let bunny_ears = <mesh/>\r\n    let cat_ears = <mesh/> \r\n    let sphere_ears = <mesh/>\r\n    let bear_ears = <mesh/>\r\n    let arms = <mesh/>\r\n\r\n    class CustomCircleCurve extends THREE.Curve {\r\n        constructor(scale) {\r\n          super();\r\n          this.scale = scale;\r\n        }\r\n        getPoint(t) {\r\n          const tx = Math.cos(2 * Math.PI * t);\r\n          const ty = Math.max(-0.5, Math.sin(2 * Math.PI * t));\r\n          const tz = 0;\r\n          return new THREE.Vector3(tx, ty, tz).multiplyScalar(this.scale);\r\n        }\r\n    }\r\n\r\n    if(figStore.ears === \"bear\"){\r\n        const tube_scale = head_rad/3\r\n        const path = new CustomCircleCurve(tube_scale)\r\n        const segs = 40\r\n        const tube_rad = Math.min(0.5, tube_scale/7)\r\n        const rad_segs = 7\r\n        const closed = false\r\n        const y_pos = (figStore.diameter * figStore.body_height) + offset + tube_scale/4 + (head_rad * Math.cos(Math.PI/4))\r\n\r\n        bear_ears =  \r\n        <group>\r\n        <mesh position={[-(head_rad * Math.cos(Math.PI/4) + tube_scale/5),y_pos,0]} rotation={[0,0,Math.PI/4]} >\r\n            <tubeGeometry args={[path, segs, tube_rad, rad_segs, closed]} />\r\n            <meshPhongMaterial color={figStore.default_color} side = {THREE.FrontSide} />\r\n        </mesh>\r\n        <mesh position={[(head_rad * Math.cos(Math.PI/4) + tube_scale/5),y_pos,0]} rotation={[0,0,-Math.PI/4]}>\r\n            <tubeGeometry args={[path, segs, tube_rad, rad_segs, closed]} />\r\n            <meshPhongMaterial  color={figStore.default_color} side = {THREE.FrontSide} />\r\n        </mesh>\r\n        </group>\r\n    }\r\n\r\n    if(figStore.ears === \"cat\"){\r\n        const shape = new THREE.Shape();\r\n        const y_pos = (figStore.diameter * figStore.body_height) + offset + (head_rad * Math.cos(Math.PI/4))\r\n        const half_side_len = (head_rad/1.5)/2\r\n        shape.moveTo(-half_side_len,0);\r\n        shape.quadraticCurveTo(-half_side_len/1.2, half_side_len * 1.3, 0,half_side_len * 1.8);\r\n        shape.quadraticCurveTo(half_side_len/1.2, half_side_len * 1.3, half_side_len,0);\r\n        shape.lineTo(-half_side_len,0);\r\n\r\n        const extrudeSettings = {\r\n            steps: 1,  \r\n            depth: 1,  \r\n            bevelEnabled: false,  \r\n          };\r\n\r\n        cat_ears = \r\n        <group>\r\n        <mesh position={[(head_rad * Math.cos(Math.PI/4) - half_side_len/3),y_pos,0]} rotation={[0,0,-Math.PI/4.5]}>\r\n            <extrudeGeometry args={[shape, extrudeSettings]}/>\r\n            <meshPhongMaterial  color={figStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>        \r\n        </mesh>\r\n        <mesh position={[-(head_rad * Math.cos(Math.PI/4) - half_side_len/3),y_pos,0]} rotation={[0,0,Math.PI/4.5]}>\r\n            <extrudeGeometry args={[shape, extrudeSettings]}/>\r\n            <meshPhongMaterial  color={figStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>        \r\n        </mesh>\r\n        </group>\r\n\r\n    }\r\n\r\n    if(figStore.ears === \"bunny\"){\r\n        const bshape = new THREE.Shape();\r\n        const y_pos = (figStore.diameter * figStore.body_height) + offset + (head_rad * Math.cos(Math.PI/4))\r\n        const half_side_len = (head_rad/2)/2\r\n        bshape.moveTo(-half_side_len,0);\r\n        bshape.lineTo(-half_side_len, half_side_len * 3)\r\n        bshape.quadraticCurveTo(-half_side_len/2, (half_side_len * 4), 0,half_side_len * 4);\r\n        bshape.quadraticCurveTo(half_side_len/2, half_side_len * 4, half_side_len, half_side_len * 3);\r\n        bshape.lineTo(half_side_len,0);\r\n\r\n        const extrudeSettings = {\r\n            steps: 1,  \r\n            depth: 1,  \r\n            bevelEnabled: false,  \r\n          };\r\n\r\n        bunny_ears = \r\n        <group>\r\n        <mesh position={[(head_rad * Math.cos(Math.PI/4) - half_side_len/3),y_pos,0]} rotation={[0,0,-Math.PI/4]}>\r\n            <extrudeGeometry args={[bshape, extrudeSettings]}/>\r\n            <meshPhongMaterial  color={figStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>        \r\n        </mesh>\r\n        <mesh position={[-(head_rad * Math.cos(Math.PI/4) - half_side_len/3),y_pos,0]} rotation={[0,0,Math.PI/4]}>\r\n            <extrudeGeometry args={[bshape, extrudeSettings]}/>\r\n            <meshPhongMaterial  color={figStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>        \r\n        </mesh>\r\n        </group>\r\n    }\r\n\r\n    if(figStore.ears === \"sphere\"){\r\n        const ear_rad = head_rad/3.5\r\n        const y_pos = (figStore.diameter * figStore.body_height) + offset + ear_rad + (head_rad * Math.cos(Math.PI/4))\r\n        sphere_ears = \r\n        <group>\r\n            <mesh position={[-(head_rad * Math.cos(Math.PI/4)),y_pos,0]} rotation={[0,0,Math.PI/4]}>\r\n                <sphereGeometry args={[ear_rad, 20, 14, 0, 2 * Math.PI, 0, Math.PI ]}/>\r\n                <meshPhongMaterial  color={figStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n            <mesh position={[(head_rad * Math.cos(Math.PI/4)),y_pos,0]} rotation={[0,0,-Math.PI/4]}>\r\n                <sphereGeometry args={[ear_rad, 20, 14, 0, 2 * Math.PI, 0, Math.PI ]}/>\r\n                <meshPhongMaterial  color={figStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n        </group>\r\n    }\r\n\r\n    if (figStore.arms){\r\n        const arm_rad = figStore.diameter/7\r\n        const y_pos = (figStore.diameter * figStore.body_height)/2\r\n        const x_pos = (figStore.diameter * figStore.body_scale)/2 + arm_rad*1.3\r\n        arms = \r\n        <group>\r\n            <mesh position={[-(x_pos),y_pos,0]} rotation={[0,0,Math.PI/2.65]}>\r\n                <cylinderGeometry args={[arm_rad, arm_rad, arm_rad*1.3, 15]} />\r\n                <meshPhongMaterial  color={figStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n            <mesh position={[x_pos,y_pos,0]} rotation={[0,0,-Math.PI/2.65]}>\r\n                <cylinderGeometry args={[arm_rad, arm_rad, arm_rad*1.3, 15]} />\r\n                <meshPhongMaterial  color={figStore.default_color} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n        </group>\r\n    }\r\n\r\n    const points = figStore.updateCurvedPts()\r\n\r\n    let [x_rot,changeXrot] = useState(0);\r\n    let [y_rot,changeYrot] = useState(0);\r\n    let [z_rot,changeZrot] = useState(0);\r\n    let [dist,changeDist] = useState(0);\r\n\r\n    const handleKeyDown = (event) => {\r\n        switch(event.key)\r\n        {\r\n            case \"x\":\r\n                    x_rot = x_rot + 0.1\r\n                    changeXrot(x_rot);\r\n                    break;\r\n            case \"y\": \r\n                    y_rot = y_rot + 0.1\r\n                    changeYrot(y_rot);\r\n                    break;\r\n            case \"z\": \r\n                    z_rot = z_rot + 0.1\r\n                    changeZrot(z_rot);\r\n                    break;\r\n            case \"w\": \r\n                    dist = Math.max(dist - 5,-300)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \"q\": \r\n                    dist = Math.min(dist + 5,50)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \" \": \r\n                    event.preventDefault()\r\n                    x_rot = 0\r\n                    y_rot = 0\r\n                    z_rot = 0 \r\n                    dist = 0\r\n                    changeXrot(x_rot)\r\n                    changeYrot(y_rot)\r\n                    changeZrot(z_rot)\r\n                    changeDist(dist)\r\n                    break;\r\n            default: \r\n                    break;\r\n        }\r\n    };\r\n    \r\n    React.useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n\r\n        // cleanup this component\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <group position={[0,-7,dist]} rotation={[x_rot,y_rot,z_rot]}> \r\n            <mesh >\r\n                <latheGeometry args={[points, 30, 0, 2*Math.PI]}/>\r\n                <meshPhongMaterial map = {texture_body}  side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n            <mesh>\r\n                <latheGeometry args={[points, 30, 0, 2*Math.PI]}/>\r\n                <meshPhongMaterial map = {texture_body}  side = {THREE.BackSide} />\r\n            </mesh>\r\n            {broken_head}\r\n            {figStore.ears === \"bear\" && bear_ears}\r\n            {figStore.ears === \"bunny\" && bunny_ears}\r\n            {figStore.ears === \"cat\" && cat_ears}\r\n            {figStore.ears === \"sphere\" && sphere_ears}\r\n            {figStore.arms && arms}\r\n        </group>\r\n    )\r\n  }\r\n\r\nexport default observer(Figurine);","import React, { useRef, useState, useMemo, useEffect} from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport * as THREE from \"three\";\r\n\r\nconst ResultBasket = (props) => {\r\n    const {basketStore} = props\r\n    const itemsRef = useRef([]);\r\n    const insideRef = useRef([]);\r\n\r\n    useEffect(() => {\r\n        itemsRef.current = itemsRef.current.slice(0, basketStore.modelDimensions.length);\r\n        insideRef.current = insideRef.current.slice(0, basketStore.modelDimensions.length);\r\n     }, []);\r\n\r\n    useEffect(() => {\r\n        const len = basketStore.modelDimensions.length\r\n        for(let i = 0; i < len; i += 1){\r\n            itemsRef.current[i].map = new THREE.TextureLoader().load(basketStore.textures[len-i-1])\r\n            insideRef.current[i].map = new THREE.TextureLoader().load(basketStore.textures[len-i-1])\r\n            // console.log(basketStore.textures[len-i-1])\r\n        }\r\n    }, [])\r\n\r\n    const s_dtop_h = basketStore.scale_h/2\r\n    const s_dbottom_h = -1 * s_dtop_h\r\n    const scale_factor = basketStore.scale_h/basketStore.height\r\n\r\n    const s_dtop = Math.max(1,basketStore.dtop * scale_factor)\r\n    const s_dbottom = Math.max(1,basketStore.dbottom * scale_factor)\r\n\r\n    let top_rim_mesh = <mesh/>\r\n    let bottom_rim_mesh = <mesh />\r\n    let handle = <mesh /> // handle options: 1 top, 2 sides, none \r\n    let lid = <mesh/> // true false\r\n    let side_handles = <mesh/>\r\n    let flat_bottom_mesh = <mesh />\r\n    let curved_bottom = <mesh />\r\n\r\n    if (basketStore.top_rim){\r\n        top_rim_mesh = <mesh position = {[0,s_dtop_h+0.1,0]} rotation = {[1.57,0,0]}> \r\n        <torusGeometry args={[(s_dtop/2)+0.15,0.25,10,50]}/>\r\n        <meshPhongMaterial color={basketStore.default_color} />\r\n        </mesh>\r\n    }\r\n    if (basketStore.bottom_rim){\r\n        bottom_rim_mesh = <mesh position = {[0,s_dbottom_h-0.1,0]} rotation = {[1.57,0,0]}> \r\n        <torusGeometry args={[(s_dbottom/2)+0.15, 0.25, 10, 50]}/>\r\n        <meshPhongMaterial color={basketStore.default_color} />\r\n        </mesh>\r\n    }\r\n\r\n    if (basketStore.top_handle){\r\n        const phi_len = Math.PI * 1\r\n        const theta_len = 0.1 * Math.PI\r\n        const theta_start = Math.PI * 0.45\r\n\r\n        handle = \r\n        <group>\r\n            <mesh position={[0,s_dtop_h,0]} rotation={[-Math.PI/2,0,0]}>\r\n                <sphereGeometry args={[s_dtop/2, 20, 10, 0, phi_len, theta_start, theta_len]} />\r\n                <meshPhongMaterial color={basketStore.default_color} side = {THREE.FrontSide} />\r\n            </mesh>\r\n            <mesh position={[0,s_dtop_h,0]}  rotation={[-Math.PI/2,0,0]}>\r\n                <sphereGeometry args={[s_dtop/2, 20, 10, 0, phi_len, theta_start, theta_len]} />\r\n                <meshPhongMaterial color={basketStore.default_color} side = {THREE.BackSide} />\r\n            </mesh>\r\n        </group>\r\n    }\r\n\r\n    if (basketStore.flat_bottom){\r\n        flat_bottom_mesh = <mesh position = {[0,s_dbottom_h,0]}>\r\n            <cylinderGeometry args={[s_dbottom/2, s_dbottom/2, 0.8, 32]}/>\r\n            <meshPhongMaterial color={basketStore.default_color} />\r\n        </mesh>\r\n    }\r\n\r\n    class CustomCircleCurve extends THREE.Curve {\r\n        constructor(scale) {\r\n          super();\r\n          this.scale = scale;\r\n        }\r\n        getPoint(t) {\r\n          const tx = 0;\r\n          const ty = Math.max(-0.5, Math.sin(2 * Math.PI * t));\r\n          const tz = Math.cos(2 * Math.PI * t);\r\n          return new THREE.Vector3(tx, ty, tz).multiplyScalar(this.scale);\r\n        }\r\n      }\r\n\r\n    if (basketStore.side_handles){\r\n        const tube_scale = s_dtop/5\r\n        const path = new CustomCircleCurve(tube_scale)\r\n        const segs = 40\r\n        const tube_rad = Math.min(0.5, tube_scale/10)\r\n        const rad_segs = 7\r\n        const closed = false\r\n\r\n        side_handles =  \r\n        <group>\r\n        <mesh position={[(-s_dtop/2)+(tube_rad*2), s_dtop_h + tube_rad + (0.5*tube_scale), 0]} >\r\n            <tubeGeometry args={[path, segs, tube_rad, rad_segs, closed]} />\r\n            <meshPhongMaterial color={basketStore.default_color} side = {THREE.FrontSide} />\r\n        </mesh>\r\n        <mesh position={[(s_dtop/2)-(tube_rad*2), s_dtop_h + tube_rad + (0.5*tube_scale), 0]}>\r\n            <tubeGeometry args={[path, segs, tube_rad, rad_segs, closed]} />\r\n            <meshPhongMaterial color={basketStore.default_color} side = {THREE.FrontSide} />\r\n        </mesh>\r\n        </group>\r\n    }\r\n\r\n    if (basketStore.lid){\r\n        const lid_scale = 1\r\n        const percent_lid = 0.25\r\n        const rad_lid = (s_dtop * lid_scale/2) / Math.sin(Math.PI * percent_lid)\r\n        const lid_dist = s_dtop_h - (s_dtop* lid_scale/2) / Math.tan(Math.PI * percent_lid)\r\n        const deco_r = rad_lid/15\r\n        const deco_dist = lid_dist + rad_lid + deco_r - 0.2\r\n\r\n        lid = \r\n        <group>\r\n            <mesh position={[0,lid_dist+0.1,0]}>\r\n                <sphereGeometry args={[rad_lid, 20, 10, 0, Math.PI * 2, 0, Math.PI * percent_lid]} />\r\n                <meshPhongMaterial color={basketStore.default_color} side = {THREE.FrontSide} />\r\n            </mesh>\r\n            <mesh position={[0,lid_dist,0]}>\r\n                <sphereGeometry args={[rad_lid, 20, 10, 0, Math.PI * 2, 0, Math.PI * percent_lid]} />\r\n                <meshPhongMaterial color={basketStore.default_color} side = {THREE.BackSide} />\r\n            </mesh>\r\n            <mesh position={[0,deco_dist,0]}>\r\n                <sphereGeometry args={[deco_r, 20, 10]} />\r\n                <meshPhongMaterial color={basketStore.default_color} side = {THREE.FrontSide} />\r\n            </mesh>\r\n        </group>\r\n    }\r\n\r\n    if (!basketStore.flat_bottom){\r\n        const percent_sphere = 0.2\r\n        const rad_bottom = (s_dbottom/2) / Math.sin(Math.PI * percent_sphere)\r\n        const bottom_dist = s_dbottom_h - (s_dbottom/2) / Math.tan(Math.PI * percent_sphere)\r\n\r\n        curved_bottom = <group>\r\n        <mesh position={[0,bottom_dist-0.1,0]}>\r\n            <sphereGeometry args={[rad_bottom, 20, 10, 0, Math.PI * 2, 0, Math.PI * percent_sphere]} />\r\n            <meshPhongMaterial color={basketStore.default_color} side={THREE.FrontSide}/>\r\n        </mesh>\r\n        <mesh position={[0,bottom_dist-0.1,0]}>\r\n            <sphereGeometry args={[rad_bottom, 20, 10, 0, Math.PI * 2, 0, Math.PI * percent_sphere]} />\r\n            <meshPhongMaterial color={basketStore.default_color} side = {THREE.BackSide} />\r\n        </mesh>\r\n        </group>\r\n    }\r\n\r\n    // const points = basketStore.updateCurvedPts()\r\n    const points = useMemo(() => basketStore.updateCurvedPts(true), [basketStore.cm]);\r\n\r\n    let [x_rot,changeXrot] = useState(0);\r\n    let [y_rot,changeYrot] = useState(0);\r\n    let [z_rot,changeZrot] = useState(0);\r\n    let [dist,changeDist] = useState(0);\r\n\r\n    const handleKeyDown = (event) => {\r\n        switch(event.key)\r\n        {\r\n            case \"x\":\r\n                    x_rot = x_rot + 0.1\r\n                    changeXrot(x_rot);\r\n                    break;\r\n            case \"y\": \r\n                    y_rot = y_rot + 0.1\r\n                    changeYrot(y_rot);\r\n                    break;\r\n            case \"z\": \r\n                    z_rot = z_rot + 0.1\r\n                    changeZrot(z_rot);\r\n                    break;\r\n            case \"w\": \r\n                    dist = Math.max(dist - 5,-300)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \"q\": \r\n                    dist = Math.min(dist + 5,50)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \" \": \r\n                    event.preventDefault()\r\n                    x_rot = 0\r\n                    y_rot = 0\r\n                    z_rot = 0 \r\n                    dist = 0\r\n                    changeXrot(x_rot)\r\n                    changeYrot(y_rot)\r\n                    changeZrot(z_rot)\r\n                    changeDist(dist)\r\n            default: \r\n                    break;\r\n        }\r\n    };\r\n    \r\n    React.useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n\r\n        // cleanup this component\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <group position={[0,-5,dist]} rotation={[x_rot,y_rot,z_rot]}> \r\n            <group>\r\n            {points.map((_, i) => (\r\n                <mesh key={i}>\r\n                    <latheGeometry args={[points[i], 30, 0, 2*Math.PI]}/>\r\n                    <meshPhongMaterial ref={el => itemsRef.current[i] = el} side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n                </mesh>\r\n            ))}\r\n            {points.map((_, i) => (\r\n                <mesh key={i}>\r\n                    <latheGeometry args={[points[i], 30, 0, 2*Math.PI]}/>\r\n                    <meshPhongMaterial ref={el => insideRef.current[i] = el} side = {THREE.BackSide} />\r\n                </mesh>\r\n            ))}\r\n            </group>   \r\n            {basketStore.lid && lid}\r\n            {basketStore.top_rim && top_rim_mesh}\r\n            {basketStore.bottom_rim && bottom_rim_mesh}\r\n            {basketStore.top_handle && handle}\r\n            {basketStore.side_handles && side_handles}\r\n            {basketStore.flat_bottom && flat_bottom_mesh}\r\n            {!basketStore.flat_bottom && curved_bottom}\r\n        </group>\r\n    )\r\n  }\r\n\r\nexport default observer(ResultBasket);","export default __webpack_public_path__ + \"static/media/upper-banner.1523f22e.png\";","export default __webpack_public_path__ + \"static/media/lower-banner.94f2cf86.png\";","import React, {useEffect, useRef} from 'react';\r\nimport {useStores} from \"../models/RootStoreContext\"\r\nimport { observer } from \"mobx-react\";\r\nimport  ResultVase  from \"../components/ResultVase\"\r\nimport  Swan  from \"../components/Swan\"\r\nimport  ResultFigurine  from \"../components/ResultFigurine\"\r\nimport  ResultBasket  from \"../components/ResultBasket\"\r\nimport { Canvas} from \"react-three-fiber\";\r\nimport './create-vase.css'\r\nimport upperbanner from \"../assets/upper-banner.png\"\r\nimport lowerbanner from \"../assets/lower-banner.png\"\r\nimport { FiDownload } from \"react-icons/fi\";\r\n// import { exportComponentAsPNG } from \"react-component-export-image\";\r\n\r\nconst Result = () => {\r\n  const {coloringFormStore, vaseStore, swanStore, basketStore, figStore} = useStores()\r\n\r\n  coloringFormStore.setMsg(\"error\")\r\n  \r\n  const canvasRef = useRef()\r\n  let modelStore; \r\n  if (coloringFormStore.model === \"vase\") modelStore = vaseStore\r\n  if (coloringFormStore.model === \"swan\") modelStore = swanStore\r\n  else if (coloringFormStore.model === \"fig\") modelStore = figStore\r\n  else if (coloringFormStore.model === \"basket\") modelStore = basketStore\r\n  modelStore.setDefaultColor(coloringFormStore.defaultColor)\r\n  \r\n  useEffect(() => {\r\n    const canvas = canvasRef.current\r\n    const context = canvas.getContext(\"2d\")\r\n    // console.log(coloringFormStore.coloringFormData)\r\n    // console.log(coloringFormStore.coloringFormData[0].drawingSectionData[0].rowData[0].pixelColor)\r\n    // console.log(\"Num sections\", coloringFormStore.coloringFormData.length)\r\n    const px_size = 20\r\n    const half_px_width = px_size/2\r\n    const defaultCol = coloringFormStore.defaultColor;\r\n\r\n    for (let i = 0; i < coloringFormStore.coloringFormData.length; i++){\r\n      const sec_width = modelStore.modelDimensions[i][0]\r\n      const sec_height = modelStore.modelDimensions[i][1] \r\n      canvas.width = sec_width * px_size\r\n      canvas.height = sec_height * px_size\r\n      context.fillStyle = defaultCol\r\n      context.fillRect(0, 0, canvas.width, canvas.height);\r\n      for (let r = 0; r < sec_height; r++){\r\n        let offset = 0 \r\n        if (coloringFormStore.coloringFormData[i].drawingSectionData[r].offset){\r\n          offset = half_px_width\r\n          const last_idx = coloringFormStore.coloringFormData[i].drawingSectionData[r].rowData.length\r\n          context.fillStyle = coloringFormStore.coloringFormData[i].drawingSectionData[r].rowData[last_idx-1].pixelColor\r\n          context.fillRect(0, px_size * r, half_px_width, px_size)\r\n        }\r\n        for (let c = 0; c < sec_width; c++){\r\n          if (coloringFormStore.coloringFormData[i].drawingSectionData[r].rowData[c].pixelColor === defaultCol) continue\r\n          context.fillStyle = coloringFormStore.coloringFormData[i].drawingSectionData[r].rowData[c].pixelColor\r\n          context.fillRect((px_size * c) + offset, px_size * r, px_size, px_size)\r\n        }\r\n      }\r\n      var texture = canvas.toDataURL(\"image/png\", 1.0)\r\n      modelStore.storePic(texture)\r\n    }\r\n  }, [])\r\n\r\n  // const modelRef = useRef()  \r\n\r\n  return (\r\n    // <canvas ref={canvasRef}/> // to test texture generation\r\n    <div className=\"container\" style={{background: '#FFE7E5', display: 'flex', flexDirection:'row', width: 'auto', height: '600px'}}>\r\n      <div className=\"containerLeft\" style={{background: '#FFE7E5', width: '52%', height: 'auto',float:'left'}}>\r\n          <Canvas camera={{position:[0, 0, 95], fov:30, aspect: 800/600, near: 0.1,far: 1000}} style={{background: \"pink\", height: \"80%\", borderRadius:30, marginTop:'1%', marginLeft:'1%',width:'99%'}}>\r\n            <spotLight position={[-275, 150, 90]} intensity = {0.8}/>\r\n            <spotLight position={[100, 25, 90]} intensity = {0.8}/>\r\n            <spotLight position={[-150, -150, 110]} intensity = {0.3} />\r\n            <spotLight position={[150, -150, 110]} intensity={0.1} />\r\n            <spotLight position={[-10, 0, 25]} intensity={0.1} />\r\n            {coloringFormStore.model === \"vase\" && <ResultVase vaseStore={vaseStore} />}\r\n            {coloringFormStore.model === \"swan\" && <Swan swanStore={swanStore} result={true}/>}\r\n            {coloringFormStore.model === \"fig\" && <ResultFigurine figStore={figStore}/>}\r\n            {coloringFormStore.model === \"basket\" && <ResultBasket basketStore={basketStore} />}\r\n          </Canvas>\r\n        <div className=\"containerCaption\">\r\n            <div style={{height: 10}}></div>\r\n            <a>Press <span>x</span> , <span>y</span> , and <span>z</span> to rotate the object ,<br/><span>q</span> and <span>w</span> to zoom in and out , <br/>and <span>space</span> to reset view to default . </a>\r\n            <div style={{height: 10}}></div>\r\n        </div>\r\n      </div>\r\n      <div className=\"containerRight\" style={{width: '48%', height: \"100%\", overflow: 'visible', float:'right', alignItems:\"center\", justifyContent:\"center\", position: \"relative\"}}>\r\n        <canvas style={{display:\"none\"}} ref={canvasRef}/>\r\n        <img alt={\"\"} src={upperbanner} className=\"banner\" style={{marginTop: 2}}/>\r\n        <div className = \"done-button\"\r\n          onClick={() => coloringFormStore.saveDiagram()}> \r\n          <p className = \"download-label\"><span><FiDownload size={20}/></span> download 3d-o diagram <span><FiDownload size={20}/></span></p>\r\n        </div>\r\n        {/* <div className = \"done-button\"\r\n          onClick={() => coloringFormStore.saveDiagram()}> \r\n          <p className = \"download-label\"><span><FiDownload size={20}/></span> download 3d model <span><FiDownload size={20}/></span></p>\r\n        </div> */}\r\n        <img alt={\"\"} src={lowerbanner} className=\"banner-b\"  />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(Result);","import React from 'react';\r\nimport Navbar from '../components/Navbar';\r\nimport Landing from './landing';\r\nimport About from './about';\r\nimport Learn from './learn';\r\nimport Contact from './contact';\r\nimport Create from './create';\r\nimport Gallery from './gallery';\r\nimport Browse from './browse';\r\nimport CreateSwan from \"./create-swan\"\r\nimport CreateVase from \"./create-vase\"\r\nimport CreateBasket from \"./create-basket\"\r\nimport CreateFigurine from \"./create-figurine\"\r\nimport Result from \"./result\"\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\r\nimport { useStores } from \"../models/RootStoreContext\"\r\n\r\nconst Home = () => {\r\n\r\n  const {coloringFormStore} = useStores();\r\n\r\n  return (\r\n  <div className=\"Background\">\r\n    <div className=\"InnerApp\"> \r\n      <Navbar/>\r\n      <Switch>\r\n        <Route path='/about' component={About} />\r\n        <Route path='/create' component={Create} />\r\n        <Route path='/learn' component={Learn} />\r\n        <Route path='/contact' component={Contact} />\r\n        <Route path='/gallery' component={Gallery} />\r\n        <Route path='/browse' component={Browse} />\r\n        <Route path='/create-swan' component={CreateSwan} />\r\n        <Route path='/create-vase' component={CreateVase} />\r\n        <Route path='/create-basket' component={CreateBasket} />\r\n        <Route path='/create-figurine' component={CreateFigurine} />\r\n        {/* <Route path='/result' component={Result} /> */}\r\n        <Route path='/result'>\r\n          {coloringFormStore.resultMsg === \"error\" ? <Redirect to=\"/create\"/> : <Result />}\r\n        </Route>\r\n        <Route path='/' component={Landing}/>\r\n      </Switch>\r\n    </div>\r\n    <p style={{marginBottom: 30, marginTop: 20, letterSpacing: 1.5, color: \"#E33937\", fontSize:13}}>lina nguyen  2021</p>\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useEffect} from \"react\";\r\nimport \"./pixel.css\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nconst Pixel = (props) => {\r\n  const {formObject, PxModel} = props;\r\n\r\n  function borderColor() {\r\n    var color = PxModel.pixelColor.substring(1, 8);\r\n    var r = parseInt(color.substring(0, 2), 16); // hexToR\r\n    var g = parseInt(color.substring(2, 4), 16); // hexToG\r\n    var b = parseInt(color.substring(4, 6), 16); // hexToB\r\n    return (((r * 0.299) + (g * 0.587) + (b * 0.114)) > 90) ?\r\n      \"#000000\" : \"#FFFFFF\";\r\n  }\r\n\r\n  useEffect(()=>{\r\n    formObject.addPc()\r\n    formObject.updateCounterDefault(true)\r\n  }, [])\r\n\r\n  useEffect(()=>{\r\n    if (formObject.clear){\r\n      formObject.updateCounterDefault(true)\r\n      PxModel.setPixelColor(formObject.defaultColor)\r\n    }\r\n    else if(PxModel.pixelColor === formObject.oldDefault) {\r\n      formObject.updateCounterDefault()\r\n      PxModel.setPixelColor(formObject.defaultColor)\r\n    }\r\n  }, [formObject.defaultColor])\r\n\r\n  function applyColor() {\r\n    formObject.unsetClear();\r\n    PxModel.setPixelColor(formObject.selectedColor);\r\n    if (PxModel.pixelColor !== PxModel.oldColor){\r\n      formObject.updateCounter(PxModel.oldColor, PxModel.pixelColor)\r\n      PxModel.setOldColor(PxModel.pixelColor)\r\n    } \r\n    PxModel.setCanChangeColor(false);\r\n  }\r\n\r\n  function applyColorSpray() {\r\n    if (formObject.mode){\r\n      applyColor()\r\n    }\r\n  }\r\n\r\n  function changeColorOnHover() {\r\n    PxModel.setOldColor(PxModel.pixelColor);\r\n    PxModel.setPixelColor(formObject.selectedColor);\r\n  }\r\n\r\n  function resetColor() {\r\n    if (PxModel.canChangeColor) {\r\n      PxModel.setPixelColor(PxModel.oldColor);\r\n    }\r\n\r\n    PxModel.setCanChangeColor(true);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"pixel\"\r\n      onClick={applyColor}\r\n      onMouseEnter={changeColorOnHover}\r\n      onMouseLeave={resetColor}\r\n      onMouseOver={applyColorSpray}\r\n      style={{ background: PxModel.pixelColor, borderColor: borderColor(), borderStyle: \"solid\"}}\r\n    >\r\n      {PxModel.inverted && <div className=\"inverted\" style={{color: borderColor()}}>-</div>}\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default observer(Pixel);","import React, { useState } from \"react\";\r\nimport \"./specialPixel.css\";\r\n\r\nexport default function SpecialPixel(props) {\r\n  const {on, num, markerNum, displayRowNum, rounded} = props;\r\n\r\n  if (on){\r\n    if (markerNum){\r\n      return (\r\n        <div\r\n          className=\"specialPixelOn\"\r\n        ><p style={{marginTop: -4, fontSize: 10, marginLeft: -1.1, position:'absolute', background: \"#FF6C7B\", paddingLeft: 2.5, paddingRight:2.5, borderRadius:6, color:\"white\"}}> {markerNum}</p></div>\r\n      );\r\n    } else {\r\n      if (rounded){\r\n        return (\r\n          <div className=\"roundedRight\"\r\n          ></div>\r\n        );\r\n      }\r\n      else{\r\n        return (\r\n          <div className=\"specialPixelOn\"\r\n          ></div>\r\n        );\r\n      }\r\n    }\r\n  } \r\n  else {\r\n    if (displayRowNum){\r\n      return (\r\n        <div\r\n          className=\"rowMarkerPixel\"\r\n        >\r\n          <p style={{fontSize:9, marginLeft: 5, marginTop:0, position:'absolute'}}>{displayRowNum}</p>\r\n          </div>\r\n      );\r\n    }\r\n    else{\r\n      return (\r\n        <div\r\n          className=\"specialPixelOff\"\r\n        >\r\n          <p style={{fontSize:10, marginLeft: 4, marginTop: -4, position:'absolute'}}>{num}</p>\r\n          </div>\r\n      );\r\n    }\r\n  }\r\n}","import React, {useEffect} from \"react\";\r\nimport \"./row.css\";\r\nimport Pixel from \"../Pixel\";\r\nimport SpecialPixel from \"../SpecialPixel\";\r\nimport { observer } from \"mobx-react\";\r\n\r\n\r\nconst Row = (props) => {\r\n  const {formObject, RowModel} = props;\r\n  let pixels = [];\r\n\r\n  pixels.push(<SpecialPixel key={-1} on={false} displayRowNum={RowModel.displayRowNum} />)\r\n\r\n  if (RowModel.rowData.length == 0){\r\n    for (let i = 0; i < RowModel.width; i++) {\r\n      RowModel.addPx()\r\n    }\r\n  }\r\n  for (let i = 0; i < RowModel.width; i++) {\r\n    if(formObject.inverted) RowModel.rowData[i].setInverted()\r\n    pixels.push(<Pixel key={i} formObject={formObject} PxModel={RowModel.rowData[i]}/>);\r\n  }\r\n\r\n  pixels.push(<SpecialPixel key={RowModel.width} on={false} displayRowNum={RowModel.displayRowNum} />)\r\n\r\n  return <div style={{marginLeft: RowModel.offset}} className=\"row\">{pixels}</div>;\r\n}\r\n\r\nexport default observer(Row)","import React from \"react\";\r\nimport \"./specialRow.css\";\r\nimport SpecialPixel from \"../SpecialPixel\";\r\n\r\nexport default function SpecialRow(props) {\r\n  const { width, offset, specialTop, specialBottom } = props;\r\n\r\n  let pixels = [];\r\n\r\n  const my_dict = specialBottom ? specialBottom : specialTop\r\n  let count = 0 \r\n\r\n  pixels.push(<SpecialPixel key={-1} on={false} num={\"\"}/>)\r\n\r\n  for (let i = 0; i < width; i++) {\r\n    if (i in my_dict){\r\n      if (my_dict[i] == 1){\r\n        count += 1\r\n        pixels.push(<SpecialPixel key={i} on={true} markerNum={count}/>);\r\n      }\r\n      else if (my_dict[i] == -1){\r\n        pixels.push(<SpecialPixel key={i} on={true} rounded={true}/>);\r\n      }\r\n      else if (i == width-1 && my_dict[i] == 0){\r\n        pixels[0] = <SpecialPixel key={i} on={true}/>\r\n      }\r\n      else{\r\n        pixels.push(<SpecialPixel key={i} on={true}/>);\r\n      }\r\n    }\r\n    else{\r\n        pixels.push(<SpecialPixel key={i} on={false} num = {i+1}/>);\r\n    }\r\n  }\r\n\r\n  return <div style={{marginLeft: offset}} className=\"specialRow\">{pixels}</div>;\r\n}","import React, { useEffect, useState, useRef} from \"react\";\r\nimport \"../Pixel/pixel.css\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nconst UntrackedPixel = (props) => {\r\n  const {formObject, inverted} = props;\r\n\r\n  const [pixelColor, setPixelColor] = useState(formObject.defaultColor);\r\n  const [oldColor, setOldColor] = useState(pixelColor);\r\n  const [canChangeColor, setCanChangeColor] = useState(true);\r\n\r\n  function borderColor() {\r\n    var color = pixelColor.substring(1, 8);\r\n    var r = parseInt(color.substring(0, 2), 16); // hexToR\r\n    var g = parseInt(color.substring(2, 4), 16); // hexToG\r\n    var b = parseInt(color.substring(4, 6), 16); // hexToB\r\n    return (((r * 0.299) + (g * 0.587) + (b * 0.114)) > 90) ?\r\n      \"#000000\" : \"#FFFFFF\";\r\n  }\r\n\r\n  useEffect(()=>{\r\n    formObject.addPc()\r\n    formObject.updateCounterDefault(true)\r\n  }, [])\r\n  \r\n  useEffect(()=>{\r\n    if (formObject.clear){\r\n      formObject.updateCounterDefault(true, true)\r\n      setPixelColor(formObject.defaultColor)\r\n    }\r\n    else if(pixelColor == formObject.oldDefault) {\r\n      formObject.updateCounterDefault()\r\n      setPixelColor(formObject.defaultColor)\r\n    }\r\n  }, [formObject.defaultColor])\r\n\r\n\r\n  function applyColor() {\r\n    formObject.unsetClear();\r\n    setPixelColor(formObject.selectedColor);\r\n    if (pixelColor != oldColor){\r\n      formObject.updateCounter(oldColor, pixelColor)\r\n      setOldColor(pixelColor)\r\n    }\r\n    setCanChangeColor(false);\r\n  }\r\n\r\n  function applyColorSpray() {\r\n    if (formObject.mode){\r\n      applyColor()\r\n    }\r\n  }\r\n\r\n  function changeColorOnHover() {\r\n    setOldColor(pixelColor);\r\n    setPixelColor(formObject.selectedColor);\r\n  }\r\n\r\n  function resetColor() {\r\n    if (canChangeColor) {\r\n      setPixelColor(oldColor);\r\n    }\r\n\r\n    setCanChangeColor(true);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"pixel\"\r\n      onClick={applyColor}\r\n      onMouseEnter={changeColorOnHover}\r\n      onMouseLeave={resetColor}\r\n      onMouseOver={applyColorSpray}\r\n      style={{ background: pixelColor, width: 20, borderColor: borderColor(), borderStyle: \"solid\"}}\r\n    >\r\n      {inverted && <div className=\"inverted\" style={{color: borderColor()}}>-</div>}\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default observer(UntrackedPixel);","import React, {useEffect} from \"react\";\r\nimport \"../Row/row.css\";\r\nimport UntrackedPixel from \"../UntrackedPixel\";\r\nimport SpecialPixel from \"../SpecialPixel\";\r\nimport { observer } from \"mobx-react\";\r\n\r\n\r\nconst UntrackedRow = (props) => {\r\n  const {wing, formObject, numPx, offset, display, inverted} = props;\r\n  let pixels = [];\r\n\r\n  if(display) pixels.push(<SpecialPixel key={-1} on={false} displayRowNum={display}/>)\r\n\r\n  for (let i = 0; i < numPx; i++) {\r\n    pixels.push(<UntrackedPixel key={i} formObject={formObject} inverted={inverted} />);\r\n  }\r\n\r\n  if (!wing) pixels.push(<SpecialPixel key={numPx} on={false} displayRowNum={display} />)\r\n  \r\n  return <div style={{marginLeft: offset}} className=\"row\">{pixels}</div>;\r\n  \r\n}\r\n\r\nexport default observer(UntrackedRow)","  \r\nimport React, { useRef, useEffect } from \"react\";\r\nimport \"../DrawingSection/drawingSection.css\";\r\nimport UntrackedRow from \"../UntrackedRow\";\r\nimport { observer } from \"mobx-react\";\r\nimport \"../DrawingSection/drawingSection.css\"\r\n\r\n// import { exportComponentAsPNG } from \"react-component-export-image\";\r\n\r\nconst TriangleSection = (props) => {\r\n  const {wing, caption, width, formObject, elevation, firstRowDisplay, inverted} = props;\r\n\r\n  const panelRef = useRef();\r\n\r\n  let rows = [];\r\n  \r\n  // height = width \r\n  const px_width = 21 // 21 is the px width w border\r\n  for (let i = 0; i < width; i++) {\r\n    let var_offset = (0.5*(px_width)*(width-i-1))\r\n    let displayNum = elevation+width-i\r\n    if (!firstRowDisplay){\r\n      if (i < width - 1) var_offset = (0.5*(px_width)*(width-i-3))\r\n      else displayNum = false\r\n    }\r\n    rows.push(<UntrackedRow key={i} wing={wing} numPx={i+1} offset={var_offset} formObject={formObject} display={displayNum} inverted={inverted}/>);\r\n  }\r\n\r\n  return (\r\n    <div id=\"triangleSection\">\r\n      <div id=\"pixels\" ref={panelRef} style={{marginBottom: 0, marginLeft: 0, marginRight:0}}>\r\n        {caption && <p id=\"text\">{caption}</p>}\r\n        {rows}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default observer(TriangleSection)","  \r\nimport React, { useRef} from \"react\";\r\nimport \"./drawingSection.css\";\r\nimport Row from \"../Row\";\r\nimport SpecialRow from \"../SpecialRow\";\r\nimport TriangleSection from \"../TriangleSection\";\r\nimport { observer } from \"mobx-react\";\r\n\r\n// import { exportComponentAsPNG } from \"react-component-export-image\";\r\n\r\nconst DrawingSection = (props) => {\r\n  const {caption, specialTop, specialBottom, formObject, DrawingSectionModel} = props;\r\n\r\n  const panelRef = useRef();\r\n\r\n  let rows = []; \r\n  let swanUpper = [];\r\n\r\n  if (formObject.model === \"swan\"){\r\n    if (formObject.swan_two_wings){\r\n      const wing_width = 2 * Math.round(0.195 * DrawingSectionModel.width)\r\n      const remainder = DrawingSectionModel.width - (2 * wing_width)\r\n      const chest_width = Math.ceil(remainder/2)\r\n      const back_width = Math.floor(remainder/2)\r\n      const wing1 = <TriangleSection key={0} wing={true} width={wing_width} formObject={formObject} elevation={DrawingSectionModel.height} firstRowDisplay={true}/> \r\n      const wing2 = <TriangleSection key={1} wing={true} width={wing_width} formObject={formObject} elevation={DrawingSectionModel.height} /> \r\n      const chest = <TriangleSection key={2} wing={true} width={chest_width} formObject={formObject} elevation={DrawingSectionModel.height} />\r\n      const back = <TriangleSection key={3} wing={true} width={back_width} formObject={formObject} elevation={DrawingSectionModel.height} inverted={true}/>\r\n      swanUpper.push(wing1, chest, wing2, back)\r\n    } \r\n    else {\r\n      const wing_width = Math.round(0.75 * DrawingSectionModel.width)\r\n      const remainder = DrawingSectionModel.width - wing_width\r\n      const chest_width = remainder - 2\r\n      const wing = <TriangleSection key={0} wing={true} width={wing_width} formObject={formObject} elevation={DrawingSectionModel.height} firstRowDisplay={true} inverted={true}/> \r\n      const chest = <TriangleSection key={1} wing={true} width={chest_width} formObject={formObject} elevation={DrawingSectionModel.height} firstRowDisplay={true} />\r\n      swanUpper.push(wing, chest)\r\n    }\r\n  }\r\n\r\n  if (formObject.model != \"swan\") rows.push(<SpecialRow key={-1} offset={0} width={DrawingSectionModel.width} specialTop={specialTop} />)\r\n  \r\n  if(DrawingSectionModel.drawingSectionData.length === 0){\r\n    for (let i = 0; i < DrawingSectionModel.height; i++){\r\n      DrawingSectionModel.addRow()\r\n    }\r\n  }\r\n  for (let i = 0; i < DrawingSectionModel.height; i++) {\r\n    DrawingSectionModel.drawingSectionData[i].setWidth(DrawingSectionModel.width)\r\n    DrawingSectionModel.drawingSectionData[i].setDisplayRowNum(DrawingSectionModel.height-i)\r\n    if (i%2 === 1){\r\n      DrawingSectionModel.drawingSectionData[i].setOffset()\r\n      rows.push(<Row key={i} formObject={formObject} RowModel={DrawingSectionModel.drawingSectionData[i]}/>);\r\n    }\r\n    else{ \r\n      rows.push(<Row key={i} formObject={formObject} RowModel={DrawingSectionModel.drawingSectionData[i]}/>);\r\n    }\r\n  }\r\n  \r\n  if(DrawingSectionModel.increasing){\r\n    if (DrawingSectionModel.height%2 === 1){\r\n      rows.push(<SpecialRow key={DrawingSectionModel.height} offset={10.5} width={DrawingSectionModel.width} specialBottom={specialBottom} />)\r\n    } else {\r\n      rows.push(<SpecialRow key={DrawingSectionModel.height} offset={10.5*2} width={DrawingSectionModel.width} specialBottom={specialBottom} />)\r\n    }\r\n  }\r\n  else{\r\n    if (DrawingSectionModel.height%2 === 1){\r\n      rows.push(<SpecialRow key={DrawingSectionModel.height} offset={0} width={DrawingSectionModel.width} specialBottom={specialBottom} />)\r\n    } else {\r\n      rows.push(<SpecialRow key={DrawingSectionModel.height} offset={10.5} width={DrawingSectionModel.width} specialBottom={specialBottom} />)\r\n    }\r\n  } \r\n\r\n  return (\r\n    <div id=\"drawingSection\" >\r\n      <div id=\"pixels\" ref={panelRef} style={{marginBottom: 10, marginLeft: 40, marginRight: 40}}>\r\n        {formObject.model === \"swan\" && <div style={{display:\"flex\", alignItems:\"flex-end\", marginLeft: 10.5, marginBottom: 3, justifyContent:\"flex-start\"}}>\r\n          {swanUpper}\r\n        </div>}\r\n        {caption && <p id=\"text\">{caption}</p>}\r\n        {rows}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default observer(DrawingSection)","import React, {useRef} from 'react';\r\nimport DrawingSection from \"../DrawingSection\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nconst OrigamiObject = (props) => {\r\n    const {caption, dimensions, formObject} = props;\r\n  \r\n    const objectRef = useRef();\r\n\r\n    let increasing = []\r\n    let specialTop = []\r\n    let specialBottom = []\r\n\r\n    if (formObject.model === \"swan\"){\r\n      specialTop = Array(dimensions.length).fill({})\r\n      specialBottom = Array(dimensions.length).fill({})\r\n    }\r\n    else {\r\n      if (dimensions[dimensions.length-2][0]-dimensions[dimensions.length-1][0] < 0) formObject.setInverted()\r\n\r\n      for (let i = dimensions.length-2; i >= 0; i--){\r\n        let sTopCurr = {}\r\n        let sBottomCurr = {}\r\n\r\n        const curr = dimensions[i+1][0]\r\n        const next = dimensions[i][0]\r\n        let diff = next-curr // number of pieces need to add or subtract \r\n\r\n        let distribute = 0 \r\n        let remainder = 0\r\n        let spacing = 0\r\n        if (diff === 0){\r\n          specialTop = Array(dimensions.length).fill({})\r\n          specialBottom = Array(dimensions.length).fill({})\r\n        }\r\n        else if (diff > 0){ // increasing - 2 pcs per increase\r\n          sBottomCurr  = {0: 1, 1: 0, 2: -1}\r\n          distribute = curr - (2 * diff)// pieces left to distribute for spacing \r\n          remainder = distribute >= 0 ? distribute % diff : curr-diff\r\n          spacing = Math.floor(distribute/diff)\r\n          let spacing_arr = Array(diff).fill(spacing)\r\n          for (let i = 0; i < 2; i++){\r\n            let j = i\r\n            while (j < diff && remainder > 0){\r\n              spacing_arr[j] += 1 \r\n              remainder -= 1 \r\n              j += 2 \r\n            }\r\n          }\r\n          let i = 0 \r\n          let idx = 0 \r\n          while(i < diff){\r\n            sTopCurr[idx] = 1\r\n            sTopCurr[idx+1] = -1\r\n            idx += spacing_arr[i] + 2\r\n            i += 1 \r\n          }\r\n          let last_idx = 2\r\n          for (let i = 0; i < spacing_arr.length-1; i ++){\r\n            sBottomCurr[last_idx + spacing_arr[i] + 1] = 1\r\n            sBottomCurr[last_idx + spacing_arr[i] + 2] = 0\r\n            sBottomCurr[last_idx + spacing_arr[i] + 3] = -1\r\n            last_idx = last_idx + spacing_arr[i] + 3\r\n          }  \r\n          specialTop.unshift(sTopCurr)\r\n          specialBottom.unshift(sBottomCurr)    \r\n          increasing.unshift(true) \r\n        } \r\n        else { // decreasing \r\n          sBottomCurr = {0: 1, 1: -1}\r\n          diff = -1 * diff\r\n          distribute = curr - (3 * diff)\r\n          remainder = distribute % diff\r\n          spacing = Math.floor(distribute/diff)\r\n          let spacing_arr = Array(diff).fill(spacing)\r\n          for (let i = 0; i < 2; i++){\r\n            let j = i\r\n            while (j < diff && remainder > 0){\r\n              spacing_arr[j] += 1 \r\n              remainder -= 1 \r\n              j += 2 \r\n            }\r\n          }\r\n          let i = 0 \r\n          let idx = 0 \r\n          while(i < diff){\r\n            sTopCurr[idx] = 1\r\n            sTopCurr[idx+1] = 0\r\n            sTopCurr[idx+2] = -1\r\n            idx += spacing_arr[i] + 3\r\n            i += 1 \r\n          }\r\n          let last_idx = 1\r\n          for (let i = 0; i < spacing_arr.length-1; i ++){\r\n            sBottomCurr[last_idx + spacing_arr[i] + 1] = 1\r\n            sBottomCurr[last_idx + spacing_arr[i] + 2] = -1\r\n            last_idx = last_idx + spacing_arr[i] + 2\r\n          }  \r\n          specialTop.unshift(sTopCurr)\r\n          specialBottom.unshift(sBottomCurr)  \r\n          increasing.unshift(false)\r\n        }\r\n      }\r\n      if (formObject.model === \"fig\"){\r\n        specialTop[specialTop.length-1] = {}\r\n        specialBottom[specialBottom.length-1] = {}\r\n      } \r\n      specialTop.unshift({})\r\n      specialBottom.push({})\r\n      increasing.push(false)\r\n    }\r\n\r\n    let sections = [];\r\n  \r\n    if (formObject.coloringFormData.length === 0){\r\n      for (let i = 0; i < dimensions.length; i++) {\r\n        formObject.addDrawingSection()\r\n      }\r\n    }\r\n    for (let i = 0; i < dimensions.length; i++) {\r\n      formObject.coloringFormData[i].setWidthHeight(dimensions[i][0], dimensions[i][1])\r\n      formObject.coloringFormData[i].setIncreasing(increasing[i])\r\n      let caption = false\r\n      if (formObject.model === \"fig\" && i === dimensions.length-1) caption = \"figurine body\"\r\n      sections.push(<DrawingSection key={i} caption={caption} specialTop = {specialTop[i]} specialBottom = {specialBottom[i]} formObject={formObject} DrawingSectionModel={formObject.coloringFormData[i]} />);\r\n    }\r\n    return (\r\n      <div id=\"origamiObject\">\r\n        <div id=\"sections\" ref={objectRef}>\r\n          <p id=\"text\">{caption}</p>\r\n          {sections}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default observer(OrigamiObject)","export default __webpack_public_path__ + \"static/media/rim.90d28599.png\";","export default __webpack_public_path__ + \"static/media/halfRim.934ee4ec.png\";","export default __webpack_public_path__ + \"static/media/neck.d9f33158.png\";","import React from \"react\";\r\nimport rim_image from \"../../assets/rim.png\";\r\nimport half_rim_image from \"../../assets/halfRim.png\";\r\nimport neck_image from \"../../assets/neck.png\"\r\nimport \"./rim.css\"\r\nimport \"../DrawingSection/drawingSection.css\"\r\n\r\n\r\nconst Rim = (props) => {\r\n    const {swan, full, caption, circ} = props \r\n    return (\r\n        <div className=\"rimDiv\">\r\n            <p id=\"text\">{caption}</p>\r\n            {full && <img src={rim_image} className=\"rim\" />}\r\n            {!full && !swan  && <img src={half_rim_image} className=\"half_rim\" />}\r\n            {swan && <img src={neck_image} className=\"neck\" />} \r\n            <p id=\"text\">{circ} pieces</p>\r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default Rim;","  \r\nimport React, { useRef, useEffect } from \"react\";\r\nimport \"../DrawingSection/drawingSection.css\";\r\nimport UntrackedRow from \"../UntrackedRow\";\r\nimport SpecialRow from \"../SpecialRow\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nconst UntrackedDrawingSection = (props) => {\r\n  const {arm, open, bunny, specialTop, specialBottom, increasing, formObject, dimensions} = props;\r\n\r\n  let rows = []; \r\n  let inverted = false\r\n\r\n  if (!bunny) rows.push(<SpecialRow key={-1} offset={0} width={dimensions[0]} specialTop={specialTop} />)\r\n  \r\n  for (let i = 0; i < dimensions[1]; i++) {\r\n    arm && i == dimensions[1]-1 ? inverted = true : inverted = false\r\n    if (i%2 == 1){\r\n      let numPx = dimensions[0]\r\n      if (open) numPx -= 1\r\n      rows.push(<UntrackedRow key={i} numPx={numPx} offset={10.5} formObject={formObject} display={dimensions[1]-i} inverted={inverted}/>);\r\n    }\r\n    else{ \r\n      rows.push(<UntrackedRow key={i} numPx={dimensions[0]} offset={0} formObject={formObject} display={dimensions[1]-i} inverted={inverted}/>);\r\n    }\r\n  }\r\n  \r\n  if(increasing){\r\n    if (dimensions[1]%2 == 1){\r\n      rows.push(<SpecialRow key={dimensions[1]} offset={10.5} width={dimensions[0]} specialBottom={specialBottom} />)\r\n    } else {\r\n      rows.push(<SpecialRow key={dimensions[1]} offset={10.5*2} width={dimensions[0]} specialBottom={specialBottom} />)\r\n    }\r\n  }\r\n  else{\r\n    if (dimensions[1]%2 == 1){\r\n      rows.push(<SpecialRow key={dimensions[1]} offset={0} width={dimensions[0]} specialBottom={specialBottom} />)\r\n    } else {\r\n      rows.push(<SpecialRow key={dimensions[1]} offset={10.5} width={dimensions[0]} specialBottom={specialBottom} />)\r\n    }\r\n  } \r\n\r\n  return (\r\n    <div id=\"drawingSection\" >\r\n      <div id=\"pixels\" style={{marginBottom: 10, marginLeft: 40, marginRight: 40}}>\r\n        {rows}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default observer(UntrackedDrawingSection)","import React, {useRef} from 'react';\r\nimport UntrackedDrawingSection from \"../UntrackedDrawingSection\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nconst UntrackedOrigamiObject = (props) => {\r\n    const {dimensions, formObject} = props;\r\n  \r\n    let increasing = []\r\n    let specialTop = []\r\n    let specialBottom = []\r\n\r\n    for (let i = dimensions.length-2; i >= 0; i--){\r\n      let sTopCurr = {}\r\n      let sBottomCurr = {}\r\n\r\n      const curr = dimensions[i+1][0]\r\n      const next = dimensions[i][0]\r\n      let diff = next-curr // number of pieces need to add or subtract \r\n\r\n      let distribute = 0 \r\n      let remainder = 0\r\n      let spacing = 0\r\n      \r\n      if (diff == 0){\r\n        specialTop = Array(dimensions.length).fill({})\r\n        specialBottom = Array(dimensions.length).fill({})\r\n      }\r\n      else if (diff > 0){ // increasing - 2 pcs per increase\r\n        sBottomCurr  = {0: 1, 1: 0, 2: -1}\r\n        distribute = curr - (2 * diff)// pieces left to distribute for spacing \r\n        remainder = distribute >= 0 ? distribute % diff : curr-diff\r\n        spacing = Math.floor(distribute/diff)\r\n        let spacing_arr = Array(diff).fill(spacing)\r\n        for (let i = 0; i < 2; i++){\r\n          let j = i\r\n          while (j < diff && remainder > 0){\r\n            spacing_arr[j] += 1 \r\n            remainder -= 1 \r\n            j += 2 \r\n          }\r\n        }\r\n        let i = 0 \r\n        let idx = 0 \r\n        while(i < diff){\r\n          sTopCurr[idx] = 1\r\n          sTopCurr[idx+1] = -1\r\n          idx += spacing_arr[i] + 2\r\n          i += 1 \r\n        }\r\n        let last_idx = 2\r\n        for (let i = 0; i < spacing_arr.length-1; i ++){\r\n          sBottomCurr[last_idx + spacing_arr[i] + 1] = 1\r\n          sBottomCurr[last_idx + spacing_arr[i] + 2] = 0\r\n          sBottomCurr[last_idx + spacing_arr[i] + 3] = -1\r\n          last_idx = last_idx + spacing_arr[i] + 3\r\n        }  \r\n        specialTop.unshift(sTopCurr)\r\n        specialBottom.unshift(sBottomCurr)    \r\n        increasing.unshift(true) \r\n      } \r\n      else { // decreasing \r\n        sBottomCurr = {0: 1, 1: -1}\r\n        diff = -1 * diff\r\n        distribute = curr - (3 * diff)\r\n        remainder = distribute % diff\r\n        spacing = Math.floor(distribute/diff)\r\n        let spacing_arr = Array(diff).fill(spacing)\r\n        for (let i = 0; i < 2; i++){\r\n          let j = i\r\n          while (j < diff && remainder > 0){\r\n            spacing_arr[j] += 1 \r\n            remainder -= 1 \r\n            j += 2 \r\n          }\r\n        }\r\n        let i = 0 \r\n        let idx = 0 \r\n        while(i < diff){\r\n          sTopCurr[idx] = 1\r\n          sTopCurr[idx+1] = 0\r\n          sTopCurr[idx+2] = -1\r\n          idx += spacing_arr[i] + 3\r\n          i += 1 \r\n        }\r\n        let last_idx = 1\r\n        for (let i = 0; i < spacing_arr.length-1; i ++){\r\n          sBottomCurr[last_idx + spacing_arr[i] + 1] = 1\r\n          sBottomCurr[last_idx + spacing_arr[i] + 2] = -1\r\n          last_idx = last_idx + spacing_arr[i] + 2\r\n        }  \r\n        specialTop.unshift(sTopCurr)\r\n        specialBottom.unshift(sBottomCurr)  \r\n        increasing.unshift(false)\r\n      }\r\n    }\r\n    specialTop.unshift({})\r\n    specialBottom.push({})\r\n    increasing.push(false)\r\n\r\n    let sections = [];\r\n  \r\n    for (let i = 0; i < dimensions.length; i++) {\r\n      sections.push(<UntrackedDrawingSection key={i} specialTop = {specialTop[i]} specialBottom = {specialBottom[i]} increasing={increasing[i]} formObject={formObject} dimensions={dimensions[i]}/>);\r\n    }\r\n    return (\r\n      <div id=\"origamiObject\">\r\n        {sections}\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default observer(UntrackedOrigamiObject)","import React from \"react\";\r\nimport UntrackedOrigamiObject from \"../UntrackedOrigamiObject\";\r\nimport \"../DrawingSection/drawingSection.css\"\r\n\r\nconst Bottom = (props) => {\r\n    const {flat, circ, caption, formObject} = props \r\n    let object = <div></div>\r\n    let dimensions = []\r\n\r\n    if (flat){\r\n        dimensions = [[50,12],[40,11],[42,5]] // top to bottom \r\n        object = <UntrackedOrigamiObject dimensions={dimensions} formObject={formObject} />\r\n    }\r\n    else{\r\n        // curved bottom/lid for basket\r\n        dimensions = [[50,12],[30,11],[20,5]] // top to bottom \r\n        object = <UntrackedOrigamiObject dimensions={dimensions} formObject={formObject} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <p id=\"text\">{caption}</p>\r\n            {object}\r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default Bottom;","import React from \"react\";\r\nimport UntrackedDrawingSection from \"../UntrackedDrawingSection\";\r\nimport \"../DrawingSection/drawingSection.css\"\r\n\r\nconst Arm = (props) => {\r\n    const {caption, size, formObject} = props;\r\n    const dimensions = [10,4] // top to bottom \r\n    const object = <UntrackedDrawingSection arm={true} specialTop = {[]} specialBottom = {[]} formObject={formObject} dimensions={dimensions}/>\r\n\r\n    return (\r\n        <div>\r\n            <p id=\"text\">{caption}</p>\r\n            {object}\r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default Arm;","import React from \"react\";\r\nimport UntrackedDrawingSection from \"../UntrackedDrawingSection\";\r\nimport \"../DrawingSection/drawingSection.css\"\r\n\r\nconst BunnyOrHandle = (props) => {\r\n    const {caption, size, formObject} = props;\r\n    let object = <div></div>\r\n    let sz = 0\r\n    let w_sz = 0\r\n    let input_sz = 0\r\n    const lim = 50\r\n\r\n    if (caption == \"bunny ear\"){\r\n        // height has to be odd number\r\n        object = <UntrackedDrawingSection bunny={true} open={true} specialTop={[]} specialBottom={[]} formObject={formObject} dimensions={[size,11]} />\r\n    }\r\n    else {\r\n        sz = size*21\r\n        input_sz = Math.min(sz, lim)\r\n        w_sz = size/2 \r\n        object = <UntrackedDrawingSection open={true} specialTop={[]} specialBottom={[]} formObject={formObject} dimensions={[w_sz,input_sz]} />\r\n    }\r\n\r\n    return (\r\n      // <div style={{width: (w_sz+2)*21*1.5, marginBottom: -input_sz*(Math.min(6.5, 0.08*input_sz)), marginTop: -input_sz*(Math.min(6.5, 0.08*input_sz)), marginLeft: (input_sz*7)}}>\r\n      //   <div id=\"drawingSectionRotated\">\r\n      //     {sz > lim && <p id=\"text\">+ {sz-lim} more rows ...</p>}\r\n      //     {object}\r\n      //   </div>\r\n      // </div>    \r\n      <div>\r\n        <p id=\"text\">{caption}</p>\r\n        {object}\r\n        {sz > lim && <p id=\"text\">+ {sz-lim} more rows ...</p>}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default BunnyOrHandle;","import React from \"react\";\r\nimport UntrackedOrigamiObject from \"../UntrackedOrigamiObject\";\r\nimport \"../DrawingSection/drawingSection.css\"\r\n\r\nconst Sphere = (props) => {\r\n    const {size, caption, formObject} = props \r\n    let object = <div></div>\r\n    let dimensions = []\r\n\r\n    function calc(){\r\n        return [[6,5],[8,5],[5,5]]\r\n    }\r\n\r\n    // curved Sphere/lid for basket\r\n    dimensions = calc() // top to Sphere \r\n    object = <UntrackedOrigamiObject dimensions={dimensions} formObject={formObject} />\r\n\r\n    return (\r\n        <div>\r\n            <p id=\"text\">{caption}</p>\r\n            {object}\r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default Sphere;","import React from 'react';\r\nimport { observer } from \"mobx-react\";\r\nimport Rim from \"../Rim\";\r\nimport Bottom from \"../Bottom\";\r\nimport Arm from \"../Arm\"\r\nimport BunnyOrHandle from \"../BunnyOrHandle\"\r\nimport TriangleSection from \"../TriangleSection\"\r\nimport Sphere from \"../Sphere\"\r\n\r\nconst Appendages = (props) => {\r\n    const {modelStore, formObject} = props;\r\n  \r\n    let bottoms = []\r\n    let sections = []\r\n    let rims = []\r\n    let key = 0\r\n\r\n    // top_rim, bottom_rim, flat_bottom, arms, ears, lid, top_handle, side_handles\r\n\r\n    if (modelStore.flat_bottom){\r\n      const circ = modelStore.getDimensions()[modelStore.getDimensions().length-1][0]\r\n      bottoms.push(<Bottom key={key} caption={\"flat bottom\"} flat={true} circ={circ} lid={false} formObject={formObject}/>) // circ = circumfrence\r\n      key += 1\r\n    }\r\n    else if (formObject.model === \"basket\"){\r\n      const circ = modelStore.getDimensions()[modelStore.getDimensions().length-1][0]\r\n      bottoms.push(<Bottom key={key} caption={\"curved bottom\"} flat={false} circ={circ} lid={false} formObject={formObject}/>)\r\n      key += 1\r\n    }\r\n    if (modelStore.lid){\r\n      const circ = modelStore.getDimensions()[0][0]\r\n      bottoms.push(<Bottom key={key} caption={\"lid\"} flat={false} circ={circ} formObject={formObject}/>)\r\n      key += 1\r\n      sections.push(<Sphere key={key} caption={\"lid handle\"} size={circ} formObject={formObject}/>)\r\n      key += 1\r\n    }\r\n    if (modelStore.top_handle){\r\n      const circ = modelStore.getDimensions()[0][0]\r\n      sections.push(<BunnyOrHandle key={key} caption={\"top handle\"} size={10} formObject={formObject}/>)\r\n      key += 1\r\n    }\r\n    if (modelStore.arms){\r\n      const circ = modelStore.getDimensions()[modelStore.getDimensions().length-1][0]\r\n      sections.push(<Arm key={key} caption={\"arm\"} size={circ} formObject={formObject}/>)\r\n      key += 1\r\n      sections.push(<Arm key={key} caption={\"arm\"} size={circ} formObject={formObject}/>)\r\n      key += 1\r\n    }\r\n    if (modelStore.ears !== \"\"){\r\n      const circ = modelStore.getDimensions()[modelStore.getDimensions().length-1][0] // make ears prop. to body circ\r\n      if (modelStore.ears === \"bear\"){\r\n        sections.push(<Rim key={key} full={false} caption={\"bear ear\"} circ={circ}/>)\r\n        key += 1\r\n        sections.push(<Rim key={key} full={false} caption={\"bear ear\"} circ={circ}/>)\r\n        key += 1 \r\n      }\r\n      else if (modelStore.ears === \"bunny\"){\r\n        sections.push(<BunnyOrHandle key={key} caption={\"bunny ear\"} size={10} formObject={formObject}/>)\r\n        key += 1\r\n        sections.push(<BunnyOrHandle key={key} caption={\"bunny ear\"} size={10} formObject={formObject}/>)\r\n      }\r\n      else if (modelStore.ears === \"sphere\"){\r\n        sections.push(<Sphere key={key} caption={\"round ear\"} size={circ} formObject={formObject}/>)\r\n        key += 1\r\n        sections.push(<Sphere key={key} caption={\"round ear\"} size={circ} formObject={formObject}/>)\r\n      }\r\n      else if (modelStore.ears === \"cat\"){\r\n        sections.push(<TriangleSection key={key} caption={\"cat ear\"} width={10} formObject={formObject} elevation={0} firstRowDisplay={true} inverted={false} />)\r\n        key += 1\r\n        sections.push(<TriangleSection key={key} caption={\"cat ear\"} width={10} formObject={formObject} elevation={0} firstRowDisplay={true} inverted={false} />)\r\n      }\r\n      key += 1\r\n    }\r\n    if (modelStore.side_handles){\r\n      const circ = modelStore.getDimensions()[0][0]\r\n      rims.push(<Rim key={key} full={false} caption={\"side handle\"} circ={circ}/>) // static picture\r\n      key += 1\r\n      rims.push(<Rim key={key} full={false} caption={\"side handle\"} circ={circ}/>) \r\n      key += 1\r\n    }\r\n    if (modelStore.top_rim){\r\n      rims.push(<Rim key={key} full={true} caption={\"top rim\"} circ={modelStore.getDimensions()[0][0]}/>) // static picture\r\n      key += 1\r\n    }\r\n    if (modelStore.bottom_rim){\r\n      const circ = modelStore.getDimensions()[modelStore.getDimensions().length-1][0]\r\n      rims.push(<Rim key={key} full={true} caption={\"bottom rim\"} circ={circ}/>) // static picture\r\n      key += 1\r\n    }\r\n    if (formObject.model === \"swan\"){\r\n      const circ = modelStore.getDimensions()[0][0]\r\n      rims.push(<Rim key={key} swan={true} caption={\"neck\"} circ={circ}/>) // static picture\r\n      key += 1\r\n    }\r\n\r\n    return (\r\n      <div id=\"Appendages\">\r\n        <div style={{display:\"inline-block\", marginLeft: 10.5, marginBottom: 3}}>\r\n          {bottoms}\r\n          <div style={{display:\"flex\", alignItems:\"flex-start\", marginLeft: 10.5, marginBottom: 3, justifyContent:\"flex-start\"}}>\r\n            {sections}\r\n            {rims}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default observer(Appendages)","import React, {useState, useRef, useEffect} from 'react';\r\nimport { TwitterPicker } from \"react-color\";\r\nimport OrigamiObject from \"../components/OrigamiObject\";\r\nimport \"./colouringPage.css\";\r\n// import premade from \"./premade\";\r\nimport Sticky from 'react-stickynode';\r\nimport { observer } from \"mobx-react\";\r\nimport logo from \"../assets/complex-logo.png\"\r\n// import {PlainLink as Link} from '../components/Navbar/NavbarElements';\r\nimport { AiOutlineInfo } from \"react-icons/ai\";\r\nimport { FiTrash } from \"react-icons/fi\";\r\nimport { IoChevronForward, IoChevronBack } from \"react-icons/io5\";\r\nimport { exportComponentAsPNG } from \"react-component-export-image\";\r\nimport {useStores} from \"../models/RootStoreContext\"\r\nimport DelayLink from 'react-delay-link';\r\nimport Appendages from \"../components/Appendages\";\r\n\r\n\r\nconst Colouring = () => {\r\n  const [showInfo, setShowInfo] = useState(false);\r\n  const [showPicker, setShowPicker] = useState(false);\r\n  const [showPickerDefault, setShowPickerDefault] = useState(false);\r\n  const [colorPaletteIdx, setColorIdx] = useState(0);\r\n  const [dColorPaletteIdx, setDColorIdx] = useState(0);\r\n  const [colorPalette, setColorPalette] = useState(['#FF6900', '#FCB900', '#7BDCB5', '#00D084', '#8ED1FC', '#0693E3', '#ABB8C3', '#EB144C', '#F78DA7', '#9900EF']) \r\n  const [dColorPalette, setDColorPalette] = useState(['#FF6900', '#FCB900', '#7BDCB5', '#00D084', '#8ED1FC', '#0693E3', '#ABB8C3', '#EB144C', '#F78DA7', '#9900EF'])\r\n  \r\n  // useEffect(() => {\r\n  //   // // coloringFormData = drawing sections\r\n  //   // // drawingSectionData = rows\r\n  //   // // rowData = pixels\r\n  //   // if (coloringFormStore.preload){\r\n  //   //   for (let i = 0; i < premade[\"swan1\"][0].length; i++){\r\n  //   //     const curr_px = premade[\"swan1\"][0][i]\r\n  //   //     coloringFormStore.coloringFormData[curr_px[0]].drawingSectionData[curr_px[1]].rowData[curr_px[2]].setPixelColor(curr_px[3])\r\n  //   //   }\r\n  //   // }\r\n  //   coloringFormStore.setMsg(\"error\")\r\n  // }, [])\r\n\r\n  const diagramRef = useRef();\r\n  const appendagesRef = useRef();\r\n  const {coloringFormStore, vaseStore, swanStore, figStore, basketStore} = useStores();\r\n  let modelStore;\r\n  if (coloringFormStore.model === \"vase\") modelStore = vaseStore\r\n  if (coloringFormStore.model === \"swan\") modelStore = swanStore\r\n  else if (coloringFormStore.model === \"fig\") modelStore = figStore\r\n  else if (coloringFormStore.model === \"basket\") modelStore = basketStore\r\n\r\n  function changeColor(color) {\r\n    const search = (color.hex).toString().toUpperCase()\r\n    coloringFormStore.setColor(search);\r\n    if (!colorPalette.includes(search)){\r\n      let new_palette = colorPalette\r\n      new_palette[colorPaletteIdx] = search\r\n      setColorPalette(new_palette)\r\n      const new_idx = (colorPaletteIdx + 1) % 10\r\n      setColorIdx(new_idx)\r\n    }\r\n  }\r\n\r\n  function changeDefaultColor(color) {\r\n    const search = (color.hex).toString().toUpperCase()\r\n    coloringFormStore.setDefaultColor(search);\r\n    if (!dColorPalette.includes(search)){\r\n      let new_palette = dColorPalette\r\n      new_palette[dColorPaletteIdx] = search\r\n      setDColorPalette(new_palette)\r\n      const new_idx = (dColorPaletteIdx + 1) % 10\r\n      setDColorIdx(new_idx)\r\n    }\r\n  }\r\n\r\n  const myDimensions = modelStore.getDimensions();\r\n  const absolute = coloringFormStore.maxWidth > 52 ? true : false \r\n\r\n  let myHeight = 0 \r\n  const myYMargin = 20\r\n  const px_y = 13\r\n  const px_border = 1\r\n  const marker_y = 20\r\n\r\n  for (let i = 0; i < myDimensions.length; i++){\r\n    const y = myDimensions[i][1]\r\n    myHeight += (y * (px_y + px_border)) + (1.5*myYMargin) + (2*marker_y)\r\n  }\r\n\r\n  if (coloringFormStore.model === \"swan\"){\r\n    myHeight += (swanStore.modelDimensions[0][0] * 0.75 * (px_y + px_border) * 1.2)\r\n    myHeight += 600\r\n  }\r\n\r\n  else if (coloringFormStore.model === \"fig\"){\r\n    myHeight *= 2\r\n  }\r\n\r\n  if (modelStore.flat_bottom || coloringFormStore.model === \"basket\"){\r\n    myHeight *= 2\r\n    if(modelStore.lid){\r\n      myHeight *= 2\r\n    }\r\n  }\r\n\r\n  if ((modelStore.top_rim || modelStore.bottom_rim) && ! coloringFormStore.model === \"swan\"){\r\n    myHeight += 600\r\n  }\r\n\r\n  myHeight += coloringFormStore.counter.length * 55\r\n\r\n  const colorPicker = <div className = \"color-picker-object\">\r\n      <p className = \"label-big\">pixel color</p>\r\n      <div className = \"color-picker-cover\"\r\n        onClick={()=> setShowPicker(!showPicker)} \r\n        style={{background: coloringFormStore.selectedColor}}\r\n      >\r\n        <br />\r\n      </div>\r\n      <div className = \"color-picker-palette\">\r\n        {showPicker &&  <TwitterPicker colors={colorPalette} triangle=\"top-left\" color={coloringFormStore.selectedColor} onChangeComplete={changeColor} />}\r\n      </div>\r\n    </div>\r\n  \r\n  const defaultColorPicker = <div className = \"color-picker-object\">\r\n      <p className = \"label-big\">primary color</p>\r\n      <div className = \"color-picker-cover\"\r\n        onClick={() => setShowPickerDefault(!showPickerDefault)} \r\n        style={{background: coloringFormStore.defaultColor}}\r\n      >\r\n        <br />\r\n      </div>\r\n      <div className = \"color-picker-palette-d\" >\r\n        {showPickerDefault &&  <TwitterPicker colors={dColorPalette} triangle=\"top-left\" color={coloringFormStore.defaultColor} onChangeComplete={changeDefaultColor} />}\r\n      </div>\r\n    </div>\r\n\r\n  const paintByPixel = \r\n  <div className = \"mode-object\">\r\n    <div className = \"mode-button\"\r\n      onClick={() => coloringFormStore.setMode(false)}> \r\n      <p className = \"label-inside\">paint by pixel</p>\r\n    </div>\r\n  </div>\r\n\r\n  const sprayPaint = \r\n  <div className = \"mode-object\">\r\n    <div className = \"mode-button\"\r\n      onClick={() => coloringFormStore.setMode(true)}> \r\n      <p className = \"label-inside\">spray paint</p>\r\n    </div>\r\n  </div>\r\n\r\n  const logoObject = <div className = \"logo-object\">\r\n    <p className = \"label\" >3d-o</p>\r\n    <img className = \"logo\" src={logo} onClick={() => savePics()} alt=\"\"/>\r\n    {showInfo && <div className=\"info-popup\">info here</div>}\r\n  </div>  \r\n\r\n  function savePics(){\r\n    exportComponentAsPNG(diagramRef, {fileName: \"3do-diagram\"})\r\n    exportComponentAsPNG(appendagesRef, {fileName: \"3do-diagram-appendages\"})\r\n  }\r\n\r\n  const backButton = \r\n  <div className = \"back\">\r\n    <div className = \"nav\" onClick={() => console.log(\"hi\")}> \r\n      <IoChevronBack size={25} style={{color: 'white'}}/>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  const nextButton = \r\n  <div className = \"next\">\r\n    <DelayLink delay={0} to=\"/result\" clickAction={nextPage} replace={false}>\r\n      <div className = \"nav\"> \r\n          <IoChevronForward size={25} style={{color: 'white'}}/>\r\n      </div>\r\n    </DelayLink>\r\n  </div>\r\n\r\n  function nextPage(){\r\n    coloringFormStore.setMsg(true)\r\n    coloringFormStore.exportComponent(diagramRef)\r\n    coloringFormStore.exportComponent(appendagesRef, true)\r\n  }\r\n\r\n  const clear = <div className = \"logo-object\">\r\n    <p className = \"label\">clear</p>\r\n    <div className = \"icon\"\r\n      onClick={()=> coloringFormStore.clearAll()} >\r\n      <FiTrash  size={20} style={{color: 'white'}}/>\r\n      <br />\r\n    </div>\r\n  </div>\r\n\r\n  const info = <div className = \"logo-object\">\r\n  <p className = \"label\">info</p>\r\n  <div className = \"icon\"\r\n    onClick={()=> setShowInfo(!showInfo)} \r\n    >\r\n    <AiOutlineInfo size={23} style={{color: 'white'}}/>\r\n  </div>\r\n  </div>\r\n\r\n  let caption = `${coloringFormStore.model}`\r\n  if (coloringFormStore.model === \"fig\"){\r\n    caption = \"figurine head\"\r\n  }\r\n  else if (coloringFormStore.model === \"swan\"){\r\n    caption = \"swan wings + body\"\r\n  }\r\n\r\n  function colorEntry(key, col, num){\r\n    let sheets = Math.ceil(parseInt(num)/coloringFormStore.size)\r\n    let sheetsString = \"\"\r\n    sheets > 1 ? sheetsString = \"sheets\" : sheetsString = \"sheet\"\r\n    let pieces = \"\"\r\n    parseInt(num) > 1 ? pieces = \"pieces\" : pieces = \"piece\"\r\n    return <div key={key} style={{display:'inline-block', width: '100%'}}>\r\n      \r\n      <p style={{marginTop:10, marginBottom:0, marginLeft:20, float:\"right\"}}>{num} {pieces}, {sheets} {sheetsString}</p>\r\n      <div style={{marginTop:5, marginBottom:5, borderRadius: 25, height: 35, width: 35, background: col, float:\"right\"}}></div>\r\n    </div>\r\n  }\r\n\r\n  //\"#FFE7E5\"\r\n  const stats = \r\n  <div>\r\n    <p id=\"text\"> project statistics + instructions </p>\r\n    <div style={{width: '100%', display:'inline-block'}}>\r\n      <div id=\"text\" style={{marginTop:0, marginBottom:0, marginRight: 0, width: '500px', background: \"#FFE7E5\", float:\"left\"}}>placeholder</div>\r\n      <div id=\"text\" style={{marginTop:0, marginBottom:0, marginLeft: 0, width: '500px', background: \"#FFE7E5\", float:\"right\"}}>\r\n        <div>\r\n          {coloringFormStore.counter.map((col, i) => (\r\n          colorEntry(i, col[0], col[1])\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  const canvas = absolute? \r\n  <div className = \"canvas\">\r\n    <div ref = {diagramRef}>\r\n      {stats}\r\n      <OrigamiObject \r\n        caption={`${caption}`}\r\n        dimensions={myDimensions}  \r\n        formObject={coloringFormStore}\r\n      />\r\n    </div>\r\n    <div ref = {appendagesRef}>\r\n      <Appendages \r\n        dimensions={myDimensions}\r\n        modelStore={modelStore}\r\n        formObject={coloringFormStore}\r\n      />\r\n    </div>\r\n  </div> : \r\n  <div className = \"canvas-relative\">\r\n    <div ref = {diagramRef}>\r\n      {stats}\r\n      <OrigamiObject \r\n        caption={`${caption}`}\r\n        dimensions={myDimensions}  \r\n        formObject={coloringFormStore}\r\n      />\r\n    </div>\r\n    <div ref = {appendagesRef}>\r\n      <Appendages \r\n        dimensions={myDimensions}\r\n        modelStore={modelStore}\r\n        formObject={coloringFormStore}\r\n      />\r\n    </div>\r\n  </div>\r\n\r\n  return (\r\n    <div className=\"bg\">\r\n      <Sticky innerZ={3}>\r\n        <div className = \"toolbar\">\r\n          {backButton}\r\n          {paintByPixel}\r\n          {clear}\r\n          {colorPicker}\r\n          {logoObject}\r\n          {defaultColorPicker}\r\n          {info}\r\n          {sprayPaint}\r\n          {nextButton}\r\n        </div>\r\n      </Sticky>\r\n      <div style={{position: 'relative', overflowX:'scroll', overflowY:'hidden', height: myHeight, background:\"#FFE7E5\"}}>\r\n        {canvas}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(Colouring);","import React, { Component } from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport '../App.css'\r\nimport { BrowserRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\r\nimport Home from '../pages';\r\nimport Colouring from '../pages/colouring'\r\n// import makeInspectable from \"mobx-devtools-mst\";\r\nimport RootStore from \"../models/RootStore\";\r\nimport {RootStoreProvider} from \"../models/RootStoreContext\"\r\n\r\n\r\nconst rootStore = RootStore.create()\r\n\r\n// makeInspectable(vase);\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div style={{background: \"#FFE7E5\"}}>\r\n        <RootStoreProvider value={rootStore}>\r\n          <Router>\r\n            <Switch>\r\n              <Route path='/colouring'>\r\n                {rootStore.coloringFormStore.msg === \"error\" ? <Redirect to=\"/create\"/> : <Colouring />}\r\n              </Route>\r\n              <Route path='/'>\r\n                <Home/>\r\n              </Route>\r\n            </Switch>\r\n          </Router>\r\n        </RootStoreProvider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default observer(App);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n// registerServiceWorker();\r\n"],"sourceRoot":""}